/*! For license information please see packages_package.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[4784],{738:(e,t,r)=>{"use strict";var n=r(96540),o=r(5338),a=r(10900),i=r(76803),s=r(83709),c=r(86440),l=r(53809),d=r(30736),u=r(10159),p=r(2118),m=r(4589),h=r(74848);var f=r(15357),g=r(18205),_=r(57261),y=r(29956),v=r(26527),b=r(11680),x=r(46190),w=r(46942),k=r.n(w);r(57788),r(35592),r(95384);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var N=function(e){var t=e.menuItem,r=(e.callback,e.i),o=e.totalNoItems,a=j((0,n.useState)(!0),2),i=a[0],s=a[1];return(0,h.jsx)("div",{className:"menu-item-modalmobile",children:(0,h.jsxs)("div",{className:"menu-item-inner-modalmobile",onClick:function(){},children:[(0,h.jsx)("header",{style:{backgroundImage:"url(".concat(I("small/"+t.image),")")}}),(0,h.jsx)("div",{className:"menu-item-contents-modalmobile",onClick:function(){return s(!i)},children:(0,h.jsxs)("div",{className:"menu-item-contents-modalmobile-inner",children:[(0,h.jsxs)("div",{hidden:!i,className:k()("menu-item-subtitle-modalmobile","shortversion",{"pr-0":t.subtitle.length<5}),children:[(0,h.jsxs)("span",{style:{fontWeight:"bolder",color:"white"},children:[r+1," / ",o,"   ",t.name]}),"   ",t.subtitle]}),(0,h.jsxs)("div",{hidden:i,className:"menu-item-subtitle-modalmobile",children:[(0,h.jsxs)("span",{style:{fontWeight:"bolder",color:"white"},children:[r+1," / ",o,"   ",t.name]}),(0,h.jsxs)("span",{style:{fontWeight:"lighter"},children:["  ",t.subtitle,"                  "]})]}),(0,h.jsx)("button",{hidden:t.subtitle.length<5,className:"menu-item-viewmore-button",children:i?"View more":"View Less"})]})})]})},t.id)};function A(e,t,r){var n=e.food_menu_items.sort((function(e,t){return e.display_order-t.display_order})),o=u.Fr?{height:t}:{};return(0,h.jsxs)("div",{className:"menu-section",style:o,children:[(0,h.jsx)("header",{className:"hidden visible-mobile mobile-view-food-section-top-banner",style:{backgroundImage:"url(".concat(I("categories/"+e.image),")")}}),(0,h.jsx)(g.A,{nativeMobileScroll:!0,className:"menu-items",children:n.map((function(e,t){return function(e,t){return(0,h.jsx)("div",{className:"menu-item",children:(0,h.jsxs)("div",{className:"menu-item-inner",onClick:t,children:[(0,h.jsx)("header",{style:{backgroundImage:"url(".concat(I("small/"+e.image),")")}}),(0,h.jsx)("div",{className:"menu-item-contents",children:(0,h.jsxs)("div",{className:k()("menu-item-subtitle"),children:[(0,h.jsx)("span",{className:"menu-item-name",children:(0,a.Ay)(e.name)}),(0,h.jsx)("span",{className:"menu-item-desc",children:e.subtitle})]})})]})},e.id)}(e,(function(){return r(t)}))}))})]})}function I(e){return"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/food_menu/").concat(e)}function E(e){var t=e.foodMenu,r=e.foodMenuCourseTitle;if(!t||0===t.length)return"";var o=t.sort((function(e,t){return e.display_order-t.display_order})),a=j((0,n.useState)(!1),2),i=a[0],s=a[1],c=j((0,n.useState)(!0),2),l=c[0],d=c[1],p=j((0,n.useState)(0),2),m=p[0],w=p[1],S=j((0,n.useState)(0),2),E=S[0],O=S[1],T=j((0,n.useState)(0),2),L=T[0],B=T[1],P=j((0,n.useState)(0),2),q=P[0],C=P[1],M=j((0,n.useState)(112),2),D=M[0],Y=M[1],F=j((0,n.useState)(null),2),R=F[0],H=F[1],z=n.useRef(null),$=function(){B(document.getElementsByClassName("menu-section-tabs")[0].scrollLeft)},G=function(e){e?(history.pushState(null,null,location.href),window.onpopstate=function(){s(!1)}):window.onpopstate=function(){},s(e),setTimeout((function(){return d(!1)}),500)};function U(){var e=o.filter((function(e,t){return t===m}));if(0!==e.length)return e[0]}function Q(e){var t=U();if(!t)return 0;return t.food_menu_items.length<=e?0:e<0?t.food_menu_items.length-1:Math.max(0,Math.min(t.food_menu_items.length-1,e))}function W(){var e=document.getElementsByClassName("menu-items")[0];Y((e.offsetHeight<=0?u.Fr?250:190:e.offsetHeight)+112)}function V(e){0===e&&document.querySelector(".menu-items").scrollTo(0,0),O(Q(e))}(0,n.useEffect)((function(){var e=U(),t=[];if(e.food_menu_items)for(var r in e.food_menu_items)t.push({src:I("big/".concat(e.food_menu_items[r].image)),title:e.food_menu_items[r].name,description:"".concat(e.food_menu_items[r].subtitle)});return H(t),setTimeout((function(){var e=document.getElementsByClassName("menu-section-tabs")[0];C(e.scrollWidth-e.clientWidth),e.addEventListener("scroll",$),W()}),500),function(){menu_section_div.removeEventListener("scroll",(function(){}))}}),[]),(0,n.useEffect)((function(){for(var e,t=0;e=document.querySelectorAll(".menu-item-name")[t];t++){var r=e.offsetHeight/15,n=u.Fr?5:6,o="is-safari-".concat(n-parseInt(r));e.parentElement.classList.contains(o)||e.parentElement.classList.add(o)}W()}),[m]);var K=U();K.food_menu_items[Q(E)],K.food_menu_items[Q(E+1)],K.food_menu_items[Q(E-1)];return(0,h.jsx)("div",{className:"mt-3 event-detail-wrapper",id:"food-menu-carousel",children:(0,h.jsxs)("div",{className:"tour-sights-container mt-3 food-section-container",children:[(0,h.jsx)("h3",{className:"food-menu-course-title",children:r}),(0,h.jsxs)("div",{className:"menu-section-navigation-container",children:[(0,h.jsx)("button",{className:"menu-section-navigation-buttons left-button",hidden:0==L}),(0,h.jsx)("div",{onClick:function(){document.getElementsByClassName("menu-section-tabs")[0].scrollLeft=0},hidden:0==L,className:"left-caret-icon"}),(0,h.jsx)(g.A,{nativeMobileScroll:!0,className:"menu-section-tabs",children:o.map((function(e,t){var r=["menu-section-tab"];return t===m&&r.push("menu-section-tab--selected"),(0,h.jsxs)("div",{className:r.join(" "),onClick:function(){w(t),V(0);var r=e,n=[];if(r.food_menu_items)for(var o in r.food_menu_items)n.push({src:I("big/".concat(r.food_menu_items[o].image)),title:r.food_menu_items[o].name,description:"".concat(r.food_menu_items[o].subtitle)});H(n)},children:[e.name,(0,h.jsx)("div",{className:"active-section-indicator"})]},t)}))}),(0,h.jsx)("button",{className:"menu-section-navigation-buttons right-button",hidden:L==q}),(0,h.jsx)("div",{onClick:function(){document.getElementsByClassName("menu-section-tabs")[0].scrollLeft=q},hidden:L==q,className:"right-caret-icon"})]}),(0,h.jsx)("div",{className:"menu-sections",children:o.filter((function(e,t){return t===m})).map((function(e){return A(e,D,(function(e){V(e),G(!0)}))}))}),(0,h.jsx)("div",{className:"menu-disclaimer",children:"*Menu is subject to change and items on the menu are subject to availability. No outside food or drinks are allowed."}),i&&window.innerWidth>=1024&&R&&(0,h.jsx)(_.Ay,{index:E,open:i,close:function(){return G(!1)},slides:R,plugins:[y.A,v.A,b.A],animation:{zoom:500},zoom:{maxZoomPixelRatio:8,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:300,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!0},counter:{container:{style:{top:"unset",bottom:0}}},captions:{ref:z},on:{click:function(){var e,t,r,n;null===(e=null!==(t=z.current)&&void 0!==t&&t.visible?null===(r=z.current)||void 0===r?void 0:r.hide:null===(n=z.current)||void 0===n?void 0:n.show)||void 0===e||e()}}}),K&&i&&window.innerWidth<1024&&(0,h.jsxs)(f.A,{show:i,onHide:function(){return G(!1)},animation:!0,autoFocus:!0,centered:!0,className:k()("food-menu-carousel-modal",{"is-modal-loading":l}),children:[l&&(0,h.jsx)("div",{className:"image-loader-overlay",children:(0,h.jsx)(x.A,{size:50})}),(0,h.jsx)(f.A.Header,{children:(0,h.jsxs)("div",{className:"modal-header-title",children:[(0,h.jsx)("button",{type:"button",className:"close modal-header-close",onClick:function(){return G(!1)},children:(0,h.jsx)("i",{className:"fa fa-back-arrow"})}),(0,h.jsx)("span",{className:"modal-header-title-msg",children:K.name})]})}),(0,h.jsx)(f.A.Body,{children:(0,h.jsx)("div",{className:"product-images-collage-grid",children:!l&&K.food_menu_items.map((function(e,t){return(0,h.jsx)(N,{menuItem:e,callback:function(){return G(!1)},i:t,totalNoItems:K.food_menu_items.length},t)}))})})]})]})})}function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return(t=q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q(n.key),n)}}function q(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}function C(e,t,r){return t=D(t),function(e,t){if(t&&("object"==O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,M()?Reflect.construct(t,r||[],D(e).constructor):t.apply(e,r))}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(M=function(){return!!e})()}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function Y(e,t){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y(e,t)}var F=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=C(this,t,[e])).state={tour:r.props.tour,tours_length:r.props.tours,package:r.props.package,idx:r.props.idx,tourOpened:1==r.props.tours.length},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}(t,e),r=t,(n=[{key:"handlerMoveCursorMapSection",value:function(e){var t=0;t=u.Fr||u.v1?document.getElementById("map-container").offsetTop-document.getElementById("package-highlights-wrapper").offsetHeight:document.getElementById("map-container").offsetTop+250,window.scrollTo({top:t,behavior:"smooth"}),this.props.handlerRouteSelectedProductServiceComponent(e)}},{key:"showRouteStop",value:function(e){var t=this,r=[];if(e&&e.routes_product_det_page&&e.routes_product_det_page.length>0)for(var n=0;n<e.routes_product_det_page.length;n++)r.push((0,h.jsx)("a",{className:"stop-link route-stop-link",onClick:function(){t.handlerStopLinkCLick(e.transloc_id)},children:(0,a.Ay)("".concat(e.routes_product_det_page[n].name,": Stop #").concat(e.stop_number," <br />"))}));return r}},{key:"handlerStopLinkCLick",value:function(e){var t=0;t=u.Fr||u.v1?document.getElementById("map-container").offsetTop-document.getElementById("package-highlights-wrapper").offsetHeight:document.getElementById("map-container").offsetTop+document.getElementById("header-nav--wrapper").offsetHeight/2,window.scrollTo({top:t,behavior:"smooth"}),this.props.handleStopSelectedProductServiceComponent(e)}},{key:"tourIndentificatorClassName",value:function(e){switch(e.type){case"bus":return e.is_single_loop?"tour-bus-single-loop":e.hop_on_off_flag?"tour-bus-hopon-hopoff":e.hop_on_off_flag||e.hop_on_off_flag?"tour-bus-only":"tour-bus-non-single-loop-non-hopon-hopoff";case"boat":return"tour-boat";case"bike":return"tour-bike";case"activity":return"tour-activity";case"attraction":case"museum":return"tour-attraction"}return"tour-container"}},{key:"libertyCruisesOnboardAmenities",value:function(e){return 71==e.id||15==e.id||219==e.id?"Panoramic views on all decks":72==e.id||220==e.id?"Panoramic views":null}},{key:"render",value:function(){var e=this;return this.props.site&&this.state.tour&&this.state.tours_length&&this.state.tours_length.length>0&&(0,h.jsxs)(p.A,{className:"'card mb-0 panel ".concat(1==this.state.tours_length.length?"card-tours-footer":""," ").concat(this.tourIndentificatorClassName(this.state.tour),"  "),children:[(0,h.jsx)(p.A.Header,{onClick:function(){return e.setState({tourOpened:!e.state.tourOpened})},as:p.A.Header,variant:"tour-".concat(this.state.tour.slug),eventKey:this.state.idx,children:(0,h.jsxs)("h6",{className:"mb-0",children:[(0,h.jsx)("div",{className:"text-center d-inline-block",children:e.state.tour.icon_package_page?(0,h.jsx)("img",{className:"tour-icon",src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/").concat(e.state.tour.icon_package_page),alt:"Bus Icon"}):e.state.tour.hop_on_off_flag&&"single-ride-pass"!=e.state.package.slug?(0,h.jsx)("img",{className:"tour-icon",src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/hop-on-off.svg"),alt:"Bus Icon"}):"bus"==e.state.tour.type?(0,h.jsx)("img",{className:"tour-icon",src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/bus-icon.png"),alt:"Bus Icon"}):"bike"==e.state.tour.type?(0,h.jsx)("img",{className:"tour-icon",src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/bike-icon.png"),alt:"Bus Icon"}):"boat"==e.state.tour.type?(0,h.jsx)("img",{className:"tour-icon",src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/boat-icon.png"),alt:"Bus Icon"}):"attraction"==e.state.tour.type||"activity"==e.state.tour.type||"museum"==e.state.tour.type?(0,h.jsx)("img",{className:"tour-icon",src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/museum-icon.png"),alt:"Attraction Icon"}):void 0}),(0,a.Ay)(this.state.tour.name),this.state.tourOpened?(0,h.jsx)("i",{className:"fas fa-chevron-down"}):(0,h.jsx)("i",{className:"fas fa-chevron-right"})]})}),(0,h.jsx)(d.A.Collapse,{in:this.state.tourOpened,eventKey:this.state.idx,children:(0,h.jsxs)(p.A.Body,{children:[this.state.tour.tour_images&&this.state.tour.tour_images.length>1&&(0,h.jsxs)("div",{className:"carousel-overlay",children:[(0,h.jsx)("div",{className:"gallery__previous"}),(0,h.jsx)("div",{id:"".concat(this.state.tour.slug,"-carousel"),className:"tour-carousel",children:(0,h.jsx)(m.A,L(L({},{draggable:!0,slidesToShow:2,infinite:!0,swipeToSlide:!0,touchThreshold:100,autoplay:!1,speed:200,dots:!1,lazyLoad:!0,responsive:[{breakpoint:1200,settings:{slidesToShow:1,infinite:!0,slidesToScroll:1,dots:!0,dotsClass:"slick-dots",swipeToSlide:!0,touchThreshold:100,speed:300,lazyLoad:!0}}]}),{},{children:this.state.tour.tour_images.map((function(e,t){return(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/tours/").concat(e.image),alt:e.alt_text})},t)}))}))}),(0,h.jsx)("div",{className:"gallery__next"}),(0,h.jsx)("ul",{className:"slick-dots",children:this.state.tour.tour_images.map((function(e,t){}))})]}),(0,h.jsxs)("ul",{className:"tour-details  "+(this.state.tours_length.length>1?"lbc-tours-schedule-wrapper":""),children:[this.state.tour.departure_point&&""!=this.state.tour.departure_point&&(0,h.jsxs)("li",{className:"depature-point-wrapper",children:[(0,h.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,h.jsxs)("p",{className:"mb-0 tour-details-title",children:[(0,h.jsx)("strong",{children:"Departure Point: "}),(0,h.jsx)("span",{className:"tour-details-description",children:e.state.tour.hop_on_off_flag||"downtown-bus-tour-single-ride"==e.state.tour.slug?"Any stop along the route (Stop #".concat(e.state.tour.departure_stop,")"):(0,a.Ay)(e.state.tour.departure_point)})]})]}),this.state.tour.location&&(0,h.jsxs)("li",{className:"location-wrapper",children:[(0,h.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,h.jsxs)("p",{className:"mb-0 tour-details-title ",children:[(0,h.jsx)("strong",{children:"Location: "}),(0,h.jsx)("span",{className:"tour-details-description",children:(0,a.Ay)(this.state.tour.location)})]})]}),this.state.tour.hop_on_off_flag&&"single-ride-pass"!=this.state.package.slug&&(0,h.jsxs)("li",{className:"unlimited-hop-on-hop-off-wrapper",children:[(0,h.jsx)("i",{className:"fas fa-sync-alt"}),(0,h.jsx)("p",{className:"mb-0 tour-details-title",children:(0,h.jsx)("strong",{children:"Unlimited Hop-On Hop-Off"})})]}),this.state.tours_length&&this.state.tours_length.length>=1&&(0,h.jsxs)("li",{className:"duration-wrapper",children:[(0,h.jsx)("i",{className:"far fa-clock"}),(0,h.jsxs)("p",{className:"mb-0 tour-details-title",children:[e.state.tour.loops||"downtown-bus-tour-single-ride"==e.state.tour.slug?(0,h.jsx)("strong",{children:"Complete Loop Takes: "}):e.state.tour.duration_range?(0,h.jsx)("strong",{children:"Tour Duration: "}):"woodbury-common-premium-outlets"!=e.state.tour.slug&&e.state.departure_point?(0,a.Ay)(e.state.tour.departure_point):e.state.tour.departure_stop?" (Stop #".concat((0,a.Ay)(e.state.tour.departure_stop)," ) "):void 0,"attraction"==e.state.tour.type?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("strong",{children:"Average Visit Duration: "}),(0,h.jsx)("br",{})]}):"activity"!=e.state.tour.type||e.state.tour.duration_range?"bike"==e.state.tour.type?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("strong",{children:"Duration: "}),(0,h.jsx)("br",{})]}):void 0:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("strong",{children:"Average Duration: "}),(0,h.jsx)("br",{})]}),(0,h.jsxs)("span",{className:"tour-details-description",children:[!this.state.tour.duration_range&&(0,h.jsxs)(h.Fragment,{children:["bike "!=this.state.tour.type?"Approx. ":"",(0,a.Ay)(this.state.tour.duration_text?this.state.tour.duration_text:this.state.tour.duration)]}),this.state.tour.duration_range&&(0,a.Ay)(this.state.tour.duration_range)]})]})]}),this.state.tour.admission_included&&(0,h.jsxs)("li",{className:"admission-included",children:[(0,h.jsx)("i",{className:"tour-details-icon ticket-icon"}),(0,h.jsxs)("p",{className:"mb-0  tour-details-title",children:[(0,h.jsx)("strong",{children:"Admission Included: "}),(0,h.jsx)("span",{className:"tour-details-description",children:(0,a.Ay)(this.state.tour.admission_included)})]})]}),this.state.tour.closest_stops&&this.state.tour.closest_stops.length>0&&-1===["bus","boat"].indexOf(this.state.tour.slug)&&(0,h.jsxs)("li",{className:"hop-on-hop-off-route",children:[(0,h.jsx)("i",{className:"tour-details-icon bus-tv-icon"}),(0,h.jsxs)("p",{className:"mb-0 tour-details-title",children:[(0,h.jsxs)("strong",{children:["bus"==this.state.tour.type||"boat"==this.state.tour.type?"Topview Bus":"Route"," Connection Stop: "]}),(0,h.jsx)("span",{className:"tour-details-description",children:this.state.tour.closest_stops.map((function(t,r){return t&&e.showRouteStop(t)}))}),"boat"==this.state.tour.type&&this.state.tour.slug.indexOf("liberty")>-1&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("br",{}),"*Hop-on Hop-Off Downtown buses schedule is Daily 8:00am - 6:00pm."]})]})]}),this.state.tour.closest_stop_info&&-1===["bus","boat"].indexOf(this.state.tour.type)&&(0,h.jsxs)("li",{className:"d-none",children:[(0,h.jsx)("i",{className:"fas fa-ticket-alt"}),(0,h.jsxs)("p",{className:"mb-0 tour-details-title",children:[(0,h.jsx)("strong",{children:"Access: "}),"Single Entry"]})]}),this.state.tour.available_hours&&(0,h.jsxs)("li",{className:(this.state.tours_length&&this.state.tours_length.length>1&&"boat"!=this.state.tour.type?"tour-schedule-container":"lbc-tours-schedule-container")+" "+("liberty-cruise"==this.state.tour.slug&&this.state.package.days>1?"lbc-multime-tours":""),children:[(0,h.jsx)("i",{className:"tour-details-icon calendar-alt-icon"}),-1!==["liberty-cruise-saver","liberty-cruise-express","liberty-cruise-select","liberty-cruise"].indexOf(this.state.tour.slug)&&(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("p",{className:"mb-0 tour-details-title",children:[(0,h.jsxs)("strong",{children:[(0,a.Ay)(this.state.tour.schedule_text)," "]}),(0,h.jsx)("div",{className:"lbc-tours-schedule-item",children:(0,a.Ay)(this.state.tour.available_hours)})]})}),-1===["liberty-cruise-saver","liberty-cruise-express","liberty-cruise-select","liberty-cruise"].indexOf(this.state.tour.slug)&&(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("p",{className:"mb-0 tour-details-title",children:[(0,h.jsxs)("strong",{children:[(0,a.Ay)(this.state.tour.schedule_text),": "]}),(0,h.jsxs)("span",{children:[this.state.tour.occurrence," ",(0,a.Ay)(this.state.tour.available_hours)]})]})})]}),this.state.tour.note&&(0,h.jsxs)("li",{children:[(0,h.jsx)("i",{className:"fa-regular fa-flag"}),(0,h.jsxs)("p",{className:"mb-0 tour-details-title",children:[(0,h.jsx)("strong",{children:"Note: "}),(0,a.Ay)(this.state.tour.note)," "]})]})]}),-1!==["liberty-cruise-saver","liberty-cruise-express","liberty-cruise-select","liberty-cruise","statue-of-liberty-tours-standard","statue-of-liberty-cruise-premium"].indexOf(this.state.tour.slug)&&(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"full-width-section-divider"}),(0,h.jsx)("p",{className:"mb-3",children:(0,h.jsx)("strong",{children:"Onboard Amenities"})}),(0,h.jsxs)("div",{className:"amenities-wrapper",children:[(0,h.jsxs)("div",{className:"amenity-col",children:[(0,h.jsx)("div",{className:"amenity-icon-wrapper camera",children:(0,h.jsx)("i",{className:"fas fa-utensils"})}),(0,h.jsx)("div",{className:"amenity-text",children:"Food & drinks for purchase"})]}),(0,h.jsxs)("div",{className:"amenity-col",children:[(0,h.jsx)("div",{className:"amenity-icon-wrapper",children:(0,h.jsx)("i",{className:"fa fa-user","aria-hidden":"true"})}),(0,h.jsx)("div",{className:"amenity-text",children:"Live tour guide"})]}),(0,h.jsxs)("div",{className:"amenity-col",children:[(0,h.jsx)("div",{className:"amenity-icon-wrapper",children:(0,h.jsx)("img",{className:" fa-guaranteed-seat-view",src:"".concat("/new-york","/assets/images/amenities_icons/guaranteed-seat-dark.svg")})}),(0,h.jsx)("div",{className:"amenity-text",children:"Outdoor space with seating"})]}),this.libertyCruisesOnboardAmenities(this.state.tour)&&(0,h.jsxs)("div",{className:"amenity-col",children:[(0,h.jsx)("div",{className:"amenity-icon-wrapper",children:(0,h.jsx)("img",{className:" fa-panomaric-view",src:"".concat("/new-york","/assets/images/amenities_icons/panomaric_view.svg")})}),(0,h.jsxs)("div",{className:"amenity-text",children:[" ",this.libertyCruisesOnboardAmenities(this.state.tour)," "]})]}),(0,h.jsxs)("div",{className:"amenity-col",children:[(0,h.jsx)("div",{className:"amenity-icon-wrapper",children:(0,h.jsx)("i",{className:"fas fa-ship","aria-hidden":"true"})}),(0,h.jsx)("div",{className:"amenity-text",children:" Indoor space with seating - cooled in summer and heated in winter "})]})]})]}),this.state.tour.includes&&(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"full-width-section-divider"}),(0,h.jsxs)("div",{className:"tour-description mt-3",children:[(0,h.jsx)("p",{className:"mb-3",children:(0,h.jsx)("strong",{children:"Included"})}),(0,h.jsx)("ul",{className:"sights-list-tour list-tour-two-columns mb-3",children:this.state.tour.includes.map((function(e,t){return(0,h.jsxs)("li",{children:["".concat(e.split("|")[0],":")," ",(0,a.Ay)(e.split("|")[1])," "]},t)}))})]})]}),this.state.tour.food_drinks_arrangement&&(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"full-width-section-divider"}),(0,h.jsxs)("div",{className:"tour-description mt-3",children:[(0,h.jsx)("p",{className:"mb-3",children:(0,h.jsx)("strong",{children:"Food, Drinks, and Seating Arrangement"})}),(0,h.jsx)("ul",{className:"sights-list-tour list-tour-two-columns mb-3",children:this.state.tour.food_drinks_arrangement.map((function(e,t){return(0,h.jsxs)("li",{children:[e,"."]},t)}))})]})]}),this.state.tour.food_menu_options&&(this.state.tour.slug.includes("liberty-cruise")||this.state.tour.slug.includes("statue-of-liberty"))&&(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"full-width-section-divider"}),(0,h.jsx)("p",{className:"mb-3",children:(0,h.jsx)("strong",{children:"Food & Beverages"})}),(0,h.jsx)(E,{foodMenuCourseTitle:null,foodMenu:this.state.tour.food_menu_options})]}),this.state.tour.sights_array&&(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"full-width-section-divider"}),(0,h.jsxs)("div",{className:"tour-description mt-3",children:[(0,h.jsx)("p",{className:"mb-3",children:(0,h.jsx)("strong",{children:"What You'll See"})}),(0,h.jsx)("ul",{className:"sights-list-tour sights-to-see list-tour-two-columns mb-3",children:this.state.tour.sights_array.map((function(e,t){return(0,h.jsx)("li",{children:e},t)}))})]})]}),"bus"==this.state.tour.type&&"woodbury-common-premium-outlets"!=this.state.tour.slug&&(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"full-width-section-divider"}),(0,h.jsxs)("div",{className:"tour-description mt-3",children:[(0,h.jsx)("p",{className:"mb-3",children:(0,h.jsx)("strong",{children:"Onboard Amenities"})}),(0,h.jsxs)("div",{className:"amenity-languages d-flex justify-content-space-between",children:[(0,h.jsx)("div",{className:"amenity-text amenity-text-state-of-the-art d-flex d-flex",children:"State-of-the-art GPS-guided Audio Narration"}),(0,h.jsx)("div",{className:"amenity-icon-wrapper-flags",children:"midtown-bus-tour"==this.state.tour.slug||!this.state.tour.hop_on_off_flag&&"downtown-bus-tour-single-ride"!=this.state.tour.slug?(0,h.jsx)("div",{className:"solo-flag",children:(0,h.jsx)("img",{src:"".concat("https://topviewtix.com","/").concat("/new-york","/").concat(this.props.site.frontend_folder,"/images/why_choose_tv/us-flag.svg")})}):(0,h.jsxs)("div",{className:"tour-multiple-languages",children:[(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/flags/flag-usa@2x.png"),alt:"English",title:"English",datatoggle:"tooltip",dataplacement:"top"})}),(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/flags/flag-spain@2x.png"),alt:"Español",title:"Español",datatoggle:"tooltip",dataplacement:"top"})}),(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/flags/flag-italy@2x.png"),alt:"Italiano",title:"Italiano",datatoggle:"tooltip",dataplacement:"top"})}),(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/flags/flag-germany@2x.png"),alt:"Deutsch",title:"Deutsch",datatoggle:"tooltip",dataplacement:"top"})}),(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/flags/flag-france@2x.png"),alt:"Français",title:"Français",datatoggle:"tooltip",dataplacement:"top"})}),(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/flags/flag-brazil@2x.png"),alt:"Português",title:"Português",datatoggle:"tooltip",dataplacement:"top"})}),(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/flags/flag-south-korea@2x.png"),alt:"한국어",title:"한국어",datatoggle:"tooltip",dataplacement:"top"})}),(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/flags/flag-russia@2x.png"),alt:"Русский язык",title:"Русский язык",datatoggle:"tooltip",dataplacement:"top"})}),(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/flags/flag-chinese@2x.png"),alt:"中文",title:"中文",datatoggle:"tooltip",dataplacement:"top"})}),(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/flags/flag-japanese@2x.png"),alt:"日本語",title:"日本語",datatoggle:"tooltip",dataplacement:"top"})}),(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/flags/flag-israel@2x.png"),style:{border:"1px solid #929191"},alt:"עברית",title:"עברית",datatoggle:"tooltip",dataplacement:"top"})})]})}),(0,h.jsx)("hr",{})]}),(0,h.jsx)("div",{className:"exclusive-features d-lg-block d-none "+(-1!==["downtown-bus-tour","uptown-bus-tour"].indexOf(this.state.tour.slug)?"night-tour":""),children:(0,h.jsx)("p",{children:"Exclusive Features Not Available at Other Sightseeing Companies"})}),(0,h.jsxs)("div",{className:"amenities-wrapper-exclusive-features",children:[(0,h.jsxs)("div",{className:"amenity-col",children:[(0,h.jsx)("div",{className:"amenity-icon-wrapper camera",children:(0,h.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/amenities_icons/camera.svg")})}),(0,h.jsx)("div",{className:"amenity-text",children:"Unparalleled Views and Photo Ops"})]}),(0,h.jsxs)("div",{className:"amenity-col",children:[(0,h.jsx)("div",{className:"amenity-icon-wrapper",children:(0,h.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/amenities_icons/audio-no-globe.svg")})}),(0,h.jsx)("div",{className:"amenity-text",children:"Free Earphones Provided"})]}),(0,h.jsx)("div",{className:"exclusive-features d-lg-none d-block",children:(0,h.jsx)("p",{children:"Exclusive Features Not Available at Other Sightseeing Companies"})}),(0,h.jsxs)("div",{className:"amenity-col",children:[(0,h.jsx)("div",{className:"amenity-icon-wrapper",children:(0,h.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/amenities_icons/no-printed-tickets.svg")})}),(0,h.jsx)("div",{className:"amenity-text",children:"Board with Your Phone, No Printed Pass Needed"})]}),(0,h.jsxs)("div",{className:"amenity-col",children:[(0,h.jsx)("div",{className:"amenity-icon-wrapper",children:(0,h.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/amenities_icons/live-map.svg")})}),(0,h.jsx)("div",{className:"amenity-text",children:"Live Map to Track Actual Bus Arrivals"})]}),-1!==["downtown-bus-tour","uptown-bus-tour"].indexOf(this.state.tour.slug)&&(0,h.jsxs)("div",{className:"amenity-col",children:[(0,h.jsx)("div",{className:"amenity-icon-wrapper clock-icon-wrapper",children:(0,h.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/images/modules/tour-icons/amenities_icons/movie-audio-channel.svg")})}),(0,h.jsx)("div",{className:"amenity-text",children:"Exclusive Movies & Celebrities Audio Channel"})]})]})]})]}),(0,h.jsx)("div",{className:"full-width-section-divider"}),this.state.tour.description_frontend&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{className:"mb-3",children:(0,h.jsx)("strong",{children:"The Experience"})}),(0,a.Ay)(this.state.tour.description_frontend)]}),this.state.tour.route_transloc_id&&(0,h.jsx)("a",{onClick:function(){return e.handlerMoveCursorMapSection(e.state.tour.route_transloc_id)},className:"map-stop-list-link",children:"See list of stops on the map below"})]})})]})}}])&&P(r.prototype,n),o&&P(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(n.Component),R=r(26456),H=r(74692),z=r.n(H),$=r(51804);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function U(){U=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var a=t&&t.prototype instanceof _?t:_,i=Object.create(a.prototype),s=new O(n||[]);return o(i,"_invoke",{value:N(e,r,s)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",m="suspendedYield",h="executing",f="completed",g={};function _(){}function y(){}function v(){}var b={};l(b,i,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(T([])));w&&w!==r&&n.call(w,i)&&(b=w);var k=v.prototype=_.prototype=Object.create(b);function j(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,a,i,s){var c=u(e[o],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==G(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function N(t,r,n){var o=p;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===f){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=A(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=u(t,r,n);if("normal"===l.type){if(o=n.done?f:m,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=f,n.method="throw",n.arg=l.arg)}}}function A(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,A(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=u(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(G(t)+" is not iterable")}return y.prototype=v,o(k,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},j(S.prototype),l(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(d(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(k),l(k,c,"Generator"),l(k,i,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function Q(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function W(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Q(a,n,o,i,s,"next",e)}function s(e){Q(a,n,o,i,s,"throw",e)}i(void 0)}))}}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,te(n.key),n)}}function K(e,t,r){return t=J(t),function(e,t){if(t&&("object"==G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Z()?Reflect.construct(t,r||[],J(e).constructor):t.apply(e,r))}function Z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Z=function(){return!!e})()}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}function X(e,t){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X(e,t)}function ee(e,t,r){return(t=te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function te(e){var t=function(e,t){if("object"!=G(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==G(t)?t:t+""}var re=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ee(r=K(this,t,[e]),"renderTours",W(U().mark((function e(){var t;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,$.CH)("/api/v1/package_tours/".concat(r.state.package.id));case 3:t=e.sent,r.setState({package_tours:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),ee(r,"handleStopSelectedProductServiceComponent",(function(e){r.props.handleStopSelectedProductComponent(e)})),ee(r,"handlerRouteSelectedProductServiceComponent",(function(e){r.props.handlerRouteSelectedProductComponent(e)})),r.state={package:r.props.product,package_tours:[]},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(t,e),r=t,n=[{key:"componentDidMount",value:function(){this.renderTours(),z()(".scroll-download-topview-app-link").click((function(e){e.preventDefault(),document.getElementById("main-footer").scrollIntoView({behavior:"smooth"})}))}},{key:"render",value:function(){var e=this;return this.props.site&&this.state.package&&(0,h.jsx)("div",{children:(0,h.jsxs)(c.A,{defaultActiveKey:"tours",className:" productTabs nav nav-tabs details",id:"tour-accordion",children:[(0,h.jsx)(l.A,{eventKey:"tours",className:"nav-item nav-link ",title:"Included With Pass",children:(0,h.jsx)(d.A,{children:this.state.package&&this.state.package_tours&&this.state.package_tours[0]&&this.state.package_tours[0].map((function(t,r){return(0,h.jsx)(F,{tour:t,package:e.state.package,tours:e.state.package_tours[0],idx:r,site:e.props.site,handleStopSelectedProductServiceComponent:e.handleStopSelectedProductServiceComponent,handlerRouteSelectedProductServiceComponent:e.handlerRouteSelectedProductServiceComponent},r)}))})}),(0,h.jsx)(l.A,{eventKey:"ticket_details",className:"nav-item nav-link",title:"Pass Details",children:(0,h.jsx)("div",{className:"package-option-validity-wrapper mt-1",children:(0,h.jsx)("ul",{children:this.state.package.validit_for_details_page&&this.state.package.validit_for_details_page.length>0&&this.state.package.validit_for_details_page.map((function(e,t){return(0,h.jsx)("li",{children:(0,h.jsxs)("div",{className:"validity-container",children:[e.title&&(0,h.jsx)("div",{class:"validity-title",children:(0,a.Ay)(e.title)}),e.text&&!e.text_items&&(0,h.jsxs)("div",{class:"validity-description",children:[(0,h.jsx)("i",{class:"fa fa-circle sights-icon"}),(0,h.jsx)("span",{children:(0,a.Ay)(e.text)})]}),e.text_items&&Array.isArray(e.text_items)&&e.text_items.map((function(e,t){return(0,h.jsxs)("div",{class:"validity-description",children:[(0,h.jsx)("i",{class:"fa fa-circle sights-icon"}),(0,h.jsx)("span",{children:(0,a.Ay)(e)})]},t)}))]})},t)}))})})}),(0,h.jsx)(l.A,{eventKey:"faq",className:"nav-item nav-link",title:"FAQ's",children:(0,h.jsx)("div",{className:"product-detail-faq-container",children:(0,h.jsx)(R.A,{isPackageDetailPage:!0})})})]})})}}],n&&V(r.prototype,n),o&&V(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(n.Component);r(42503);function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ae(n.key),n)}}function ae(e){var t=function(e,t){if("object"!=ne(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ne(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ne(t)?t:t+""}function ie(e,t,r){return t=ce(t),function(e,t){if(t&&("object"==ne(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,se()?Reflect.construct(t,r||[],ce(e).constructor):t.apply(e,r))}function se(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(se=function(){return!!e})()}function ce(e){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ce(e)}function le(e,t){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},le(e,t)}var de=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=ie(this,t,[e])).state={package:r.props.product},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&le(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return this.state.package.package_highlights_frontend&&(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"package-worry-free-purchase-header",children:(0,h.jsx)("h5",{className:"mb-0 fw-600",children:"Worry Free Purchase"})}),(0,h.jsx)("ul",{className:"d-flex flex-wrap",children:this.state.package.package_highlights_frontend.map((function(e,t){return(0,h.jsxs)("li",{className:"d-flex flex-column text-center",children:[e.icon?(0,h.jsx)("i",{className:"".concat(e.icon)}):"",(0,h.jsxs)("div",{children:[(0,h.jsxs)("span",{children:[" ",(0,a.Ay)(e.text),"  "]}),e.information&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("a",{"data-tip":e.information,"data-event":"click focus",children:(0,h.jsx)("span",{className:"fa fa-info package-option-info-small"})})})]})]})}))})]})}}])&&oe(r.prototype,n),o&&oe(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(n.Component);function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,me(n.key),n)}}function me(e){var t=function(e,t){if("object"!=ue(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ue(t)?t:t+""}function he(e,t,r){return t=ge(t),function(e,t){if(t&&("object"==ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fe()?Reflect.construct(t,r||[],ge(e).constructor):t.apply(e,r))}function fe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fe=function(){return!!e})()}function ge(e){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ge(e)}function _e(e,t){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_e(e,t)}var ye=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=he(this,t,[e])).state={site:JSON.parse(window.TV_site)},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_e(e,t)}(t,e),r=t,(n=[{key:"handlerClickDownloadSiteApp",value:function(){document.getElementById("main-footer").scrollIntoView({behavior:"smooth"})}},{key:"boardingContent",value:function(e){if(this.state.site.social_media_links&&this.state.site.social_media_links.easy_boarding_process){if(e)return e.is_event?this.state.site.social_media_links.easy_boarding_process.event_products:this.state.site.social_media_links.easy_boarding_process.sightseeing_products}else if(e)return e.is_event?"Simply show the QR code on your phone and board your cruise without hassles":"Board buses & cruises, access attractions, and track live bus arrival times with one app"}},{key:"render",value:function(){var e=this;return(0,h.jsxs)("div",{id:"download-topview-app",className:"container download-topview-app",children:[(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-12 mt-0 ",children:(0,h.jsx)("div",{className:"package-download-topview-app-header",children:(0,h.jsx)("h5",{className:"mb-0 fw-600",children:"Easy Boarding Process"})})})}),(0,h.jsx)("div",{className:"row",children:(0,h.jsxs)("div",{className:"package-download-topview-app-container",children:[(0,h.jsx)("div",{className:"package-download-topview-app-image col-2",children:(0,h.jsx)("img",{src:"".concat("https://topviewtix.com").concat("/new-york","/").concat(this.state.site.frontend_folder,"/images/mobile-face-app/icon-phone-hand-download-app.svg"),alt:""})}),(0,h.jsx)("div",{className:"package-download-topview-app-content col-10 mt-0 pr-0 ",children:(0,h.jsxs)("p",{className:"mb-0",children:[this.boardingContent(this.props.product?this.props.product:null),".",(0,h.jsx)("br",{}),(0,h.jsx)("a",{onClick:function(){return e.handlerClickDownloadSiteApp()},className:"package-download-topview-app-link",children:"Download our app"})]})})]})})]})}}])&&pe(r.prototype,n),o&&pe(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(n.Component);function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xe(n.key),n)}}function xe(e){var t=function(e,t){if("object"!=ve(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ve(t)?t:t+""}function we(e,t,r){return t=je(t),function(e,t){if(t&&("object"==ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ke()?Reflect.construct(t,r||[],je(e).constructor):t.apply(e,r))}function ke(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ke=function(){return!!e})()}function je(e){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},je(e)}function Se(e,t){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Se(e,t)}var Ne=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=we(this,t,[e])).state={package:r.props.product,promoActive:window.TV_promo_active},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Se(e,t)}(t,e),r=t,(n=[{key:"getEvenBetterTitleName",value:function(e){return e.is_event?this.props.productAvailability&&this.props.productAvailability.sold_out?"Still Available":"Also Available":"Even Better"}},{key:"render",value:function(){var e=this;return this.props.site&&this.state.package.package_recommended_frontend&&this.state.package.package_recommended_frontend.length>0&&(0,h.jsx)("div",{className:"package-even-better-wrapper checkout-wrapper checkout-wrapper mt-3",children:(0,h.jsx)("div",{className:"row1",children:(0,h.jsxs)("div",{className:"col1",children:[(0,h.jsx)("div",{className:"package-even-better-header",children:(0,h.jsx)("h5",{className:"package-even-better-header mb-3 text-center fw-600",children:this.getEvenBetterTitleName(this.props.product)})}),(0,h.jsx)(g.A,{nativeMobileScroll:!0,className:"recommended-package-carousel ".concat(1==this.state.package.package_recommended_frontend.length?"one-single-card":""," "),children:this.state.package.package_recommended_frontend.map((function(t,r){return(0,h.jsxs)("a",{className:"package-carousel-item  ".concat(e.state.package.package_recommended_frontend.length<=1?"package-carousel-one-item":""),href:"".concat("/new-york","/").concat(t.is_event?"events":"packages/package","/").concat(t.slug),children:[(0,h.jsx)("div",{className:"product-img-wrapper",style:{backgroundImage:'url("'.concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/products/small/").concat(t.small_banner,'")')}}),(0,h.jsxs)("div",{className:"text-promo mb-0 package-even-better-caption",children:[!e.state.package.is_event&&(0,a.Ay)("".concat(t.text_marketing_compartison," more with ")),e.state.package.is_event&&"".concat(t.text_marketing_compartison)]}),(0,h.jsx)("h6",{className:"fw-600 d-inline-block",children:(0,a.Ay)(t.name)}),(0,h.jsx)("div",{className:"container",children:(0,h.jsxs)("div",{className:"row align-items-center",children:[(0,h.jsxs)("div",{className:"recommended-package-prices",children:[(0,h.jsx)("span",{className:"dollar-sign",children:"$"}),(0,h.jsx)("span",{className:"strikethrough ",children:(0,$.cc)(parseFloat(t.adults_regular_price?t.adults_regular_price:t.adult_walkin))}),(0,h.jsx)("span",{className:"d-inline-block mr-1 ml-1 recommended-price-divider"}),(0,h.jsx)("span",{className:"".concat(e.state.promoActive?"promo-font-color":""),children:"From"})," ",(0,h.jsxs)("span",{className:(t.is_promo&&e.state.promoActive?"promo-font-color":"")+" mr-1",children:[(0,h.jsx)("span",{className:"dollar-sign",children:"$"}),(0,$.cc)(parseFloat(t.adults_base_price?t.adults_base_price:t.deal_adult_price))]})]}),(0,h.jsx)("div",{className:"recommended-package-see-details-container",children:(0,h.jsx)("span",{className:"btn fancy-gradient btn-primary btn-buy-now d-block",children:e.state.package.is_event?"See Details":"Save Even More"})})]})})]},r)}))})]})})})}}])&&be(r.prototype,n),o&&be(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(n.Component),Ae=r(22427),Ie=r(43997);function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Be(n.key),n)}}function Le(e,t,r){return t&&Te(e.prototype,t),r&&Te(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Be(e){var t=function(e,t){if("object"!=Ee(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ee(t)?t:t+""}function Pe(e,t,r){return t=Ce(t),function(e,t){if(t&&("object"==Ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qe()?Reflect.construct(t,r||[],Ce(e).constructor):t.apply(e,r))}function qe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qe=function(){return!!e})()}function Ce(e){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ce(e)}function Me(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}function De(e,t){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},De(e,t)}var Ye=function(e){function t(e){var r;return Oe(this,t),(r=Pe(this,t,[e])).state={showModalImagesCollage:r.props.modalImagesCollage,isImageLoader:!0},r}return Me(t,e),Le(t,[{key:"componentDidMount",value:function(){var e=this;history.pushState(null,null,location.href),window.onpopstate=function(){e.setState({showModalImagesCollage:!1})},setTimeout((function(){return e.setState({isImageLoader:!1})}),500)}},{key:"componentWillReceiveProps",value:function(e){this.state.showModalImagesCollage!==e.modalImagesCollage&&this.setState({showModalImagesCollage:e.modalImagesCollage})}},{key:"componentWillUnmount",value:function(){window.onpopstate=function(){}}},{key:"render",value:function(){var e=this,t=function(){return e.setState({showModalImagesCollage:!1})};return(0,h.jsxs)(f.A,{show:this.state.showModalImagesCollage,onHide:t,"aria-labelledby":"contained-modal-title-vcenter",animation:!0,autoFocus:!0,centered:!0,id:"product_images_collage_modal",className:k()({"is-modal-loading":this.state.isImageLoader}),children:[this.state.isImageLoader&&(0,h.jsx)("div",{className:"image-loader-overlay",children:(0,h.jsx)(x.A,{size:50})}),(0,h.jsx)(f.A.Header,{children:(0,h.jsxs)("div",{className:"modal-header-title",children:[(0,h.jsx)("button",{type:"button",className:"close modal-header-close",onClick:t,children:(0,h.jsx)("i",{className:"fa fa-back-arrow"})}),(0,h.jsx)("b",{children:"Amazing Experience and Photo Ops"})]})}),(0,h.jsx)(f.A.Body,{children:(0,h.jsx)("div",{className:"product-images-collage-grid",children:!this.state.isImageLoader&&this.props.productImages&&this.props.productImages.map((function(t,r){return(0,h.jsxs)("div",{className:"product-image-item",children:[(0,h.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/sights_to_see/small/").concat(t.path),className:"product-image-item-img"}),(0,h.jsxs)("span",{className:"product-image-item-caption",children:[(0,h.jsxs)("span",{className:"product-image-item-caption-counter",children:[r+1," / ",e.props.productImages.length]}),t.name&&(0,h.jsx)("span",{className:"product-image-item-caption-msg",children:(0,a.Ay)(t.name.trim())})]})]})}))})})]})}}])}(n.Component),Fe=function(e){function t(e){var r;return Oe(this,t),(r=Pe(this,t,[e])).state={sightsToSee:r.props.sightsToSee,modalShow:!1,imagePath:null,imageCaption:null,modalShowSightsToSee:!1,slideSightsToSeeIndex:0,mediaGalleryArray:null},r.captionsRef=(0,n.createRef)(),r}return Me(t,e),Le(t,[{key:"componentDidMount",value:function(){var e=[];if(this.state.sightsToSee)for(var t in this.state.sightsToSee)e.push({src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/sights_to_see/").concat(this.state.sightsToSee[t].path),title:this.state.sightsToSee[t].name});this.setState({mediaGalleryArray:e})}},{key:"handlerClickDownloadSiteApp",value:function(){document.getElementById("main-footer").scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var e=this;return this.props.site&&this.state.sightsToSee&&(0,h.jsxs)("div",{className:"tour-sights-section sights-to-see-slider ",children:[(0,h.jsx)(g.A,{nativeMobileScroll:!0,className:"sights-cards-container",children:this.state.sightsToSee.slice(0,Math.ceil(this.state.sightsToSee.length)/(this.props.isOneRow?1:2)).map((function(t,r){return(0,h.jsxs)("div",{className:"sights-card-wrapper",onClick:function(){return e.setState({modalShowSightsToSee:!0,slideSightsToSeeIndex:r})},children:[(0,h.jsx)("div",{className:"sights-img-container z-depth-1",children:(0,h.jsx)("div",{className:"sights-card-img",style:{backgroundImage:"url('".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/sights_to_see/thumbnail/").concat(t.path,"')")}})}),(0,h.jsx)("div",{className:"sights-card-name z-depth-1",children:(0,a.Ay)(t.name.trim())})]},r)}))}),!this.props.isOneRow&&(0,h.jsx)(g.A,{nativeMobileScroll:!0,className:"sights-cards-container",children:this.state.sightsToSee.slice(Math.ceil(this.state.sightsToSee.length)/2,Math.floor(this.state.sightsToSee.length)).map((function(t,r){return(0,h.jsxs)("div",{className:"sights-card-wrapper",onClick:function(){return e.setState({modalShowSightsToSee:!0,slideSightsToSeeIndex:parseInt(Math.ceil(e.state.sightsToSee.length)/2)+parseInt(r)})},children:[(0,h.jsx)("div",{className:"sights-img-container z-depth-1",children:(0,h.jsx)("div",{className:"sights-card-img",style:{backgroundImage:"url('".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/sights_to_see/thumbnail/").concat(t.path,"')")}})}),(0,h.jsx)("div",{className:"sights-card-name z-depth-1",children:(0,a.Ay)(t.name.trim())})]},r)}))}),this.state.modalShowSightsToSee&&window.innerWidth<1024&&(0,h.jsx)(Ye,{modalImagesCollage:this.state.modalShowSightsToSee,site:this.props.site,productImages:this.state.sightsToSee}),this.state.modalShowSightsToSee&&window.innerWidth>=1024&&this.state.mediaGalleryArray&&(0,h.jsx)(_.Ay,{index:this.state.slideSightsToSeeIndex,open:this.state.modalShowSightsToSee,close:function(){return e.setState({modalShowSightsToSee:!1})},slides:this.state.mediaGalleryArray,plugins:[y.A,v.A,b.A],animation:{zoom:500},zoom:{maxZoomPixelRatio:8,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:300,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!0},counter:{container:{style:{top:"unset",bottom:0}}},captions:{ref:this.captionsRef},on:{click:function(){var t,r,n,o;null===(t=null!==(r=e.captionsRef.current)&&void 0!==r&&r.visible?null===(n=e.captionsRef.current)||void 0===n?void 0:n.hide:null===(o=e.captionsRef.current)||void 0===o?void 0:o.show)||void 0===t||t()}}})]})}}])}(n.Component);function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ge(n.key),n)}}function $e(e,t,r){return t&&ze(e.prototype,t),r&&ze(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ge(e){var t=function(e,t){if("object"!=Re(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Re(t)?t:t+""}function Ue(e,t,r){return t=We(t),function(e,t){if(t&&("object"==Re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Qe()?Reflect.construct(t,r||[],We(e).constructor):t.apply(e,r))}function Qe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Qe=function(){return!!e})()}function We(e){return We=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},We(e)}function Ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ke(e,t)}function Ke(e,t){return Ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ke(e,t)}var Ze=function(e){function t(e){var r;return He(this,t),(r=Ue(this,t,[e])).state={showModalImagesCollage:r.props.modalImagesCollage,isImageLoader:!0},r}return Ve(t,e),$e(t,[{key:"componentDidMount",value:function(){var e=this;history.pushState(null,null,location.href),window.onpopstate=function(){e.setState({showModalImagesCollage:!1})},setTimeout((function(){return e.setState({isImageLoader:!1})}),1e3)}},{key:"componentWillReceiveProps",value:function(e){this.state.showModalImagesCollage!==e.modalImagesCollage&&this.setState({showModalImagesCollage:e.modalImagesCollage})}},{key:"componentWillUnmount",value:function(){window.onpopstate=function(){}}},{key:"render",value:function(){var e=this,t=function(){return e.setState({showModalImagesCollage:!1})};return(0,h.jsxs)(f.A,{show:this.state.showModalImagesCollage,onHide:t,"aria-labelledby":"contained-modal-title-vcenter",animation:!0,autoFocus:!0,centered:!0,id:"product_images_collage_modal",className:k()({"is-modal-loading":this.state.isImageLoader}),children:[this.state.isImageLoader&&(0,h.jsx)("div",{className:"image-loader-overlay",children:(0,h.jsx)(x.A,{size:50})}),(0,h.jsx)(f.A.Header,{children:(0,h.jsxs)("div",{className:"modal-header-title",children:[(0,h.jsx)("button",{type:"button",className:"close modal-header-close",onClick:t,children:(0,h.jsx)("i",{className:"fa fa-back-arrow"})}),(0,h.jsx)("b",{children:"Guest DJ Lineup"})]})}),(0,h.jsx)(f.A.Body,{children:(0,h.jsx)("div",{className:"product-images-collage-grid",children:!this.state.isImageLoader&&this.props.productImages&&this.props.productImages.map((function(t,r){return(0,h.jsxs)("div",{className:"product-image-item",children:[(0,h.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/sights_to_see/small/").concat(t.path),className:"product-image-item-img"}),(0,h.jsxs)("span",{className:"product-image-item-caption",children:[(0,h.jsxs)("span",{className:"product-image-item-caption-counter",children:[r+1," / ",e.props.productImages.length]}),t.name&&(0,h.jsx)("span",{className:"product-image-item-caption-msg",children:(0,a.Ay)(t.name.trim())})]})]})}))})})]})}}])}(n.Component),Je=function(e){function t(e){var r;return He(this,t),(r=Ue(this,t,[e])).state={sightsToSee:r.props.sightsToSee,modalShow:!1,imagePath:null,imageCaption:null,modalShowSightsToSee:!1,slideSightsToSeeIndex:0},r.captionsRef=(0,n.createRef)(),r}return Ve(t,e),$e(t,[{key:"componentDidMount",value:function(){var e=[];if(this.state.sightsToSee)for(var t in this.state.sightsToSee)e.push({src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/sights_to_see/").concat(this.state.sightsToSee[t].path),title:this.state.sightsToSee[t].name});this.setState({mediaGalleryArray:e})}},{key:"handlerClickDownloadSiteApp",value:function(){document.getElementById("main-footer").scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var e=this;return this.props.site&&this.state.sightsToSee&&(0,h.jsxs)("div",{className:"tour-sights-section sights-to-see-slider ",children:[(0,h.jsx)(g.A,{nativeMobileScroll:!0,className:"sights-cards-container",children:this.state.sightsToSee.map((function(t,r){return(0,h.jsxs)("div",{className:"sights-card-wrapper",onClick:function(){return e.setState({modalShowSightsToSee:!0,slideSightsToSeeIndex:r})},children:[(0,h.jsx)("div",{className:"sights-img-container z-depth-1",children:(0,h.jsx)("div",{className:"sights-card-img",style:{backgroundImage:"url('".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/sights_to_see/thumbnail/").concat(t.path,"')")}})}),(0,h.jsx)("div",{className:"sights-card-name z-depth-1",children:(0,a.Ay)(t.name.trim())})]},r)}))}),this.state.modalShowSightsToSee&&window.innerWidth<1024&&(0,h.jsx)(Ze,{modalImagesCollage:this.state.modalShowSightsToSee,site:this.props.site,productImages:this.state.sightsToSee}),this.state.modalShowSightsToSee&&window.innerWidth>=1024&&this.state.mediaGalleryArray&&(0,h.jsx)(_.Ay,{index:this.state.slideSightsToSeeIndex,open:this.state.modalShowSightsToSee,close:function(){return e.setState({modalShowSightsToSee:!1})},slides:this.state.mediaGalleryArray,plugins:[y.A,v.A,b.A],animation:{zoom:500},zoom:{maxZoomPixelRatio:8,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:300,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!0},counter:{container:{style:{top:"unset",bottom:0}}},captions:{ref:this.captionsRef},on:{click:function(){var t,r,n,o;null===(t=null!==(r=e.captionsRef.current)&&void 0!==r&&r.visible?null===(n=e.captionsRef.current)||void 0===n?void 0:n.hide:null===(o=e.captionsRef.current)||void 0===o?void 0:o.show)||void 0===t||t()}}})]})}}])}(n.Component),Xe=r(11659),et=r(95093),tt=r.n(et),rt=(r(84743),r(54219));function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function ot(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,at(n.key),n)}}function at(e){var t=function(e,t){if("object"!=nt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nt(t)?t:t+""}function it(e,t,r){return t=ct(t),function(e,t){if(t&&("object"==nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,st()?Reflect.construct(t,r||[],ct(e).constructor):t.apply(e,r))}function st(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(st=function(){return!!e})()}function ct(e){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ct(e)}function lt(e,t){return lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lt(e,t)}function dt(){dt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var a=t&&t.prototype instanceof _?t:_,i=Object.create(a.prototype),s=new O(n||[]);return o(i,"_invoke",{value:N(e,r,s)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",m="suspendedYield",h="executing",f="completed",g={};function _(){}function y(){}function v(){}var b={};l(b,i,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(T([])));w&&w!==r&&n.call(w,i)&&(b=w);var k=v.prototype=_.prototype=Object.create(b);function j(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,a,i,s){var c=u(e[o],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==nt(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function N(t,r,n){var o=p;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===f){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=A(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=u(t,r,n);if("normal"===l.type){if(o=n.done?f:m,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=f,n.method="throw",n.arg=l.arg)}}}function A(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,A(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=u(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(nt(t)+" is not iterable")}return y.prototype=v,o(k,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},j(S.prototype),l(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(d(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(k),l(k,c,"Generator"),l(k,i,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function ut(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function pt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){ut(a,n,o,i,s,"next",e)}function s(e){ut(a,n,o,i,s,"throw",e)}i(void 0)}))}}function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ht(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ht(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ft=function(e){var t=mt((0,n.useState)(JSON.parse(window.TV_site)),1)[0],r=mt((0,n.useState)(JSON.parse(window.TV_product)),2),o=r[0],c=(r[1],mt((0,n.useState)(JSON.parse(window.TV_settings)),2)),l=c[0],d=(c[1],mt((0,n.useState)(null),2)),u=d[0],p=d[1],m=mt((0,n.useState)(!1),2),f=m[0],g=m[1],_=mt((0,n.useState)(!1),2),y=_[0],v=_[1],b=mt((0,n.useState)(null),2),w=b[0],k=b[1],j=mt((0,n.useState)(null),2),S=j[0],N=j[1],A=mt((0,n.useState)(null),2),I=A[0],O=A[1],T=mt((0,n.useState)(null),2),L=T[0],B=T[1],P=mt((0,n.useState)(null),2),q=P[0],C=P[1],M=mt((0,n.useState)(null),2),D=M[0],Y=M[1],F=(0,rt.l)().screenWidth;(0,n.useEffect)((function(){R()}),[]);var R=function(){var e=pt(dt().mark((function e(){var t,r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,$.CH)("/api/v1/products/".concat(o.slug));case 3:t=e.sent,p(t.data),v(!0),window.scrollTo({top:0,left:0,behavior:"smooth"}),document.getElementById("page-name")&&(document.getElementById("page-name").style.display="block"),setTimeout((function(){document.getElementById("footer_layout")&&(document.getElementById("footer_layout").style.display="block")}),300),r={guest_id:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),package_id:t.data.id,reservation_start_date:(new(tt())).format("YYYY-MM-DD"),reservation_end_date:(new(tt())).add(12,"M").endOf("month").format("YYYY-MM-DD"),get_sold_out_dates:!0},localStorage.getItem("AT_ABtest_experience_Brcp_price_id")&&(r.price_version_id=localStorage.getItem("AT_ABtest_experience_Brcp_price_id")),(0,$.qS)("/api/v1/package_availability",r).then((function(e){g(e.data),v(!1),e.data.sold_out&&document.querySelector("#package-checkout-wrapper .checkout-wrapper").classList.add("sold-out-product")})).catch((function(e){console.log(e),v(!1)})),t.data.is_event||(H(),z(),t.data.route_transloc_id&&C(t.data.route_transloc_id)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=pt(dt().mark((function e(){var t;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,$.CH)("/api/v1/livemap?routes=4015858,4009580,4009570,888,4009574,4009900,4028858");case 3:t=e.sent,k(t.data),N(t.data.stops),O(t.data.routes),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=pt(dt().mark((function e(){var t;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,$.CH)("/api/v1/attraction_map_markers",{package_slug:o.slug});case 3:t=e.sent,Y(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();function G(e){var t="Route is subject to change. ";return e.route_map_caption&&""!=e.route_map_captio?e.route_map_caption:(641==e.id&&(t+="21 years or older with valid ID required to taste wine or consume alcohol. "),673==e.id&&(t+="Leaf colors may depend on weather and season. No leaf colors are guaranteed. "),"event"==e.tour_type||"boat"==e.tour_type||(t+=673!=e.id&&675!=e.id?"All entertainment is performed onboard the vehicle.":""),700==e.id&&(t+="Customers must be 21+ years old and show a valid ID to participate in the Open Bar. "),649!=e.id&&56!=e.event_id||(t="Fireworks views not guaranteed. Cruise route displayed is tentative and most likely will change. Cruise sails rain or shine. All sales are final."),664!=e.id&&665!=e.id||(t+="Fireworks views not guaranteed. Cruise route displayed is tentative and most likely will change. Customers must be 21+ years old and show a valid ID to participate in the Open Bar. Cruise sails rain or shine. All sales are final."),t)}return(0,h.jsxs)(h.Fragment,{children:[!u&&(0,h.jsx)("div",{className:"loader-icon-container",children:(0,h.jsx)(x.A,{size:50})}),u&&t&&(0,h.jsxs)("div",{className:"container ".concat(u.name.toLowerCase().includes("gay pride")?"rainbow-template":""),children:[(0,h.jsx)("div",{className:"row  ",children:(0,h.jsxs)("h1",{id:"page-name",className:"main-package-name fw-600 d-none d-sm-block ",children:[(0,a.Ay)(u.name)," ","".concat(u.is_event&&u.event_services_included_details&&u.event_services_included_details.admission&&!u.has_option_price?" (".concat(u.event_services_included_details.admission,")"):"")]})}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{id:"col-package-image",className:"col-sm-12 ",children:t&&(0,h.jsx)(i.A,{product:u,site:t,imageFolder:"products"})}),(0,h.jsx)("div",{id:"show-b-title",className:"text-center d-md-none",children:(0,h.jsxs)("h1",{id:"page-name",className:"main-package-name main-package-name-mobile fw-600 ",children:[(0,a.Ay)(u.name)," ","".concat(u.is_event&&u.event_services_included_details&&u.event_services_included_details.admission&&!u.has_option_price?" (".concat(u.event_services_included_details.admission,")"):"")]})})]}),(0,h.jsxs)("div",{id:"package-first-row",className:"row",children:[(0,h.jsx)("div",{id:"col-package-checkout",className:"col-sm-12 col-md-5 cold-lg-4 col-xl-4 col-aside",children:(0,h.jsxs)("div",{id:"package-checkout-wrapper",className:"".concat(u.has_option_price?"":"sticky-top"),children:[(0,h.jsxs)("div",{className:"checkout-wrapper z-depth-1 has-promo  promotion-deals-active ".concat(u.is_event?"checkout-wrapper-event":""),children:[(F>=768||u.is_table_purchase)&&(0,h.jsxs)("h6",{id:"checkout-wrapper-product-name",className:"text-center font-weight-bold",children:[(0,a.Ay)(u.name),"  ","".concat(u.is_event&&u.event_services_included_details&&u.event_services_included_details.admission&&!u.has_option_price?" (".concat(u.event_services_included_details.admission,")"):"")]}),(0,h.jsx)(s.A,{componentSource:"package-details",product:u,productAvailability:f,productAvailabilityloader:y,settings:l,site:t})]}),!u.is_event&&(0,h.jsxs)("div",{className:"package-worry-free-purchase-wrapper ".concat((0,$.mh)(t)),children:[(0,h.jsx)("div",{className:"full-width-section-divider d-md-none"}),(0,h.jsx)("div",{className:"checkout-wrapper mt-md-3 mb-md-3",children:(0,h.jsx)(de,{product:u})})]}),F>=768&&u.is_event&&u.package_recommended_frontend&&u.package_recommended_frontend.length>0&&f&&f.sold_out&&(0,h.jsx)("div",{id:"col-easy-boarding-even-better-desktop",children:(0,h.jsx)(Ne,{product:u,site:t,productAvailability:f})}),(0,h.jsx)("div",{id:"col-easy-boarding-even-better-desktop",children:(0,h.jsx)("div",{className:"package-easy-boarding-wrapper checkout-wrapper checkout-wrapper mt-3",children:(0,h.jsx)(ye,{product:u})})}),F>=768&&(!u.is_event||u.is_event&&f&&!f.sold_out)&&u.package_recommended_frontend&&u.package_recommended_frontend.length>0&&(0,h.jsx)("div",{id:"col-easy-boarding-even-better-desktop",children:(0,h.jsx)(Ne,{product:u,site:t,productAvailability:f})})]})}),(0,h.jsxs)("div",{id:"col-package-details",className:"col-sm-12 col-md-7 cold-lg-8 col-xl-8 ".concat(function(e){if(!e.is_event&&!e.is_attraction)switch(e.type){case 1:return"sightseeing-cruise";case 2:return"sightseeing-bus";case 3:return"sightseeing-bike";case 4:return"sightseeing-bundle-pass "+(1==e.days?"one-day":"mutliple-days")}return e.is_attraction?"sightseeing-attraction-bundle-pass "+(1==e.days?"one-day":"mutliple-days"):e.is_event?"attraction-holiday-pass":"product-pass-container"}(u)),children:[(0,h.jsx)("div",{className:"full-width-section-divider full-width-section-divider-main-header"}),!u.is_event&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{id:"package-general-description",className:"mb-3 clearfix",children:[(0,h.jsxs)("h5",{className:"text-center fw-600",children:["About  ",(0,a.Ay)(u.name)," "]}),u.description&&""!==u.description.trim()?(0,a.Ay)(u.description):""]}),t&&(0,h.jsx)(re,{product:u,handleStopSelectedProductComponent:function(e){B(e),S.data[e]&&S.data[e].routes&&S.data[e].routes[0]?C(S.data[e].routes[0].transloc_id):C("all")},handlerRouteSelectedProductComponent:function(e){C(e)},site:t})]}),u.is_event&&u.description&&""!==u.description.trim()&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{id:"package-general-description",className:"package-general-description",children:[(0,h.jsx)("h5",{className:"general-description-title fw-600 ",children:l&&l.includes&&l.includes.experience_title?l.includes.experience_title:"The experience"}),(0,h.jsx)("div",{className:"package-general-description-container",children:(0,a.Ay)(u.description)}),u.is_event&&u.event_services_included_details&&u.event_services_included_details.event_guests&&u.event_services_included_details.event_guests.length>0&&(0,h.jsxs)("div",{className:"tour-sights-container mt-3",children:[(0,h.jsx)("h3",{className:"general-description-title",children:l&&l.includes&&l.includes.event_guests_title?l.includes.event_guests_title:"Guest DJ Lineup"}),(0,h.jsx)(Je,{site:t,sightsToSee:u.event_services_included_details.event_guests})]})]}),(0,h.jsx)("div",{className:"full-width-section-divider"})]}),u.is_event&&u.event_services_included_details&&(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"included-section-container",children:[(0,h.jsx)("h3",{className:"general-description-title ",children:l&&l.includes&&l.includes.includes_title?l.includes.includes_title:"Included"}),(0,h.jsx)("div",{className:"included-section-wrapper",children:(0,h.jsx)("ul",{className:"included-list",children:u.event_services_included_details.includes.map((function(e,t){return(0,h.jsxs)("li",{className:"list-item",children:[(0,h.jsx)("i",{className:"fa fa-check included-icon","aria-hidden":"true"}),(0,h.jsxs)("span",{children:["string"==typeof e&&(0,a.Ay)(e),"string"!=typeof e&&(0,h.jsxs)(h.Fragment,{children:[(0,a.Ay)(e.name),": ",(0,a.Ay)(e.value)]})]})]},t)}))})})]})}),u.is_event&&u.event_services_included_details&&u.event_services_included_details.sites_to_see&&u.event_services_included_details.sites_to_see.length>0&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"full-width-section-divider"}),(0,h.jsxs)("div",{className:"tour-sights-container mt-3",children:[(0,h.jsx)("h3",{className:"general-description-title",children:l&&l.includes&&l.includes.amazing_photo_ops_title?l.includes.amazing_photo_ops_title:"Amazing Experience and Photo Ops"}),(0,h.jsx)(Fe,{site:t,sightsToSee:u.event_services_included_details.sites_to_see,isOneRow:u.event_services_included_details.event_guests||u.event_services_included_details.sites_to_see.length<10})]})]}),u.is_event&&u.event_services_included_details&&u.event_services_included_details.food_menu&&u.event_services_included_details.food_menu.length>0&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"full-width-section-divider"}),(0,h.jsx)(E,{foodMenuCourseTitle:u.event_services_included_details.course_meal_label,foodMenu:u.event_services_included_details.food_menu})]}),u.is_event&&u.event_services_included_details&&u.event_services_included_details.seating_arrangement&&u.event_services_included_details.seating_arrangement.length>0&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"full-width-section-divider"}),(0,h.jsx)("div",{className:"mt-3 event-detail-wrapper",children:(0,h.jsxs)("div",{className:"tour-sights-container mt-3",children:[(0,h.jsx)("h3",{className:"general-description-title",children:"Seating Arrangement"}),(0,h.jsx)("div",{className:"tour-sights-section",children:(0,h.jsx)("ul",{className:"sights-list",children:u.event_services_included_details.seating_arrangement.map((function(e,t){return(0,h.jsxs)("li",{className:"list-item",children:[(0,h.jsx)("i",{className:"fa fa-circle sights-icon"}),(0,h.jsxs)("span",{children:["  ",(0,a.Ay)(e),"."]})]},t)}))})})]})})]}),u.is_event&&u.event_services_included_details&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"full-width-section-divider"}),(0,h.jsx)("div",{className:"mt-3 event-detail-wrapper",children:(0,h.jsxs)("div",{className:"boarding-information-container",children:[(0,h.jsx)("h3",{className:"general-description-title",children:l&&l.includes&&l.includes.boarding_info_title?l.includes.boarding_info_title:"Boarding Info"}),(0,h.jsxs)("div",{className:"boarding-information-wrapper",children:[(0,h.jsxs)("ul",{className:"boarding-information-list",children:[(0,h.jsxs)("li",{className:"list-item",children:[(0,h.jsx)("i",{className:"fas fa-calendar boarding-info-icon"}),f&&function(e,t){if(!e.event_services_included_details.departure_date_custom&&t.recurre_days&&t.recurre_days.length>0&&t.recurre_days.length<=1){var r=null;t.start_date?r=t.start_date:t.recurre_days&&t.recurre_days.length>0&&(r=t.recurre_days[0]);return(0,a.Ay)("<span><b>".concat("Date",":</b> ").concat(tt()(new Date(new Date(r+" 12:00:00").toLocaleString("en-US",{timeZone:"America/New_York"}))).format("ddd, MMMM DD, YYYY")))}if(e.event_services_included_details.departure_date_custom){var n="Date";return e.event_services_included_details.destination_point?n=e.event_services_included_details.destination_point:e.event_services_included_details.departure_date_custom.toLowerCase().includes("am")&&e.event_services_included_details.departure_date_custom.toLowerCase().includes("pm")||t.reservation_depature_time_slots&&!(t.reservation_depature_time_slots&&t.reservation_depature_time_slots.length<=1)?t.reservation_depature_time_slots&&t.reservation_depature_time_slots.length<=1&&(n=(0,$.td)(t.reservation_depature_time_slots.length,"Departure")):n=(0,$.td)(t.recurre_days?t.recurre_days.length:1,"Date"),(0,a.Ay)("<span><b>".concat(n,":</b> ").concat(e.event_services_included_details.departure_date_custom,"</span>"))}if(t.start_date)return(0,a.Ay)("<span><b>Date:</b> ".concat(tt()(new Date(new Date(t.start_date).toLocaleString("en-US",{timeZone:"America/New_York"}))).format("ddd, MMMM DD, YYYY"),"</span>"))}(u,f)]}),(0,h.jsxs)("li",{className:"list-item",children:[(0,h.jsx)("i",{className:"fas fa-map-marker-alt boarding-info-icon"}),(0,h.jsxs)("span",{children:[(0,h.jsx)("b",{children:"Departure point:"}),(0,h.jsxs)("a",{className:"departure-point",onClick:function(){return e=0,e=F>=768?document.getElementById("map-container").offsetTop+250:document.getElementById("map-container").offsetTop-document.getElementById("package-highlights-wrapper").offsetHeight,void window.scrollTo({top:e,behavior:"smooth"});var e},children:[" ",(0,a.Ay)(u.event_services_included_details.departure_point)," "]})]})]}),(!u.event_services_included_details.boarding_cruising_text_custom||u.event_services_included_details.boarding_cruising_text_custom&&f&&(!f.reservation_depature_time_slots||f.reservation_depature_time_slots.length>0))&&(0,h.jsxs)("li",{className:"list-item",children:[(0,h.jsx)("i",{className:"fas fa-user boarding-info-icon"}),(0,h.jsxs)("span",{children:["   ",f&&function(e,t){return e.event_services_included_details.boarding_cruising_text_custom?(0,a.Ay)(e.event_services_included_details.boarding_cruising_text_custom):!t.reservation_depature_time_slots||t.reservation_depature_time_slots&&t.reservation_depature_time_slots.length<=1?(0,a.Ay)("<b>Boarding:</b> ".concat(t.boarding_time," | <b>Cruising:</b>  ").concat(t.departure_time," - ").concat(t.return_time," ").concat(t.return_date?" ("+tt()(new Date(new Date(t.return_date+" 12:00:00").toLocaleString("en-US",{timeZone:"America/New_York"}))).format("MMM D, yyyy")+")":"")):t.reservation_depature_time_slots&&t.reservation_depature_time_slots.length>1?(0,a.Ay)("<b>Departure times: </b> ".concat(t.reservation_depature_time_slots.map((function(e){return" ".concat(new(tt())(e,"hh:mm:ss").format("h:mma"))})))):void 0}(u,f)," "]})]}),29==u.event_id&&(0,h.jsxs)("li",{className:"list-item",children:[(0,h.jsx)("i",{className:"fas fa-bus boarding-info-icon"}),(0,h.jsxs)("span",{children:[(0,h.jsx)("b",{children:"Destination:"}),' The "North Pole"']})]}),(0,h.jsxs)("li",{className:"list-item",children:[(0,h.jsx)("i",{className:"fas fa-mobile-alt boarding-info-icon"}),(0,h.jsxs)("span",{children:[(0,h.jsx)("b",{children:"How to board:"})," Scan your e-pass, no print-outs needed"]})]}),(0,h.jsxs)("li",{className:"list-item",children:[(0,h.jsx)("i",{className:"fas fa-clock boarding-info-icon"}),(0,h.jsxs)("span",{children:[" ",function(e){return e.event_services_included_details.boarding_cruise_duration_text_custom?(0,a.Ay)(e.event_services_included_details.boarding_cruise_duration_text_custom):(0,a.Ay)("<b>Complete ".concat(1==e.type?"cruise":"trip"," duration:</b> Approx. ").concat((0,$.W4)(e.event_services_included_details.duration)))}(u)," "]})]})]}),l&&l.includes&&l.includes.boarding_info_note&&(0,h.jsxs)("div",{className:"covid-vaccination-requirement",children:[(0,h.jsx)("i",{className:"fas fa-exclamation covid-vaccination-requirement-icon"}),(0,h.jsxs)("div",{className:"covid-vaccination-requirement-content",children:[(0,h.jsx)("span",{children:"Note:"}),(0,h.jsx)("p",{children:l.includes.boarding_info_note})]})]})]})]})})]})]}),675!=u.id&&(0,h.jsxs)("div",{id:"map-container",className:"container",children:[(0,h.jsx)("div",{className:"full-width-section-divider"}),(0,h.jsx)("div",{className:"row",children:(0,h.jsxs)("div",{className:"col-sm-12 col-md-7 cold-lg-8 col-xl-8",children:[!u.is_event&&w&&S&&I&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h5",{className:"mb-3 text-center fw-600",children:l&&l.includes&&l.includes.map_title?l.includes.map_title:"New York Attractions, Tours, and Routes Map"}),(0,h.jsx)("div",{id:"Include_livemap_ui",className:"Include_livemap_ui_container",children:(0,h.jsx)(Ae.A,{product:u,sourceParent:"package_det_page",livemap:w,stops:S,routes:I,stopSelectedByTourSection:L,routeSelected:q,attractionMarkers:D})}),(0,h.jsx)("div",{className:"mt-1 mb-2",children:(0,h.jsx)("div",{className:"map-caption-under",children:(0,a.Ay)(G(u))})})]}),u.is_event&&u.event_services_included_details&&u.event_services_included_details.segments&&u.event_services_included_details.segments.length>0&&u.event_services_included_details.locations&&u.event_services_included_details.locations.length>0&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h3",{className:"general-description-title",children:l&&l.includes&&l.includes.map_title?l.includes.map_title:"Departure Point and Route Map"}),(0,h.jsx)("div",{className:"map-wrapper",children:(0,h.jsx)(Ie.A,{componentSource:"product-event-show",routeSegmentsDrawn:u.event_services_included_details.segments[0],locations:u.event_services_included_details.locations,locationSettings:u.event_services_included_details.location_settings,opIcons:u.event_services_included_details.op_icons,packageId:u.id,iconMarker:function(e){return 1==e.type?"".concat("/new-york","/assets/images/maps/icons/boat-icon-red.svg"):2==e.type||4==e.type?"".concat("/new-york","/assets/images/maps/icons/bus-icon-red.svg"):3==e.type||7==e.type?"".concat("/new-york","/assets/images/maps/icons/brcp_icon_marker.svg"):"".concat("/new-york","/assets/images/maps/icons/boat-icon-red.svg")}(u),iconMarkerColor:function(e){return 1==e.type?"#1B12D6":2==e.type&&e.slug.includes("night-")?"#aa66cc":2==e.type||4==e.type||3==e.type||7==e.type?"#e81515":"#1B12D6"}(u),routeColor:function(e){return 1==e.type?"#1B12D6":2==e.type&&e.slug.includes("night-")?"#aa66cc":2==e.type||4==e.type||3==e.type||7==e.type?"#e81515":"#1B12D6"}(u),mapLocation:(0,$.aL)(u)})}),(0,h.jsx)("div",{className:"mt-1 mb-2",children:(0,h.jsx)("div",{className:"map-caption-under",children:(0,a.Ay)(G(u))})})]})]})})]}),675==u.id&&F<768&&(0,h.jsx)("div",{id:"map-container",className:"container",children:(0,h.jsx)("div",{className:"full-width-section-divider"})}),F<1024&&u.package_recommended_frontend&&u.package_recommended_frontend.length>0&&(0,h.jsx)("div",{id:"col-easy-boarding-even-better-mobile",className:"col-sm-12 col-md-7 cold-lg-8 col-xl-8 pb-3 \n                                ".concat(u.is_event&&f&&f.sold_out?"sold-out-product":""),children:(0,h.jsxs)("div",{className:"package-even-better-wrapper",children:[(0,h.jsx)("div",{className:"full-width-section-divider d-md-none"}),(0,h.jsx)("div",{className:"checkout-wrapper checkout-wrapper ",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col",children:(0,h.jsx)(Ne,{product:u,site:t,productAvailability:f})})})})]})}),F<1024&&(!u.is_event||u.is_event&&2==u.type)&&(0,h.jsx)("div",{id:"col-easy-boarding-even-better-mobile",className:"col-sm-12 col-md-7 cold-lg-8 col-xl-8 pb-3",children:(0,h.jsxs)("div",{className:"package-easy-boarding-wrapper ",children:[(0,h.jsx)("div",{className:"full-width-section-divider d-md-none"}),(0,h.jsx)("div",{className:"checkout-wrapper checkout-wrapper ",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col",children:(0,h.jsx)(ye,{product:u})})})})]})})]}),t&&t.social_media_links&&t.social_media_links.pdp&&t.social_media_links.pdp.show_social_media_footer&&!u.is_event&&(0,h.jsx)("div",{id:"package-social-wrapper",className:"container",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsxs)("nav",{id:"social-buttons-list",className:"col-sm-12 col-md-7 cold-lg-8 col-xl-8",children:[(0,h.jsx)("a",{className:"btn btn-social-icon btn-facebook",id:"package-details-facebook-link",onClick:function(){return window.open("https://www.facebook.com/sharer/sharer.php?u=https://".concat(t.domain,"/packages/package/").concat(o.slug),"facebook-share-dialog","width=626,height=436")},children:(0,h.jsx)("span",{className:"fab fa-facebook-f"})}),(0,h.jsx)("a",{className:"btn btn-social-icon btn-twitter",id:"package-details-twitter-link",onClick:function(){return window.open("https://twitter.com/intent/tweet?text=".concat(t.name,"&url=https://").concat(t.domain,"/packages/package/").concat(productAp.slug,"&hashtags=nyc,tourism&via=").concat(o.slug),"facebook-share-dialog","width=626,height=436")},children:(0,h.jsx)("span",{className:"fab fa-twitter"})}),(0,h.jsx)("a",{className:"btn btn-social-icon btn-google-plus",id:"package-details-google-plus-link",onClick:function(){return window.open("https://plus.google.com/share?url=https://".concat(t.name,"&url=https://").concat(t.domain,"/packages/package/").concat(o.slug),"facebook-share-dialog","width=626,height=436")},children:(0,h.jsx)("span",{className:"fab fa-google-plus-g"})})]})})}),t&&t.social_media_links&&t.social_media_links.pdp&&t.social_media_links.pdp.show_author_editor_footer&&!u.is_event&&(0,h.jsx)("div",{className:"container",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsxs)("p",{className:"text-right",style:{fontSize:"12px"},children:["This page was edited by ",(0,h.jsx)("a",{href:"".concat("/new-york","/authors/steven-thomas"),children:"Steven Thomas"})]})})})]})]})},gt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),it(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lt(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return(0,h.jsx)(Xe.A,{})}}])&&ot(r.prototype,n),o&&ot(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(n.Component);o.createRoot(document.getElementById("Include_package_index_page")).render((0,h.jsx)(ft,{})),o.createRoot(document.getElementById("include__seo_content_ui")).render((0,h.jsx)(gt,{}))},2007:(e,t,r)=>{"use strict";r.d(t,{A:()=>y});var n=r(96540),o=r(22594),a=r(83245),i=r(95093),s=r.n(i),c=r(46190),l=r(51804),d=r(74848);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function m(e,t,r){return t=f(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,h()?Reflect.construct(t,r||[],f(e).constructor):t.apply(e,r))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function _(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var y=function(e){function t(e){var r,n,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=m(this,t,[e]),n=r,a=function(e){r.props.productsAddeBooking(e)},(o=_(o="handleTotalProducts"))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a,r.state={cart:r.props.cart,totalProductsBooking:e.productsAddeBooking,isOverlay:r.props.isOverlay},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){"booking-window-det-page"==this.props.component&&this.props.package&&this.props.package.is_event&&this.props.productAvailability&&this.props.productAvailability.reservation_depature_time_slots&&this.props.productAvailability.reservation_depature_time_slots.length<=1&&this.props.productAvailability.recurre_days&&this.props.productAvailability.recurre_days.length<=1?localStorage.setItem("reservation_date_tour",this.props.productAvailability.recurre_days[0]+" "+this.props.productAvailability.reservation_depature_time_slots[0]):"booking-window-det-page"==this.props.component&&this.props.package&&this.props.package.is_event&&this.props.productAvailability&&this.props.productAvailability.recurre_days&&this.props.productAvailability.reservation_depature_time_slots&&this.props.productAvailability.reservation_depature_time_slots.length<=1&&this.props.cart&&!(0,l.JI)(this.props.productAvailability.blocked_dates,s()(this.props.cart.reserve_date))?this.props.cart.package_id==this.props.package.id&&this.props.cart.is_booked&&this.props.cart.reserve_date&&this.props.productAvailability&&this.props.productAvailability.reservation_depature_time_slots&&this.props.productAvailability.reservation_depature_time_slots.length<=1?localStorage.setItem("reservation_date_tour",new(s())(this.props.cart.reserve_date).format("YYYY-MM-DD")+" "+this.props.productAvailability.reservation_depature_time_slots[0]):localStorage.setItem("reservation_date_tour",this.props.productAvailability.recurre_days[0]):"booking-window-det-page"==this.props.component&&this.props.package&&this.props.package.is_event&&this.props.productAvailability&&this.props.productAvailability.reservation_depature_time_slots&&this.props.productAvailability.reservation_depature_time_slots.length<=1&&this.props.productAvailability.recurre_days&&this.props.productAvailability.recurre_days.length>1&&this.props.package&&this.props.package.booking_price_type&&("specific_and_flexible"==this.props.package.booking_price_type||"is_only_specific_date"==this.props.package.booking_price_type)&&localStorage.setItem("reservation_date_tour",this.props.productAvailability.recurre_days[0]+" "+this.props.productAvailability.reservation_depature_time_slots[0])}},{key:"getReservationDate",value:function(e,t){return t&&e&&t.package_id==e.id&&t.is_booked?new(s())(t.reserve_date):e&&this.props.productAvailability&&!this.props.productAvailability.recurre_days&&e.is_event?new(s())(pthis.props.productAvailability.available_until):null}},{key:"render",value:function(){return this.props.cart&&(0,d.jsxs)("div",{className:"package-unique-option",children:[this.props.productAvailability&&this.props.productAvailability.recurre_days&&this.props.productAvailability.recurre_days.length>1&&(0,d.jsx)(a.A,{product:this.props.package,productAvailability:this.props.productAvailability,reservationDateIn:this.getReservationDate(this.props.package,this.props.cart),component:this.props.component,datePickerRequired:this.props.datePickerRequired,setDatePickerRequired:this.props.setDatePickerRequired,timeslotPickerRequired:this.props.timeslotPickerRequired,setTimeslotPickerRequired:this.props.setTimeslotPickerRequired,flexibleSelect:this.props.flexibleSelect,handleUpdateCart:this.props.handleUpdateCart,cart:this.props.cart,setReservationDepatureTimeSlotsIn:null,setReservationStopsDepatureTimeSlotsIn:null}),(0,d.jsxs)("div",{className:"prices-container ".concat(this.props.package.is_adult_only?"is-only-adults":""),children:[(0,d.jsx)("div",{id:"package--loader-icon-container",className:"package--loader-icon-container",style:{display:"none"},children:(0,d.jsx)(c.A,{size:30})}),(0,d.jsx)("div",{className:"price-quantity-wrapper adults-wrapper  text-center",children:(0,d.jsx)(o.A,{package:this.props.package,product:"adult",component:this.props.component,cart:this.props.cart,productsAddeBooking:this.handleTotalProducts,flexibleSelect:this.props.flexibleSelect,productAvailability:this.props.productAvailability})}),!this.props.package.is_adult_only&&(0,d.jsx)("div",{className:"price-quantity-wrapper kids-wrapper",children:(0,d.jsx)(o.A,{package:this.props.package,product:"kid",component:this.props.component,cart:this.props.cart,productsAddeBooking:this.handleTotalProducts,flexibleSelect:this.props.flexibleSelect,productAvailability:this.props.productAvailability})})]})]})}}])&&p(r.prototype,n),i&&p(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(n.Component)},11659:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var n=r(96540),o=r(10900),a=r(74848);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function c(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function l(e,t,r){return t=u(t),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d()?Reflect.construct(t,r||[],u(e).constructor):t.apply(e,r))}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}var m=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=l(this,t,[e])).state={seoContent:window.TV_seo_content},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return this.state.seoContent&&(0,a.jsx)("div",{className:"container home-content-seo",children:(0,o.Ay)(this.state.seoContent)})}}])&&s(r.prototype,n),i&&s(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(n.Component)},22427:(e,t,r)=>{"use strict";r.d(t,{A:()=>A});var n=r(96540),o=r(10900),a=r(46190),i=r(86953),s=r(46942),c=r.n(s),l=r(4589),d=r(18205),u=r(10159),p=r(15357),m=r(51804),h=r(74692),f=r.n(h),g=r(54219),_=r(95093),y=r.n(_),v=r(74848);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var N=r(95812);function A(e){var t=u.Fr?40.7521833:40.7540038,s=u.Fr?-73.9842212:-74.0063655,h=u.Fr?40.7521833:40.7544729,_=u.Fr?-73.9842212:-74.0084053,b=e.livemap,x=e.stops,k=e.routes,S=e.sourceParent,A=e.routeSelected,I=e.stopSelectedByTourSection,E=e.product,O=e.attractionMarkers,T=(0,n.useRef)(null),L=(0,n.useRef)(null),B=j((0,n.useState)(I),2),P=B[0],q=B[1],C=j((0,n.useState)(A),2),M=C[0],D=C[1],Y=j((0,n.useState)(!1),2),F=Y[0],R=Y[1],H=j((0,n.useState)(null),2),z=H[0],$=H[1],G=j((0,n.useState)(null),2),U=G[0],Q=(G[1],j((0,n.useState)(x.sorted_map),2)),W=Q[0],V=Q[1],K=j((0,n.useState)(k.sorted_map),2),Z=K[0],J=K[1],X=j((0,n.useState)(k.data),2),ee=X[0],te=(X[1],j((0,n.useState)("package_det_page"==S?h:t),2)),re=te[0],ne=te[1],oe=j((0,n.useState)("package_det_page"==S?_:s),2),ae=oe[0],ie=oe[1],se=j((0,n.useState)(!1),2),ce=se[0],le=se[1],de=j((0,n.useState)(!1),2),ue=de[0],pe=de[1],me=j((0,n.useState)(!1),2),he=me[0],fe=me[1],ge=j((0,n.useState)(!1),2),_e=ge[0],ye=ge[1],ve=j((0,n.useState)("To use the location features on the map, please turn on the Location Sharing from your device"),2),be=ve[0],xe=(ve[1],j((0,n.useState)(null),2)),we=xe[0],ke=xe[1],je=j((0,n.useState)(null),2),Se=je[0],Ne=je[1],Ae=j((0,n.useState)(!1),2),Ie=Ae[0],Ee=Ae[1],Oe=j((0,n.useState)(null),2),Te=Oe[0],Le=Oe[1],Be=j((0,n.useState)(null),2),Pe=Be[0],qe=Be[1],Ce=j((0,n.useState)(null),2),Me=Ce[0],De=Ce[1],Ye=j((0,n.useState)(null),2),Fe=Ye[0],Re=Ye[1],He=j((0,n.useState)(!1),2),ze=(He[0],He[1],j((0,n.useState)(!1),2)),$e=ze[0],Ge=ze[1],Ue=j((0,n.useState)(!1),2),Qe=Ue[0],We=Ue[1],Ve=j((0,n.useState)(!1),2),Ke=Ve[0],Ze=Ve[1],Je=("".concat("/new-york","/assets/images/maps/icons/person-walking-solid.svg"),(0,g.l)().screenWidth),Xe={slidesToShow:1.5,infinite:!1,arrows:!1,mobileFirst:!0,dots:!0,swipeToSlide:!0,touchThreshold:100,speed:300,responsive:[{breakpoint:640,settings:{slidesToShow:"attraction-pass-landing-page"==S?4:1.5,swipeToSlide:!0,touchThreshold:100,speed:200}},{breakpoint:1024,settings:{slidesToShow:2.5,swipeToSlide:!0,touchThreshold:100,speed:200}},{breakpoint:1e5,settings:"unslick"}]};function et(){"package_det_page"!=S&&"attraction-pass-landing-page"!=S||We(!!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])||!Qe)}function tt(e,t){if(("livemap"==S||"nycguide"==S||t)&&q(e),t){var n=0;n=u.Fr||u.v1?f()("#live-map-wrapper").offset().top-70:f()("#live-map-wrapper").offset().top-110,window.scrollTo({top:n,behavior:"smooth"})}"livemap"==S&&function(e){try{Re(null),r(86425).default.get("https://transloc-api-1-2.p.rapidapi.com/arrival-estimates.json?agencies=901&stops=".concat(e),{headers:{"X-RapidAPI-Key":"LsviDlB26NmshpbEL47TeHPz4RoLp1dMtKXjsnIm4pT0xJYEki"}}).then((function(e){var t=[];(t=e.data.data)&&t.length>0&&Object.keys(t)[0]?Re(t[Object.keys(t)[0]]):Re(null)})).catch((function(e){return console.log(e)}))}catch(e){console.log(e)}}(e)}function rt(e,t,r){var n="",o=new Date((new Date).toLocaleString("en-US",{timeZone:"America/New_York"})),a=new(y())(o),i=o.getHours();if(U&&t&&t.transloc_id&&e.id&&pt(t.transloc_id,e.id))return"This stop is blocked";if(t.is_hoponhopoff&&"livemap"==S){var s=t.available_hours.split(" - "),c=y()(a.format("YYYY-MM-DD")+" "+y()(s[0],"h:mma").format("HH:mm:ss")),l=y()(a.format("YYYY-MM-DD")+" "+y()(s[1],"h:mma").format("HH:mm:ss")),d=l.add(2,"hours").format("HH:mm:ss");if(4200680==e.id&&a.isBefore(y()("11:00:00")))n="*Hop-on Hop-Off Downtown buses schedule is Daily 8:00am - 6:00pm.";else if((a.isAfter(c)||a.isSame(c))&&(a.isBefore(y()(a.format("YYYY-MM-DD")+" "+d))||a.isSame(y()(a.format("YYYY-MM-DD")+" "+d)))){var u='<i class="fas fa-clock"></i> Buses arrive frequently. Please check back in a few minutes for the updated arrival time.';if(!(i<=parseInt(l.add(1,"hours").format("HH")))||r&&r.arrivals&&r.arrivals[0])if(!(i>parseInt(l.add(1,"hours").format("HH")))||r&&r.arrivals&&r.arrivals[0])if(r&&r.arrivals&&r.arrivals[0]){var p=parseInt(y().duration(y()(r.arrivals[0].arrival_at).diff(y()()))._data.minutes);r="in "+p+" minute"+(p>1?"s":""),n='<i class="fas fa-clock"></i> Bus arriving now';p>0&&(n='<i class="fas fa-clock"></i> Bus arriving '+r),p>120&&routeId==uptownRouteId&&(n=u)}else n=u;else n=" This tour operates between "+c.format("h:mma")+" and "+y()(s[1],"h:mma").format("h:mma");else n='<i class="fas fa-clock"></i> Buses arrive frequently. Please check back in a few minutes for the updated arrival time.'}else n="This tour operates between "+c.format("h:mma")+" and "+y()(s[1],"h:mma").format("h:mma");return n}}function nt(e,t){q(null),D(e),R(!0),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var r=null,n=null,o=null,a=null;if("all"==e)V(x.sorted_map),J(k.sorted_map),r=(re+40.6921568)/2,n=(ae+-74.0162492)/2,o=Math.abs(re-40.6921568),a=Math.abs(ae- -74.0162492);else{V(k.data[e].sorted_stops),J([{transloc_id:e}]);var i=k.data[e].sorted_stops;if(i&&i.length>3){var s=i[Math.floor((i.length-1)/2)];r=(x.data[i[0].transloc_id].cords.lat+x.data[s.transloc_id].cords.lat)/2,n=(x.data[i[0].transloc_id].cords.lng+x.data[s.transloc_id].cords.lng)/2,o=Math.abs(x.data[i[0].transloc_id].cords.lat-x.data[s.transloc_id].cords.lat),a=Math.abs(x.data[i[0].transloc_id].cords.lng-x.data[s.transloc_id].cords.lng)}else{var c=re,l=ae,d=x.data[i[0].transloc_id].cords.lat,u=x.data[i[0].transloc_id].cords.lng;"888"==e?(c=40.6883233,l=-74.0243255):"4009570"==e?(c=40.6632967,l=-73.9478964,c=k.data[e].latitude,l=k.data[e].longitude):"4009574"==e&&(c=40.7102069,l=-73.9877453),r=(d+c)/2,n=(u+l)/2,o=Math.abs(d-c),a=Math.abs(u-l)}}T.current.setRegionAnimated(new mapkit.CoordinateRegion(new mapkit.Coordinate(r,n),new mapkit.CoordinateSpan(o+.04,a+.04))),null!==t&&window.innerWidth<1024&&setTimeout((function(){L.current.slickGoTo(t)}),300)}catch(e){console.log(e)}}(e,t),"package_det_page"==S&&Je<768&&et(!0)}function ot(e,t){if(U&&t&&t.transloc_id&&e.id&&pt(t.transloc_id,e.id))return"This stop is blocked";if("bus_single_hour"==t.type||"boat_single_hour"==t.type){var r=y()(t.available_hours,"HH:mm:ss A");return"Departs once daily at ".concat(r.format("h:mm a"))}if("boat_multiple_hours"==t.type||"bus_multiple_hours"==t.type)return"".concat(t.available_hours);if("temporarily_unavailable"==t.type)return"This tour is temporarily unavailable";if("bus_range_hours"==t.type){var n=t.available_hours.split(" - "),o=(r=y()(n[0],"HH:mm:ss A"),y()(n[1],"HH:mm:ss A"));return 4200680!=e.id?"This tour operates between ".concat(r.format("h:mma")," and ").concat(o.format("ha")):"*Hop-on Hop-Off Downtown buses schedule is Daily 8:00am - 6:00pm."}r=y()(t.available_hours,"HH:mm:ss A");return"Departs once daily at ".concat(r.format("h:mm a"))}function at(e){if(null!==E&&E.has_downtown_bus_tour_single_ride&&4015858==e.transloc_id)return"Downtown Single Ride";e.name;return"attraction-pass-landing-page"==S?e.name.replace("Hop-On Hop-Off",""):e.name.replace("Hop-On",'<br class="route-name-br"/>Hop-On').replace("Express",'<br class="route-name-br"/>Express')}function it(e){e.data;var t=W;return M&&"all"!=M&&k.data[M]&&(t=k.data[M].sorted_stops),x&&W&&t&&t.map((function(t,r){return(0,v.jsxs)("a",{onClick:function(){tt(t.transloc_id,!0)},className:"nav-link stop-link",dataid:t.transloc_id,"dataroute-id":t.transloc_id,children:[(0,v.jsxs)("strong",{children:[x.data[t.transloc_id].routes&&x.data[t.transloc_id].routes.length>0&&(!M||"all"==M)&&x.data[t.transloc_id].routes.map((function(e,r){if(k.data[e.transloc_id]&&(!M||"all"!=M||888!=e.transloc_id))return 888==e.transloc_id||4009818==e.transloc_id?(0,v.jsx)("img",{width:"30",height:"30",src:"".concat("/new-york","/assets/images/maps/icons/boat-icon-red.svg?v=3")},r):(0,v.jsxs)("svg",{width:"20",height:"20",xmlns:"http:www.w3.org/2000/svg",children:[(0,v.jsx)("circle",{fill:"".concat(k.data[e.transloc_id].color),r:"10",cy:"10",cx:"10",id:"main"}),(0,v.jsx)("text",{id:"svg_1",fill:"#fff",fontSize:"12px",fontFamily:"Courier",y:"13.22581",x:"10",textAnchor:"middle",children:x.data[t.transloc_id].stop_number})]},r)})),x.data[t.transloc_id]&&"all"!=M&&k.data[M]&&888!=k.data[M].transloc_id&&4009818!=k.data[M].transloc_id&&(0,v.jsxs)("svg",{width:"20",height:"20",xmlns:"http:www.w3.org/2000/svg",children:[(0,v.jsx)("circle",{fill:"".concat(k.data[M].color),r:"10",cy:"10",cx:"10",id:"main"}),(0,v.jsx)("text",{id:"svg_1",fill:"#fff",fontSize:"12px",fontFamily:"Courier",y:"13.22581",x:"10",textAnchor:"middle",children:x.data[t.transloc_id].stop_number})]},r),4209812==t.transloc_id&&(0,v.jsx)("img",{width:"30",height:"30",src:"".concat("/new-york","/assets/images/maps/icons/boat-icon-red.svg?v=3")},r),e.stops.data[t.transloc_id].name]}),e.stops.data[t.transloc_id].address]},t.transloc_id)}))}function st(e){var t=e.stops,r=e.routes,n=e.livemap;return(t&&W).map((function(e,o){var a=t.data[e.transloc_id].routes&&t.data[e.transloc_id].routes.length>0?t.data[e.transloc_id].routes.map((function(e){var t;return null===(t=r.data[e.transloc_id])||void 0===t?void 0:t.color})):["#ff4444"];return"all"!=M&&F&&(a=[r.data[M].color]),e&&t.data[e.transloc_id]&&t.data[e.transloc_id].is_closed&&(a=["#777"]),(0,v.jsx)(lt,{openPopup:P===e.transloc_id,stops:t,routes:r,stop:e,livemap:n,colors:a,stopIcon:"4209812"==e.transloc_id?"https://v3.libertycruise.nyc/assets/images/maps/icons/marker_red.png":null},o)}))}function ct(e){return 4209812==e.id||e.name.toLowerCase().includes("pier")?"".concat((0,o.Ay)(e.name)):"Stop ".concat(e.stop_number," - ").concat((0,o.Ay)(e.name))}function lt(e){var t=e.stops.data[e.stop.transloc_id].routes&&e.stops.data[e.stop.transloc_id].routes.length>0?e.stops.data[e.stop.transloc_id].routes.map((function(e){var t;return null===(t=k.data[e.transloc_id])||void 0===t?void 0:t.color})):["#ff4444"];"all"!=M&&F&&(t=[e.routes.data[M].color]),e.stops&&e.stops.data[e.stop.transloc_id]&&e.stops.data[e.stop.transloc_id].is_closed&&(t=["#777"]);var r=4209812!=e.stop.transloc_id?(0,m.VE)(t,e.stops.data[e.stop.transloc_id].stop_number):"".concat("/new-york","/assets/images/maps/icons/boat-icon-red.svg?v=3"),n=4209812!=e.stop.transloc_id?{width:35,height:35}:{width:45,height:45};return(0,v.jsx)(i.YH,{latitude:e.stops.data[e.stop.transloc_id].cords.lat,longitude:e.stops.data[e.stop.transloc_id].cords.lng,title:ct(e.stops.data[e.stop.transloc_id]),subtitle:ct(e.stops.data[e.stop.transloc_id]),selected:P&&e.stop.transloc_id==P,onSelect:function(){tt(e.stop.transloc_id,!1)},animates:!1,calloutElement:(0,v.jsxs)("div",{className:"apple-marker-popup-content",children:[(0,v.jsx)("h6",{className:"leaflet-popup-content-title",children:ct(e.stops.data[e.stop.transloc_id])}),(0,v.jsx)("p",{className:"leaflet-popup-content-address",children:(0,o.Ay)(e.stops.data[e.stop.transloc_id].address)}),(0,v.jsxs)("div",{className:"leaflet-popup-subcontent",children:[e.stops.data[e.stop.transloc_id].routes&&e.stops.data[e.stop.transloc_id].routes.length>0&&Z&&"all"==M&&e.stops.data[e.stop.transloc_id].routes.map((function(t,r){if(e.livemap.routes.data[t.transloc_id])return(0,v.jsxs)("div",{children:[!e.stops.data[e.stop.transloc_id].is_closed&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h6",{className:"leaflet-popup-content-route-name",style:{color:" white",backgroundColor:e.livemap.routes.data[t.transloc_id].color},children:e.livemap.routes.data[t.transloc_id].name}),(0,v.jsx)("ul",{className:"leaflet-popup-content-departure-time",children:(0,v.jsxs)("li",{style:{textAlign:"left"},children:["livemap"==S&&e.livemap.routes.data[t.transloc_id].is_hoponhopoff&&(0,o.Ay)(rt(e.stops.data[e.stop.transloc_id],e.livemap.routes.data[t.transloc_id],Fe)),("livemap"!=S||"livemap"==S&&!e.livemap.routes.data[t.transloc_id].is_hoponhopoff)&&(0,o.Ay)(ot(e.stops.data[e.stop.transloc_id],e.livemap.routes.data[t.transloc_id]))]})})]}),e.stops.data[e.stop.transloc_id].is_closed&&(0,v.jsx)("h6",{className:"leaflet-popup-content-route-name",style:{color:"#FF0000",fontWeight:"bold"},children:"This stop is closed"})]},r)})),e.stops.data[e.stop.transloc_id].routes&&e.stops.data[e.stop.transloc_id].routes.length>0&&Z&&"all"!=M&&e.livemap.routes.data[M]&&!e.stops.data[e.stop.transloc_id].is_closed&&(0,v.jsxs)("div",{children:[(0,v.jsx)("h6",{className:"leaflet-popup-content-route-name",style:{color:" white",backgroundColor:e.livemap.routes.data[M].color},children:e.livemap.routes.data[M].name}),(0,v.jsx)("ul",{className:"leaflet-popup-content-departure-time",children:(0,v.jsxs)("li",{style:{textAlign:"left"},children:["livemap"==S&&e.livemap.routes.data[M].is_hoponhopoff&&(0,o.Ay)(rt(e.stops.data[e.stop.transloc_id],e.livemap.routes.data[M],Fe)),("livemap"!=S||"livemap"==S&&!e.livemap.routes.data[M].is_hoponhopoff)&&(0,o.Ay)(ot(e.stops.data[e.stop.transloc_id],e.livemap.routes.data[M]))]})})]}),e.stops.data[e.stop.transloc_id].routes&&e.stops.data[e.stop.transloc_id].routes.length>0&&Z&&"all"!=M&&e.livemap.routes.data[M]&&e.stops.data[e.stop.transloc_id].is_closed&&(0,v.jsx)("div",{children:(0,v.jsx)("h6",{className:"leaflet-popup-content-route-name",style:{color:"#FF0000",fontWeight:"bold"},children:"This stop is closed"})})]})]}),children:(0,v.jsx)("img",{style:n,src:r})})}function dt(e){var t=e.routes;return"attraction-pass-landing-page"!=S?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"mobile-slider "+(ce?"closed-mobile-slider":""),onClick:function(){le(!0)},children:(0,v.jsx)("i",{className:"fa fa-chevron-left"})}),(0,v.jsxs)(l.A,w(w({ref:L,className:"routes-list-link-container"},Xe),{},{children:[(0,v.jsx)("a",{onClick:function(){nt("all",0)},className:c()("route-item","btn-outline-all",{active:"all"===M}),children:(0,v.jsx)("div",{children:"All routes run daily"})}),t&&t.sorted_map.map((function(e,r){var n=t.data[e.transloc_id];return(0,v.jsx)("a",{onClick:function(){nt(e.transloc_id,r+1)},className:c()("route-item btn-outline-".concat(e.transloc_id),"route-item",{active:M===e.transloc_id}),children:(0,v.jsx)("div",{children:(0,o.Ay)(at(n))})},r)}))]}))]}):(0,v.jsxs)(d.A,{nativeMobileScroll:!0,className:"routes-list-link-container",children:[(0,v.jsx)("a",{onClick:function(){nt("all",0)},className:c()("route-item","btn-outline-all",{active:"all"===M}),children:(0,v.jsx)("div",{children:"All"})}),t&&t.sorted_map.map((function(e,r){var n=t.data[e.transloc_id];return(0,v.jsx)("a",{onClick:function(){nt(e.transloc_id,r+1)},className:c()("route-item btn-outline-".concat(e.transloc_id),"route-item",{active:M===e.transloc_id}),children:(0,v.jsx)("div",{children:(0,o.Ay)(at(n))})},r)}))]})}function ut(e){var t=e.routes;e.mobileSliderHanlder,e.mobileSliderHanlderClick;return(0,v.jsxs)("div",{className:"routes-list-link-container",children:[(0,v.jsx)("a",{onClick:function(){nt("all",null)},className:"route-item btn-outline-all "+("all"==M?"active":""),children:(0,v.jsx)("div",{children:"attraction-pass-landing-page"==S?"All":"All routes run daily"})}),t&&t.sorted_map.map((function(e,r){var n=t.data[e.transloc_id];return(0,v.jsx)("a",{onClick:function(){nt(e.transloc_id,null)},className:"route-item btn-outline-".concat(e.transloc_id," route-item ")+(M==e.transloc_id?"active":""),children:(0,v.jsx)("div",{children:(0,o.Ay)(at(n))})},r)}))]})}function pt(e,t){for(var r in U)if(U[r][0]==e&&U[r][1]==t)return!0;return!1}function mt(e){fe(e),u.Fr||u.v1?isAndroid?ke("https://support.google.com/accounts/answer/3467281?hl=en"):isIOS?ke("https://support.apple.com/en-us/HT207092"):isWinPhone&&ke("https://support.microsoft.com/en-us/help/4468240/windows-10-location-service-and-privacy"):isSafari?ke("https://support.apple.com/en-us/HT204690"):isFirefox?ke("https://support.mozilla.org/en-US/kb/improve-mozilla-location-services-turning-location"):(isChrome||isIE||isEdge)&&ke("https://support.google.com/chrome/answer/142065?co=GENIE.Platform%3DDesktop&hl=en")}function ht(e,t){!t&&P&&(t=P);try{var r={lat:e.coords.latitude,lng:e.coords.longitude};if(Ne(r),google&&t){var n={lat:t.cords.lat,lng:t.cords.lng};T.current.setRegionAnimated(new mapkit.CoordinateRegion(new mapkit.Coordinate(r.lat,r.lng),new mapkit.CoordinateSpan(r.lat-n.lat+.03,r.lng-n.lng+.03)));var o={origin:r,destination:n,travelMode:google.maps.TravelMode.WALKING};(new google.maps.DirectionsService).route(o,(function(e,t){console.log(e.routes);var n="<h5 class='direction'> Directions: </h5><p>"+e.routes[0].legs[0].duration.text+" walking time. &#128694</p><ol>";for(var o in e.routes[0].legs[0].steps){n+="<li>"+e.routes[0].legs[0].steps[o].instructions+"</li>"}qe(n+="</ol>"),ne(r.lat),ie(r.lng);var a=N.decode(e.routes[0].overview_polyline).map((function(e){return{latitude:e[0],longitude:e[1]}}));Le(a)}))}else qe("Select the Stop and click search again");Ee(!0)}catch(e){}}(0,n.useEffect)((function(){Qe?(document.getElementById("live-map-stop-list-container").classList.remove("toggle-collapse"),document.getElementById("route-details-toggle").classList.remove("fa-chevron-right"),document.getElementById("route-details-toggle").classList.add("fa-chevron-down")):(document.getElementById("live-map-stop-list-container").classList.add("toggle-collapse"),document.getElementById("route-details-toggle").classList.remove("fa-chevron-down"),document.getElementById("route-details-toggle").classList.add("fa-chevron-right"))}),[Qe]),(0,n.useEffect)((function(){I&&q(I)}),[I]),(0,n.useEffect)((function(){try{(0,m.CH)("/api/v1/apple_map_token").then((function(e){pe(!0),$(e.data)})).catch((function(e){pe(!0),console.log(e)}))}catch(e){pe(!0),console.log(e)}}),[]),(0,n.useEffect)((function(){try{if(Ke){var e=(re+40.6921568)/2,t=(ae+-74.0162492)/2,r=Math.abs(re-40.6921568),n=Math.abs(ae- -74.0162492);T.current.setRegionAnimated(new mapkit.CoordinateRegion(new mapkit.Coordinate(e,t),new mapkit.CoordinateSpan(r+.04,n+.04))),M&&"all"!=M&&"package_det_page"==S&&nt(M,ee[M].order_route)}}catch(e){console.log(e)}}),[Ke]);function ft(e){var t=e.attractions;e.componentSource;return t&&t.map((function(e,t){var r,n,a,s,c=e.icon_marker_path?e.icon_marker_path:"map-pin-attraction.svg",l={width:null!==(r=null==e||null===(n=e.icon_map_dimensions)||void 0===n?void 0:n.icon_size[0])&&void 0!==r?r:30,height:null!==(a=null==e||null===(s=e.icon_map_dimensions)||void 0===s?void 0:s.icon_size[1])&&void 0!==a?a:30};return(0,v.jsx)(i.YH,{latitude:parseFloat(e.lat),longitude:parseFloat(e.lng),animates:!1,calloutElement:(0,v.jsxs)("div",{className:"apple-marker-popup-content leaflet-popup-content-attraction",children:[(0,v.jsxs)("p",{className:"leaflet-popup-content-attraction-title",children:[(0,o.Ay)(e.title)," "]}),e.address?(0,v.jsx)("p",{style:{marginTop:"0.25rem",marginBottom:"0.25rem"},children:(0,o.Ay)(e.address)}):""]}),children:(0,v.jsx)("img",{style:l,src:"https://dmoelb813y7lv.cloudfront.net/distribution/maps/map-pins/"+c})},t)}))}return b&&k&&x&&x.sorted_map&&x.data&&(0,v.jsxs)(v.Fragment,{children:[S&&("livemap"==S||"nycguide"==S)&&(0,v.jsx)("div",{className:"col-12 ",children:(0,v.jsxs)("div",{id:"nearest-bus-stop",children:[(0,v.jsx)("h5",{children:"Find nearest stop:"}),(0,v.jsxs)("div",{className:"input-group",children:[(0,v.jsx)("span",{className:"input-group-btn",children:(0,v.jsx)("button",{id:"search-by-address",onClick:function(){!function(e){e&&q(e);try{navigator.geolocation?$e?ht($e,e):navigator.permissions.query({name:"geolocation"}).then((function(t){"denied"!=t.state?_e||"prompt"!=t.state?(ye(!1),(_e||"granted"==t.state)&&navigator.geolocation.getCurrentPosition((function(t){T.current.showsUserLocation=!0,ht(t,e),Ge(t)}))):fe(!0):mt(!0)})):fe(!0)}catch(t){_e?navigator.geolocation.getCurrentPosition((function(t){ht(t,e)}),(function(e){mt(!0)})):(fe(!0),ye(!0))}}(P?x.data[P]:null)},className:"btn btn-danger search-by-current-location",type:"button",children:(0,v.jsx)("i",{className:"fas fa-location-arrow"})})}),(0,v.jsx)("input",{id:"by-address-input",type:"text",onChange:function(e){return e.target.value>""?De(e.target.value):De(null)},className:"form-control",placeholder:"By Address"}),(0,v.jsx)("span",{className:"input-group-btn",children:(0,v.jsx)("button",{id:"search-by-address",onClick:function(){!function(){if(Me&&google){var e=new google.maps.Geocoder;e&&e.geocode({address:Me,bounds:{east:-73.84014104125976,west:-74.12406895874022,north:40.7921664144782,south:40.62039482528002}},(function(e,t){"OK"===t&&ht({coords:{latitude:e[0].geometry.location.toJSON().lat,longitude:e[0].geometry.location.toJSON().lng}},x.data[P])}))}}()},className:"btn btn-danger search-by-address-location",type:"button",children:"Search"})})]})]})}),(0,v.jsxs)("div",{id:"live-map-wrapper",className:"clearfix "+(!S||"livemap"!=S&&"nycguide"!=S?"":"livemap-container"),children:[(0,v.jsxs)("div",{id:"live-map-stop-list-container",className:"route-details toggle-collapse ".concat(M&&"all"!=M?"selected-route-container":""),children:[(0,v.jsxs)("div",{className:"route-details-inner",children:[M&&"all"!=M&&k.data[M]&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"subcategory-options hours-of-operation-header",children:(0,v.jsx)("div",{className:"subcategory-main",children:(0,v.jsxs)("span",{className:"subcategory-name op-hours-header",children:[(0,v.jsx)("i",{className:"far fa-clock"})," ",(0,v.jsx)("span",{className:"route-name",children:(0,o.Ay)(k.data[M].name)})]})})}),(0,v.jsx)("div",{className:"hours-of-operation-text",children:(0,v.jsxs)("div",{className:"livemap-hours-of-operation-text",children:[" ",(0,o.Ay)(k.data[M].schedule_operation)," "]})})]}),(0,v.jsx)("div",{className:"subcategory-options",children:(0,v.jsxs)("div",{className:"subcategory-main",onClick:function(){et()},children:[(0,v.jsxs)("span",{className:"subcategory-name",children:["Stops",(0,v.jsx)("i",{className:" fas fa-chevron-right invisible",id:"route-details-toggle"})]}),(0,v.jsx)("div",{className:"fa fa-search d-none","aria-hidden":"true"})]})})]}),(0,v.jsx)("div",{className:"subcategory-results",children:(0,v.jsx)("nav",{className:"nav flex-column",children:x&&k&&x.data&&x.sorted_map&&(0,v.jsx)(it,{routes:k,stops:x})})})]}),(0,v.jsxs)("div",{className:"routes-list",children:[Je<=768&&(0,v.jsx)(dt,{routes:k}),Je>768&&(0,v.jsx)(ut,{routes:k})]}),(0,v.jsxs)("div",{className:"applemap-container",children:[!ue&&(0,v.jsx)("div",{className:"section-loader-icon-container",children:(0,v.jsx)(a.A,{size:50})}),z&&(0,v.jsx)("div",{id:"apple-map",children:(0,v.jsxs)(i.T5,{token:z,ref:T,onLoad:function(){return Ze(!0)},showsPointsOfInterest:!0,loadPriority:i.H5.LandCover,showsMapTypeControl:!1,children:[k&&x&&x.sorted_map&&x.data&&(0,v.jsx)(st,{livemap:b,routes:k,stops:x}),Ke&&k&&k.sorted_map&&Z&&k.data&&Z.map((function(e,t){if(k.data[e.transloc_id]&&k.data[e.transloc_id].segments){var r=k.data[e.transloc_id];return r.segments.map((function(e,t){var n=N.decode(e.encoded_path).map((function(e){return{latitude:e[0],longitude:e[1]}}));return(0,v.jsx)(i.Ro,{className:"polyline-icon-route polyline-icon-route-".concat(r.transloc_id),points:n,lineWidth:4,strokeColor:r.color},t)}))}})),Te&&(0,v.jsx)(i.Ro,{className:"polyline-customer-route ",points:Te,strokeColor:"#222d68",lineWidth:4}),Se&&(0,v.jsx)(i.YH,{latitude:Se.lat,longitude:Se.lng,selected:Ie,calloutContent:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h6",{className:"mb-1",children:"Your location"}),Pe?(0,o.Ay)(Pe):""]}),children:(0,v.jsx)("img",{style:{width:45,height:45},src:"".concat("/new-york","/assets/images/maps/icons/marker-live-icon.svg?v=3")})}),O&&(0,v.jsx)(ft,{attractions:O,sourceParent:S})]})})]})]}),(0,v.jsxs)(p.A,{id:"map-help-alert-modal",show:he,onHide:function(){return fe(!1)},animation:!0,size:"lg","aria-labelledby":"contained-modal-title-vcenter",autoFocus:!0,centered:!0,children:[we&&(0,v.jsx)(p.A.Header,{closeButton:!0,children:(0,v.jsxs)("h5",{children:[(0,v.jsx)("i",{className:"fas fa-exclamation-circle",children:" "})," Your Location Sharing Is Not Turned On"]})}),(0,v.jsx)(p.A.Body,{children:(0,v.jsx)("div",{className:"row",children:(0,v.jsxs)("div",{className:"col-sm-12 col-md-12 text-center",children:[(0,v.jsxs)("p",{children:[(0,o.Ay)(be),we&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("br",{}),(0,v.jsx)("a",{href:we,target:"_blank",children:"See how to turn on Location Sharing"})]})]}),(0,v.jsx)("button",{type:"button",onClick:function(){fe(!1),_e||u.Fr?u.Fr&&navigator.geolocation.getCurrentPosition((function(e){ht(e)}),(function(e){mt(!1)})):(ye(!0),navigator.geolocation.getCurrentPosition((function(e){ht(e)}),(function(e){mt(!1)})))},className:"btn btn-block btn-lg btn-primary fancy-gradient",children:"OK"})]})})})]})]})}},22594:(e,t,r)=>{"use strict";r.d(t,{A:()=>k});var n=r(96540),o=(r(95093),r(10159)),a=r(51804),i=r(74848);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function d(e,t,r){return t=p(t),function(e,t){if(t&&("object"==s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u()?Reflect.construct(t,r||[],p(e).constructor):t.apply(e,r))}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}var h=function(e){function t(e){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=d(this,t,[e])).state={productCountAdults:0,productCountKids:0,productOptionId:r.props.productOptionId?r.props.productOptionId:null,productAddonId:r.props.productAddonId?r.props.productAddonId:null},r.props.cart){var n=0,o=0;n=parseInt(localStorage.getItem("__productsCartBasket_adult_count")),isNaN(n)&&(n=0),o=parseInt(localStorage.getItem("__productsCartBasket_kid_count")),isNaN(o)&&(o=0),r.state={productCountAdults:n,productCountKids:o,productOptionId:r.props.productOptionId?r.props.productOptionId:null,productAddonId:r.props.productAddonId?r.props.productAddonId:null}}return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),n=t,(s=[{key:"updateCart",value:function(e){r(86425);var t=0,n=this.props.component,i=e.target.getAttribute("datafield"),s="adult"==this.props.product?"__productsCartBasket_adult_count":"__productsCartBasket_kid_count",c=75;this.props.package&&this.props.package.min_tickets&&parseInt(this.props.package.max_tickets)>0&&(c=parseInt(this.props.package.max_tickets)),t=parseInt(localStorage.getItem(s)),isNaN(t)&&(t=0),"minus"==e.target.getAttribute("datatype")&&t>0?(this.props.package&&this.props.package.min_tickets&&parseInt(this.props.package.min_tickets)>0&&t==parseInt(this.props.package.min_tickets)&&(t=1),t=parseInt(t)-1,localStorage.setItem(s,t)):"plus"==e.target.getAttribute("datatype")&&t<c&&(this.props.package&&this.props.package.min_tickets&&parseInt(this.props.package.min_tickets)>0&&t<parseInt(this.props.package.min_tickets)&&(t=parseInt(this.props.package.min_tickets)-1),t=parseInt(t)+1,localStorage.setItem(s,t)),"adult"==this.props.product?this.setState({productCountAdults:t}):this.setState({productCountKids:t}),this.props.productsAddeBooking({counterTotal:t,product:this.props.product,componentSource:n}),"adult"==this.props.product&&o.Fr&&"overlay-products-window"==this.props.component?this.setState({productCountKids:localStorage.getItem("__productsCartBasket_kid_count")}):"kid"==this.props.product&&o.Fr&&"overlay-products-window"==this.props.component&&this.setState({productCountAdults:localStorage.getItem("__productsCartBasket_adult_count")}),document.getElementById("invalid-feedback-select-qty-msg")&&(parseInt(localStorage.getItem("__productsCartBasket_kid_count"))>0||parseInt(localStorage.getItem("__productsCartBasket_adult_count"))>0)&&document.getElementById("invalid-feedback-select-qty-msg").classList.remove("show-element"),document.getElementById("package-buy-now")&&document.getElementById("package-buy-now").classList.contains("button-error-processing")&&(parseInt(localStorage.getItem("__productsCartBasket_kid_count"))>0||parseInt(localStorage.getItem("__productsCartBasket_adult_count"))>0)&&document.getElementById("package-buy-now").classList.remove("button-error-processing");var l={guest_id:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),package_id:this.props.package.id,product_count:t,product_type:i,component_source:n,package_options_id:this.props.productOptionId?this.props.productOptionId:null,package_addon_id:this.state.productAddonId?this.state.productAddonId:null,is_valid_any_day:!(!this.props.flexibleSelect||"flexible-any-day"!=this.props.flexibleSelect)};this.props.package&&(document.body.contains(document.getElementById("event_datetime"))&&document.getElementById("event_datetime").value&&document.body.contains(document.getElementById("departure_time_select_container"))?l.reserve_date=(0,a.FB)()+((0,a.pg)()?" "+(0,a.pg)():""):document.body.contains(document.getElementById("event_datetime"))&&document.getElementById("event_datetime").value&&!document.body.contains(document.getElementById("departure_time_select_container"))&&(document.body.contains(document.getElementById("departure-time-slot"))?l.reserve_date=(0,a.FB)()+" "+document.getElementById("departure-time-slot").getAttribute("data-time-trip"):l.reserve_date=(0,a.FB)()),document.body.contains(document.getElementById("departure_time_select_container"))&&(0,a.bE)()&&(l.trip_id=(0,a.bE)()),localStorage.getItem("AT_ABtest_experience_Brcp_price_id")&&(l.upgrade_option=localStorage.getItem("AT_ABtest_experience_Brcp_price_id")));try{var d=null,u=null,p=null;switch(n){case"booking-window-det-page":d=document.getElementById("reservationQuantity-adult").getAttribute("dataprice"),u=document.body.contains(document.getElementById("reservationQuantity-kid"))?document.getElementById("reservationQuantity-kid").getAttribute("dataprice"):0,p=parseInt(localStorage.getItem("__productsCartBasket_adult_count"))*d+parseInt(localStorage.getItem("__productsCartBasket_kid_count"))*u,$("#package-checkout-wrapper").find(".subtotal-text").find("span.promo-price").text((0,a.cc)(p));break;case"shopping-cart-page":(0,a.qS)("/api/v1/cart",l).then((function(e){$(".order-summary-detail-prices-container").find(".walking-price").find("span.total-walkin").text((0,a.cc)(e.data.information_cart_frontend.total_walkin)),$(".order-summary-detail-prices-container").find(".promotion-deal-saving-subtotal-summary").find("span.total-discount").text((0,a.cc)(e.data.information_cart_frontend.cart_discount_value)),$(".order-summary-detail-prices-container").find(".promotion-deal-saving-message-summary").find("span.highest-promo-discount").text(e.data.information_cart_frontend.highest_promotion_deal),$(".order-summary-detail-prices-container").find(".total_confirm").find("span.total-deal").text((0,a.cc)(e.data.information_cart_frontend.sub_total))})).catch((function(e){return console.log(e)}));break;case"overlay-products-window":$("#overlay-products-window-container").find(".total-overlay-container").find("span").text((0,a.cc)(response.data.information_cart_frontend.sub_total));break;default:d=document.getElementById("reservationQuantity-adult").getAttribute("dataprice"),u=document.body.contains(document.getElementById("reservationQuantity-kid"))?document.getElementById("reservationQuantity-kid").getAttribute("dataprice"):0,p=parseInt(localStorage.getItem("__productsCartBasket_adult_count"))*d+parseInt(localStorage.getItem("__productsCartBasket_kid_count"))*u,$("#package-checkout-wrapper").find(".subtotal-text").find("span").text((0,a.cc)(p))}}catch(e){console.log(e)}}},{key:"render",value:function(){return(0,i.jsx)("div",{className:"quantity-counter-wrapper",children:(0,i.jsxs)("div",{className:"number-picker",children:[(0,i.jsx)("span",{className:"minus controls noselect",dataslug:this.props.package.id,datatype:"minus",datafield:"".concat(this.props.product,"s"),datacomponent:this.props.component,dataupdatesession:"true",onClick:this.updateCart.bind(this),children:"−"}),(0,i.jsx)("input",{className:"number-input noselect",name:"reservationQuantity",id:"reservationQuantity-".concat(this.props.product),dataname:"quant[".concat(this.props.product,"]"),type:"text",min:"0",max:"99",value:"".concat("adult"==this.props.product?localStorage.getItem("__productsCartBasket_adult_count"):localStorage.getItem("__productsCartBasket_kid_count")).concat(this.props.package.has_option_price&&4!=this.props.package.type&&!this.props.package.is_adult_only&&"booking-window-det-page"==this.props.component?" "+(0,a.kn)(this.props.product)+"s":""),datalabel:this.props.product,readOnly:!0,dataprice:(0,a.UA)(this.props.package,this.props.product,this.props.cart)}),(0,i.jsx)("span",{className:"plus controls noselect",dataslug:this.props.package.id,datatype:"plus",datafield:"".concat(this.props.product,"s"),datacomponent:this.props.component,dataupdatesession:"true",onClick:this.updateCart.bind(this),children:"+"})]})})}}])&&c(n.prototype,s),l&&c(n,l),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,s,l}(n.Component);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w(n.key),n)}}function y(e,t,r){return t=b(t),function(e,t){if(t&&("object"==f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,v()?Reflect.construct(t,r||[],b(e).constructor):t.apply(e,r))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function w(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}var k=function(e){function t(e){var r,n,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=y(this,t,[e]),n=r,a=function(){"shopping-cart-page"==r.props.component?(r.debouncedFn||(r.debouncedFn=_.debounce((function(){parseInt(localStorage.getItem("__productsCartBasket_adult_count"))+parseInt(localStorage.getItem("__productsCartBasket_kid_count"))==0?(document.getElementById("invalid-feedback-select-qty-msg").classList.add("show-element"),document.querySelectorAll(".to-checkout-payment").forEach((function(e){e.classList.add("disabled")}))):(document.getElementById("invalid-feedback-select-qty-msg").classList.remove("show-element"),document.querySelectorAll(".to-checkout-payment").forEach((function(e){e.classList.remove("disabled")})))}),100)),r.debouncedFn()):r.props.component},(o=w(o="handleTotalProducts"))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a,r.state={cart:r.props.cart,promoActive:window.TV_promo_active,productOptionId:r.props.productOptionId?r.props.productOptionId:null,productAddonId:r.props.productAddonId?r.props.productAddonId:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(t,e),r=t,(n=[{key:"componentWillReceiveProps",value:function(e){this.state.productOptionId!==e.productOptionId&&this.setState({productOptionId:e.productOptionId}),this.state.productAddonId!==e.productAddonId&&this.setState({productAddonId:e.productAddonId})}},{key:"returnWalkinPriceByProduct",value:function(e){return this.props.cart&&this.props.cart.reserve_date&&this.props.cart.information_cart_frontend&&this.props.cart.information_cart_frontend.prices?"adult"==e?Math.floor(this.props.cart.information_cart_frontend.prices.adult_walkin):Math.floor(this.props.cart.information_cart_frontend.prices.kid_walkin):"adult"==e?Math.floor(this.props.package.prices?this.props.package.prices.adult_walkin:this.props.package.adults_regular_price):Math.floor(this.props.package.prices?this.props.package.prices.kid_walkin:this.props.package.kids_regular_price)}},{key:"render",value:function(){return(0,i.jsxs)("div",{className:"price-quantity-inner regular-price-quantity",children:[("booking-window-det-page"!=this.props.component||this.props.package.has_option_price&&!this.props.package.is_event&&4==this.props.package.type||!this.props.package.has_option_price&&!this.props.package.is_event||!this.props.package.has_option_price&&this.props.package.is_event)&&(0,i.jsx)("div",{className:"price-quantity-type-wrpper",children:(0,i.jsxs)("h6",{className:"price-quantity-type  price-quantity-type--".concat(this.props.product,"s"),children:[this.props.package.is_adult_only?"Guest":this.props.product.toLowerCase(),"s",("kid"==this.props.product&&this.props.package.kid_age_range||"adult"==this.props.product&&this.props.package.adult_age_range_text)&&(0,i.jsxs)("small",{className:"",children:["kid"==this.props.product&&this.props.package.kid_age_range?this.props.package.kid_age_range:"","adult"==this.props.product&&this.props.package.adult_age_range_text?this.props.package.adult_age_range_text:""]}),this.props.package.is_adult_only&&!this.props.package.adult_age_range_text&&(0,i.jsx)("small",{className:"",children:"(21+)"})]})}),("booking-window-det-page"!=this.props.component||this.props.package.has_option_price&&!this.props.package.is_event&&4==this.props.package.type||"attraction-pass-landing-page"==this.props.component||!this.props.package.has_option_price&&!this.props.package.is_event||!this.props.package.has_option_price&&this.props.package.is_event)&&(0,i.jsxs)("div",{className:"price-wrapper",datapricewrapper:"",children:[(0,i.jsxs)("div",{className:"price ".concat(this.props.product,"-price ").concat(this.props.package.deal_adult_price<=0||this.props.package.deal_kid_price<=0?"product-go-free":""),dataproductprice:"",children:[(0,i.jsx)("div",{className:"price-container-from-value \n                                ".concat("flexible-calendar"!=this.props.flexibleSelect||!this.props.package.booking_price_type||"is_only_specific_date"!=this.props.package.booking_price_type&&"specific_and_flexible"!=this.props.package.booking_price_type||1!=this.props.package.type&&2!=this.props.package.type&&4!=this.props.package.type||this.props.cart&&(!this.props.cart||this.props.cart.reserve_date)||this.props.package.is_event&&!(this.props.package.is_event&&this.props.productAvailability&&this.props.productAvailability.recurre_days&&this.props.productAvailability.recurre_days.length>1)?"d-none":""),children:"from"}),(0,i.jsxs)("div",{className:"walkin-price ".concat(this.props.package.booking_price_type&&"is_only_flexible"==this.props.package.booking_price_type||(1==this.props.package.type||2==this.props.package.type||4==this.props.package.type)&&("flexible-any-day"==this.props.flexibleSelect||!this.props.cart||this.props.cart&&(this.props.cart.reserve_date||this.props.cart.is_booked)||this.props.package.is_event&&this.props.productAvailability&&this.props.productAvailability.recurre_days&&(this.props.productAvailability.recurre_days.length<=1||this.props.productAvailability.recurre_days.length>1&&(!this.props.cart||this.props.cart&&(this.props.cart.reserve_date||"flexible-any-day"==this.props.flexibleSelect||this.props.package.is_event&&1==this.props.package.type))))?"":"d-none"),children:[(0,i.jsx)("i",{className:"dollar-sign",children:"$"}),(0,i.jsx)("s",{datacompareprice:"",id:"id-walkin-price-"+this.props.product,className:" strikethrough",children:(0,a.KH)(this.props.package,this.props.product,this.props.cart)})]}),(0,i.jsxs)("span",{className:"promo-price ".concat(this.state.promoActive?"promo-font-color":""),children:[("adult"==this.props.product&&this.props.package.adults_base_price>0||"kid"==this.props.product&&this.props.package.kids_base_price>0)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("i",{className:"dollar-sign",children:"$"}),(0,i.jsx)("span",{id:"id-online-deal-price-"+this.props.product,children:(0,a.UA)(this.props.package,this.props.product,this.props.cart)})]}),("adult"==this.props.product&&this.props.package.adults_base_price<=0||"kid"==this.props.product&&this.props.package.kids_base_price<=0)&&(0,i.jsxs)(i.Fragment,{children:["Free ",(0,i.jsx)("div",{className:"kids-go-free-underline-title",children:"(Limit one free kid per adult)"})]})]})]}),(this.props.package.is_attraction&&"attraction-pass-landing-page"==this.props.component||this.props.package.has_option_price&&4==this.props.package.type&&"booking-window-det-page"==this.props.component||!this.props.package.has_option_price&&2==this.props.package.type&&"booking-window-det-page"==this.props.component)&&(0,i.jsx)("div",{className:"price-include-fees-taxes-label",children:this.props.package.include_fees_taxes_label})]}),("adult"==this.props.product&&this.props.package.adults_base_price>0||"kid"==this.props.product&&this.props.package.kids_base_price>0)&&(0,i.jsx)(h,{package:this.props.package,product:this.props.product,component:this.props.component,cart:this.props.cart,productsAddeBooking:this.handleTotalProducts,productOptionId:this.state.productOptionId,productAddonId:this.state.productAddonId,productAvailability:this.props.productAvailability,flexibleSelect:this.props.flexibleSelect})]})}}])&&g(r.prototype,n),o&&g(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(n.Component)},26456:(e,t,r)=>{"use strict";r.d(t,{A:()=>S});var n=r(96540),o=r(10900),a=r(30736),i=r(2118),s=r(74848);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e){var t=e.faq,r=e.faqIdx,l=(e.faqInputSearch,c((0,n.useState)(!1),2)),d=l[0],u=l[1];return(0,s.jsxs)(i.A,{className:"questions-answer-wrapper",children:[(0,s.jsxs)(i.A.Header,{as:i.A.Header,onClick:function(){u(!d)},variant:"faq-".concat(t.id),eventKey:t.id,children:[(0,s.jsxs)("a",{className:"question faq-question ",children:[(0,s.jsxs)("span",{className:"question-number",children:[r+1,". "]}),(0,o.Ay)(t.question)," "]}),(0,s.jsx)("i",{className:""}),d?(0,s.jsx)("i",{className:"fas fa-minus"}):(0,s.jsx)("i",{className:"fas fa-plus"})]}),(0,s.jsx)(a.A.Collapse,{in:d,eventKey:t.id,children:(0,s.jsx)(i.A.Body,{className:"faq-answers",children:(0,o.Ay)(t.answer)})})]})}var u=r(51804),p=r(46190);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function h(){h=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),s=new L(n||[]);return o(i,"_invoke",{value:I(e,r,s)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",f="suspendedYield",g="executing",_="completed",y={};function v(){}function b(){}function x(){}var w={};l(w,i,(function(){return this}));var k=Object.getPrototypeOf,j=k&&k(k(B([])));j&&j!==r&&n.call(j,i)&&(w=j);var S=x.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,s){var c=u(e[o],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==m(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function I(t,r,n){var o=p;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===_){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=_,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var l=u(t,r,n);if("normal"===l.type){if(o=n.done?_:f,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=_,n.method="throw",n.arg=l.arg)}}}function E(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,E(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=u(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function B(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(m(t)+" is not iterable")}return b.prototype=x,o(S,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=l(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},N(A.prototype),l(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(d(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(S),l(S,c,"Generator"),l(S,i,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=B,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:B(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function f(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){f(a,n,o,i,s,"next",e)}function s(e){f(a,n,o,i,s,"throw",e)}i(void 0)}))}}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function v(e,t,r){return t=x(t),function(e,t){if(t&&("object"==m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,r||[],x(e).constructor):t.apply(e,r))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function k(e,t,r){return(t=j(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}const S=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k(r=v(this,t,[e]),"handleKeyUp",(function(e){e.persist(),r.debouncedFn||r.debouncedFn||(r.debouncedFn=_.debounce((function(){r.setState({faqInputSearch:e.target.value,searchNoResults:!1});var t=!1;document.querySelectorAll(".card.questions-answer-wrapper").forEach((function(r,n){""!=e.target.value?r.querySelectorAll("a.faq-question")[0].innerHTML.toLowerCase().indexOf(e.target.value.toLowerCase())>-1||r.querySelectorAll(".faq-answers.card-body")[0].innerHTML.toLowerCase().indexOf(e.target.value.toLowerCase())>-1?(r.style.display="block",t=!0):r.style.display="none":(r.style.display="block",t=!1)})),r.setState({searchNoResults:""!=r.state.faqInputSearch&&!t})}),850)),r.debouncedFn()})),k(r,"renderFaqData",g(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.CH)("/api/v1/faq");case 3:t=e.sent,document.querySelector(".home-content-seo")&&(document.querySelector(".home-content-seo").style.display="block"),r.setState({faqData:t.data}),r.props.isPackageDetailPage||setTimeout((function(){document.getElementById("footer_layout")&&(document.getElementById("footer_layout").style.display="block")}),300),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),r.state={site:JSON.parse(window.TV_site),faqData:null,faqInputSearch:"",isPackageDetailPage:!!r.props.isPackageDetailPage&&r.props.isPackageDetailPage,searchNoResults:!1},r.handleKeyUp=r.handleKeyUp.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(t,e),r=t,n=[{key:"componentDidMount",value:function(){this.renderFaqData()}},{key:"handleSearchSubmit",value:function(e){e.preventDefault();try{var t={full_name:this.state.customerFullName,email:this.state.customerEmail,subject:this.refs.subject.value,message:this.refs.message.value,inquiry_category:this.refs.inquiry_category.value};(0,u.qS)("/api/v1/faq",t).then((function(e){e.data})).catch((function(e){return console.log(e)}))}catch(e){console.log(e)}}},{key:"render",value:function(){var e=this,t=this.state.isPackageDetailPage?12:6,r=0;return(0,s.jsxs)(s.Fragment,{children:[!this.state.faqData&&(0,s.jsx)("div",{className:"loader-icon-container",children:(0,s.jsx)(p.A,{size:50})}),this.state.faqData&&(0,s.jsxs)(s.Fragment,{children:[!this.state.isPackageDetailPage&&(0,s.jsx)("h1",{id:"page-name",children:"Frequently Asked Questions"}),(0,s.jsx)("div",{className:"row text-center",style:{display:"flex",justifyContent:"center",flexFlow:"row wrap"},children:(0,s.jsxs)("div",{className:"search-faq-container col-sm-12 col-md-".concat(t," col-lg-").concat(t," col-xl-").concat(t," text-center"),children:[(0,s.jsxs)("div",{className:"input-group mb-3",children:[(0,s.jsx)("input",{id:"search-faq",type:"text",className:"form-control",placeholder:"Search Frequently Asked Questions",onChange:function(t){return e.setState({faqInputSearch:t.target.value})},value:this.state.faqInputSearch,onKeyUp:this.handleKeyUp}),(0,s.jsx)("div",{className:"input-group-append",children:(0,s.jsx)("span",{className:"input-group-text",children:(0,s.jsx)("i",{className:"fas fa-search"})})})]}),(0,s.jsx)("div",{id:"faq-search-result-error",className:"mb-3 text-center",style:{display:this.state.searchNoResults?"block":"none"},children:(0,s.jsxs)("h5",{children:["No results found for search '",(0,s.jsx)("span",{children:this.state.faqInputSearch}),"'"]})})]})}),(0,s.jsx)("div",{className:"row faq-list-by-category",children:this.state.faqData&&Object.keys(this.state.faqData).map((function(n,i){return(0,s.jsx)("div",{className:"col-sm-12 col-md-".concat(t," faq-category-container "),children:n&&e.state.faqData[n]&&Object.keys(e.state.faqData[n]).map((function(t,i){return r+=1,(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"faq-category",children:(0,s.jsxs)("div",{className:"faq-header d-flex align-items-center",children:[(0,s.jsx)("img",{className:"faq-icon",src:"".concat("/new-york","/assets/images/faq_icons/faq_icon_").concat(r,".png"),alt:"".concat(e.state.faqData[n][t].id," icon"),width:"50"}),(0,s.jsx)("h5",{className:"faq-title mb-0 ml-1",id:e.state.faqData[n][t].name,children:(0,o.Ay)(e.state.faqData[n][t].name)})]})}),(0,s.jsx)(a.A,{children:Object.keys(e.state.faqData[n][t].faqs).map((function(r,o){return(0,s.jsx)(d,{faq:e.state.faqData[n][t].faqs[r],faqIdx:o},o)}))})]},i)}))},i)}))})]})]})}}],n&&y(r.prototype,n),i&&y(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(n.Component)},35358:(e,t,r)=>{var n={"./af":25177,"./af.js":25177,"./ar":61509,"./ar-dz":41488,"./ar-dz.js":41488,"./ar-kw":58676,"./ar-kw.js":58676,"./ar-ly":42353,"./ar-ly.js":42353,"./ar-ma":24496,"./ar-ma.js":24496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":82682,"./ar-sa.js":82682,"./ar-tn":89756,"./ar-tn.js":89756,"./ar.js":61509,"./az":95533,"./az.js":95533,"./be":28959,"./be.js":28959,"./bg":47777,"./bg.js":47777,"./bm":54903,"./bm.js":54903,"./bn":61290,"./bn-bd":17357,"./bn-bd.js":17357,"./bn.js":61290,"./bo":31545,"./bo.js":31545,"./br":11470,"./br.js":11470,"./bs":44429,"./bs.js":44429,"./ca":7306,"./ca.js":7306,"./cs":56464,"./cs.js":56464,"./cv":73635,"./cv.js":73635,"./cy":64226,"./cy.js":64226,"./da":93601,"./da.js":93601,"./de":77853,"./de-at":26111,"./de-at.js":26111,"./de-ch":54697,"./de-ch.js":54697,"./de.js":77853,"./dv":60708,"./dv.js":60708,"./el":54691,"./el.js":54691,"./en-au":53872,"./en-au.js":53872,"./en-ca":28298,"./en-ca.js":28298,"./en-gb":56195,"./en-gb.js":56195,"./en-ie":66584,"./en-ie.js":66584,"./en-il":65543,"./en-il.js":65543,"./en-in":9033,"./en-in.js":9033,"./en-nz":79402,"./en-nz.js":79402,"./en-sg":43004,"./en-sg.js":43004,"./eo":32934,"./eo.js":32934,"./es":97650,"./es-do":20838,"./es-do.js":20838,"./es-mx":17730,"./es-mx.js":17730,"./es-us":56575,"./es-us.js":56575,"./es.js":97650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":90527,"./fi.js":90527,"./fil":95995,"./fil.js":95995,"./fo":52477,"./fo.js":52477,"./fr":85498,"./fr-ca":26435,"./fr-ca.js":26435,"./fr-ch":37892,"./fr-ch.js":37892,"./fr.js":85498,"./fy":37071,"./fy.js":37071,"./ga":41734,"./ga.js":41734,"./gd":70217,"./gd.js":70217,"./gl":77329,"./gl.js":77329,"./gom-deva":32124,"./gom-deva.js":32124,"./gom-latn":93383,"./gom-latn.js":93383,"./gu":95050,"./gu.js":95050,"./he":11713,"./he.js":11713,"./hi":43861,"./hi.js":43861,"./hr":26308,"./hr.js":26308,"./hu":90609,"./hu.js":90609,"./hy-am":17160,"./hy-am.js":17160,"./id":74063,"./id.js":74063,"./is":89374,"./is.js":89374,"./it":88383,"./it-ch":21827,"./it-ch.js":21827,"./it.js":88383,"./ja":23827,"./ja.js":23827,"./jv":89722,"./jv.js":89722,"./ka":41794,"./ka.js":41794,"./kk":27088,"./kk.js":27088,"./km":96870,"./km.js":96870,"./kn":84451,"./kn.js":84451,"./ko":63164,"./ko.js":63164,"./ku":98174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":98174,"./ky":78474,"./ky.js":78474,"./lb":79680,"./lb.js":79680,"./lo":15867,"./lo.js":15867,"./lt":45766,"./lt.js":45766,"./lv":69532,"./lv.js":69532,"./me":58076,"./me.js":58076,"./mi":41848,"./mi.js":41848,"./mk":30306,"./mk.js":30306,"./ml":73739,"./ml.js":73739,"./mn":99053,"./mn.js":99053,"./mr":86169,"./mr.js":86169,"./ms":73386,"./ms-my":92297,"./ms-my.js":92297,"./ms.js":73386,"./mt":77075,"./mt.js":77075,"./my":72264,"./my.js":72264,"./nb":22274,"./nb.js":22274,"./ne":8235,"./ne.js":8235,"./nl":92572,"./nl-be":43784,"./nl-be.js":43784,"./nl.js":92572,"./nn":54566,"./nn.js":54566,"./oc-lnc":69330,"./oc-lnc.js":69330,"./pa-in":29849,"./pa-in.js":29849,"./pl":94418,"./pl.js":94418,"./pt":79834,"./pt-br":48303,"./pt-br.js":48303,"./pt.js":79834,"./ro":24457,"./ro.js":24457,"./ru":82271,"./ru.js":82271,"./sd":1221,"./sd.js":1221,"./se":33478,"./se.js":33478,"./si":17538,"./si.js":17538,"./sk":5784,"./sk.js":5784,"./sl":46637,"./sl.js":46637,"./sq":86794,"./sq.js":86794,"./sr":45719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":45719,"./ss":56e3,"./ss.js":56e3,"./sv":41011,"./sv.js":41011,"./sw":40748,"./sw.js":40748,"./ta":11025,"./ta.js":11025,"./te":11885,"./te.js":11885,"./tet":28861,"./tet.js":28861,"./tg":86571,"./tg.js":86571,"./th":55802,"./th.js":55802,"./tk":59527,"./tk.js":59527,"./tl-ph":29231,"./tl-ph.js":29231,"./tlh":31052,"./tlh.js":31052,"./tr":85096,"./tr.js":85096,"./tzl":79846,"./tzl.js":79846,"./tzm":81765,"./tzm-latn":97711,"./tzm-latn.js":97711,"./tzm.js":81765,"./ug-cn":48414,"./ug-cn.js":48414,"./uk":16618,"./uk.js":16618,"./ur":57777,"./ur.js":57777,"./uz":57609,"./uz-latn":72475,"./uz-latn.js":72475,"./uz.js":57609,"./vi":21135,"./vi.js":21135,"./x-pseudo":64051,"./x-pseudo.js":64051,"./yo":82218,"./yo.js":82218,"./zh-cn":52648,"./zh-cn.js":52648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":31541,"./zh-mo.js":31541,"./zh-tw":50304,"./zh-tw.js":50304};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=35358},43997:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var n=r(96540),o=r(10900),a=r(46190),i=r(86953),s=r(51804),c=r(10159),l=r(74848);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p=r(95812);function m(e){var t=d((0,n.useState)(e.routeSegmentsDrawn),2),r=t[0],u=(t[1],d((0,n.useState)(),2)),m=u[0],h=u[1],f=d((0,n.useState)(!1),2),g=f[0],_=f[1],y=d((0,n.useState)(null),2),v=y[0],b=y[1],x=d((0,n.useState)(!1),2),w=x[0],k=x[1],j=c.Fr?40.7521833:40.7540038,S=c.Fr?-73.9842212:-74.0063655,N=c.Fr?40.7521833:40.7544729,A=c.Fr?-73.9842212:-74.0084053,I=d((0,n.useState)("package_det_page"==e.componentSource?N:j),2),E=I[0],O=(I[1],d((0,n.useState)("package_det_page"==e.componentSource?A:S),2)),T=O[0],L=(O[1],(0,n.useRef)(null));function B(e){var t=e.locations,r=e.componentSource,n=(e.locationSettings,e.iconMarker);return t&&t.map((function(e,t){var a=n;return e.icon&&(a="".concat("/new-york","/assets/images/maps/icons/").concat(e.icon)),(0,l.jsx)(i.YH,{latitude:parseFloat(e.lat),longitude:parseFloat(e.lng),animates:!1,calloutElement:(0,l.jsxs)("div",{className:"apple-marker-popup-content",children:["attraction-index"!=r&&"product-event-show"!=r&&(0,l.jsxs)("h6",{className:"mb-1",children:[(0,l.jsx)("strong",{children:(0,o.Ay)(e.name)})," "]}),"attraction-index"==r&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("strong",{children:"Name:"}),"  ",(0,o.Ay)(e.name)," ",(0,l.jsx)("br",{}),(0,l.jsx)("strong",{children:"Location:"}),"  ",(0,o.Ay)(e.location)]}),"product-event-show"==r&&(0,l.jsxs)("span",{className:"mb-0",children:[(0,l.jsx)("b",{children:"Departure Point:"})," ",(0,o.Ay)(e.name)]}),e.address?(0,o.Ay)("".concat(e.address," <br />")):"",e.address?(0,o.Ay)("".concat(e.city_state_zip_code," <br />")):"",e.google_maps_link&&(0,l.jsx)("a",{target:"_blank",href:e.google_maps_link,children:"View on Google Maps"})]}),children:(0,l.jsx)("img",{style:{width:45,height:45},src:a||"".concat("/new-york","/assets/images/maps/icons/bus-icon-red.svg")})},t)}))}function P(e){var t=e.attractions;e.componentSource;return t&&t.map((function(e,t){var r,n,a,s,c=e.icon_marker_path?e.icon_marker_path:"map-pin-attraction.svg",d={width:null!==(r=null==e||null===(n=e.icon_map_dimensions)||void 0===n?void 0:n.icon_size[0])&&void 0!==r?r:30,height:null!==(a=null==e||null===(s=e.icon_map_dimensions)||void 0===s?void 0:s.icon_size[1])&&void 0!==a?a:30};return(0,l.jsx)(i.YH,{latitude:parseFloat(e.lat),longitude:parseFloat(e.lng),animates:!1,calloutElement:(0,l.jsxs)("div",{className:"apple-marker-popup-content leaflet-popup-content-attraction",children:[(0,l.jsxs)("p",{className:"leaflet-popup-content-attraction-title",children:[(0,o.Ay)(e.title)," "]}),e.address?(0,l.jsx)("p",{style:{marginTop:"0.25rem",marginBottom:"0.25rem"},children:(0,o.Ay)(e.address)}):""]}),children:(0,l.jsx)("img",{style:d,src:"https://dmoelb813y7lv.cloudfront.net/distribution/maps/map-pins/"+c})},t)}))}return(0,n.useEffect)((function(){try{if(r){var e=p.decode(r);h(e.map((function(e){return{latitude:e[0],longitude:e[1]}})))}(0,s.CH)("/api/v1/apple_map_token").then((function(e){_(!0),b(e.data)})).catch((function(e){_(!0),console.log(e)}))}catch(e){_(!0),console.log(e)}}),[]),(0,n.useEffect)((function(){try{if(w){var t=(E+40.6883233)/2,r=(T+-74.0243255)/2,n=Math.abs(E-40.6883233),o=Math.abs(T- -74.0243255),a=.04;e.mapLocation&&e.mapLocation.latitude&&e.mapLocation.latitude&&e.mapLocation.latitudeDelta&&(t=(e.mapLocation.latitude+e.mapLocation.latitudeDelta)/2,r=(e.mapLocation.longitude+e.mapLocation.longitudeDelta)/2,n=Math.abs(e.mapLocation.latitude-e.mapLocation.latitudeDelta),o=Math.abs(e.mapLocation.longitude-e.mapLocation.longitudeDelta),a=e.mapLocation.deltaPadding?e.mapLocation.deltaPadding:.06),L.current.setRegionAnimated(new mapkit.CoordinateRegion(new mapkit.Coordinate(t,r),new mapkit.CoordinateSpan(n+a,o+a)))}}catch(e){console.log(e)}}),[w]),e.locations&&e.locations.length>0&&(0,l.jsxs)("div",{className:"applemap-container",children:[!g&&(0,l.jsx)("div",{className:"section-loader-icon-container",children:(0,l.jsx)(a.A,{size:50})}),v&&(0,l.jsx)("div",{id:"apple-map",children:(0,l.jsxs)(i.T5,{token:v,ref:L,onLoad:function(){return k(!0)},showsPointsOfInterest:!0,loadPriority:i.H5.LandCover,showsMapTypeControl:!1,excludedPOICategories:[i.Ot.ATM,i.Ot.Bakery,i.Ot.Bank,i.Ot.Brewery,i.Ot.Cafe,i.Ot.Campground,i.Ot.CarRental,i.Ot.EVCharger,i.Ot.FireStation,i.Ot.FitnessCenter,i.Ot.FoodMarket,i.Ot.GasStation,i.Ot.Hospital,i.Ot.Hotel,i.Ot.Laundry,i.Ot.Library,i.Ot.Marina,i.Ot.MovieTheater,i.Ot.NationalPark,i.Ot.Nightlife,i.Ot.Park,i.Ot.Parking,i.Ot.Pharmacy,i.Ot.Police,i.Ot.PostOffice,i.Ot.PublicTransport,i.Ot.Restaurant,i.Ot.Restroom,i.Ot.School,i.Ot.Store,i.Ot.University,i.Ot.Winery],children:[w&&r&&m&&(0,l.jsx)(i.Ro,{className:"polyline-icon-route polyline-icon-route-",points:m,lineWidth:4,strokeColor:e.routeColor?e.routeColor:"#1B12D6"}),(!e.packageId||e.packageId&&753!=e.packageId&&e.packageId&&911!=e.packageId)&&(0,l.jsx)(B,{locations:e.locations,componentSource:e.componentSource,locationSettings:e.locationSettings,iconMarker:e.iconMarker}),e.opIcons&&(0,l.jsx)(P,{attractions:e.opIcons,sourceParent:e.componentSource})]})})]})}},51804:(e,t,r)=>{"use strict";r.d(t,{A6:()=>q,BR:()=>m,CH:()=>S,Cd:()=>K,E5:()=>A,FB:()=>H,Gk:()=>z,J7:()=>f,JI:()=>G,KH:()=>D,Lg:()=>E,MX:()=>h,Nh:()=>Z,PI:()=>d,QO:()=>_,QY:()=>g,UA:()=>C,V$:()=>I,VE:()=>l,W4:()=>b,Y6:()=>L,aL:()=>ee,al:()=>F,az:()=>B,bE:()=>j,cc:()=>y,fz:()=>P,iz:()=>R,jC:()=>V,kn:()=>w,mV:()=>te,m_:()=>X,mh:()=>v,n4:()=>x,nB:()=>M,oF:()=>J,p5:()=>Y,pg:()=>k,pu:()=>U,qS:()=>N,t6:()=>W,td:()=>T,v8:()=>O,w$:()=>Q,yJ:()=>u,zf:()=>p});var n=r(10900),o=(r(96540),r(10159),r(95093)),a=r.n(o);r(74848);function i(){i=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),s=new L(n||[]);return o(i,"_invoke",{value:I(e,r,s)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",f="suspendedYield",g="executing",_="completed",y={};function v(){}function b(){}function x(){}var w={};u(w,s,(function(){return this}));var k=Object.getPrototypeOf,j=k&&k(k(B([])));j&&j!==r&&n.call(j,s)&&(w=j);var S=x.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,s){var l=m(e[o],e,a);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==c(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(u).then((function(e){d.value=e,i(d)}),(function(e){return r("throw",e,i,s)}))}s(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function I(t,r,n){var o=h;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===_){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=_,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var l=m(t,r,n);if("normal"===l.type){if(o=n.done?_:f,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=_,n.method="throw",n.arg=l.arg)}}}function E(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,E(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=m(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function B(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(c(t)+" is not iterable")}return b.prototype=x,o(S,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=u(x,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,u(e,d,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},N(A.prototype),u(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(p(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(S),u(S,d,"Generator"),u(S,s,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=B,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:B(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function s(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var l=function(e,t){return 1===e.length?"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent('<svg width="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 62"><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path d="M25,0A25.009,25.009,0,0,0,0,25H0c0,6.8,3.7,12.3,8.1,18.4A135.189,135.189,0,0,0,25,62,144.419,144.419,0,0,0,41.9,43.1c4.5-6.2,8-11.8,8.1-18.1A25.009,25.009,0,0,0,25,0Z" style="fill:'.concat(e[0],'"/><text stroke="null" text-anchor="middle" x="25" y="31" style="isolation:isolate;font-size:24px;fill:#fff;font-family:Courier;font-weight:600">').concat(t,"</text></g></g></svg>")))):2===e.length?"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 62"><title>map-pin-2-color</title><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path d="M25,0A25.009,25.009,0,0,0,0,25H0c0,6.8,3.7,12.4,8.1,18.4A135.189,135.189,0,0,0,25,62Z" style="fill:'.concat(e[0],'"/><path d="M25,0V62A152.014,152.014,0,0,0,41.9,43.1C46.4,36.9,50,31.3,50,25A25.009,25.009,0,0,0,25,0Z" style="fill:').concat(e[1],'"/><text stroke="null" text-anchor="middle" x="25" y="31" style="isolation:isolate;font-size:24px;fill:#fff;font-family:Courier;font-weight:600">').concat(t,"</text></g></g></svg>")))):3===e.length?"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 62"><title>map-pin-3-color</title><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path d="M47.2,35.1,25,25,3.4,36.3a67.094,67.094,0,0,0,4.7,7.1A135.189,135.189,0,0,0,25,62,159.427,159.427,0,0,0,42,43.2,69.537,69.537,0,0,0,47.2,35.1Z" style="fill:'.concat(e[0],'"/><path d="M47.2,35.1A21,21,0,0,0,50,25,25.009,25.009,0,0,0,25,0V25Z" style="fill:').concat(e[1],'"/><path d="M0,25A23.349,23.349,0,0,0,3.4,36.5L25,25V0A25.009,25.009,0,0,0,0,25Z" style="fill:').concat(e[2],'"/><text stroke="null" text-anchor="middle" x="25" y="31" style="isolation:isolate;font-size:24px;fill:#fff;font-family:Courier;font-weight:600">').concat(t,"</text></g></g></svg>")))):4===e.length?"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent('<svg width="50" height="62" xmlns="http://www.w3.org/2000/svg"><g><title>background</title><rect fill="none" id="canvas_background" height="602" width="802" y="-1" x="-1"/></g><g><title>Layer 1</title><g id="Layer_2_1_"><g id="Layer_1-2"><g id="svg_1"><g id="svg_2"><path id="svg_3" d="m25,25.13569l0,0l-0.1,36.9c0,0 0.1,0.1 0.1,0.1c6.2,-5.8 11.8,-12.1 17,-18.8c1.9,-2.6 3.7,-5.3 5.2,-8.1l-22.2,-10.1z" style="fill:'+e[0]+'" /></g></g><g id="svg_4"><g id="svg_5"><path id="svg_6" d="m25.03568,25.13569l-21.5,11.3c1.4,2.5 3,4.8 4.7,7.1c5,6.7 10.7,12.9 16.8,18.5l0,-36.9z"  style="fill:'+e[1]+'" /></g></g><path id="svg_7" d="m47.2,35.23569c1.8,-3.1 2.7,-6.6 2.8,-10.1c0,-13.8 -11.2,-25 -25,-25l0,25l22.2,10.1z"  style="fill:'+e[2]+'" /><path id="svg_8" d="m0,25.13569c0.1,4.1 1.3,8 3.4,11.5l21.6,-11.5l0,-25c-13.8,0 -25,11.2 -25,25z"  style="fill:'+e[3]+'" /><text stroke="null" text-anchor="middle" x="25" y="31" style="isolation:isolate;font-size:24px;fill:#fff;font-family:Courier;font-weight:600">').concat(t,"</text></g></g></g></svg>"))):"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent('<svg width="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 62"><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path d="M25,0A25.009,25.009,0,0,0,0,25H0c0,6.8,3.7,12.3,8.1,18.4A135.189,135.189,0,0,0,25,62,144.419,144.419,0,0,0,41.9,43.1c4.5-6.2,8-11.8,8.1-18.1A25.009,25.009,0,0,0,25,0Z" style="fill:'.concat(e[0],'"/><text stroke="null" text-anchor="middle" x="25" y="31" style="isolation:isolate;font-size:24px;fill:#fff;font-family:Courier;font-weight:600">').concat(t,"</text></g></g></svg>"))))},d=13,u=[13,32],p=[0,-28.5];function m(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/\D+/g,"")}function h(e,t){var r=m(e),n=4;t&&(n="amex"===Payment.fns.cardType(t)?4:3);return r.slice(0,n)}function f(e){m(e);return e.replace(/[^0-9]/g,"").replace(/^([2-9]{2})$/g,"0$1/").replace(/^([1][0-2])$/g,"$1/").replace(/^([0][1-9])$/g,"0$1/").replace(/^(1{1})([3-9]{1})$/g,"0$1/$2").replace(/^0{1,}/g,"0").replace(/^[2-9]{2}/g,"0$1/").replace(/^([0-1]{1}[0-9]{1})([0-9]{1,4}).*/g,"$1/$2").replace(/^(2{1})([3-9]{1})$/g,"02/$1$2").replace(/^(3{1})([3-9]{1})$/g,"03/$1$2").replace(/^(4{1})([3-9]{1})$/g,"04/$1$2").replace(/^(5{1})([3-9]{1})$/g,"05/$1$2").replace(/^(6{1})([3-9]{1})$/g,"06/$1$2").replace(/^(7{1})([3-9]{1})$/g,"07/$1$2").replace(/^(8{1})([3-9]{1})$/g,"08/$1$2").replace(/^(9{1})([3-9]{1})$/g,"09/$1$2")}function g(e){return Math.round(100*e)/100}function _(e){return Payment.fns.cardType(e)}function y(e,t){return t||(t="en-US"),e&&e>0?Number.isInteger(e)?Number(e):Number(e.toFixed(2)).toFixed(2):0}function v(e){return e&&"sightseeing-bus-nyc-api"==e.external_id?"sightseeing-bus-nyc":e&&"event-cruises-api"==e.external_id?"event-cruises-nyc":e&&"lbcnyc-api"==e.external_id?"liberty-cruises-nyc":e&&"topview-api"==e.external_id?"topviewnyc":""}function b(e){var t=e.split(/[.:]/),r=parseInt(t[0],10),n=t[1]?parseInt(t[1],10):0;return"".concat(r>0?r:""," ").concat(r>0?"hr":""," ").concat(n>0?n+" min":"")}function x(e){if(!e)return e;var t="(",r=e.replace(/\D/g,"");return r.length<3?t+=r:r.length<6?(t+=r.substring(0,3)+") ",r.length>3&&(t+=r.substring(3,r.length))):t+=r.substring(0,3)+") "+r.substring(3,6)+"-"+r.substring(6,e.length),t}function w(e){return e.slice(0,1).toUpperCase()+e.slice(1,e.length)}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=document.getElementById("departure_time_picker").querySelectorAll("button"));for(var t=0;t<e.length;t++)if(e[t].classList.contains("active"))return e[t].getAttribute("data-departure-time");return!1}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=document.getElementById("departure_time_picker").querySelectorAll("button"));for(var t=0;t<e.length;t++)if(e[t].classList.contains("active"))return e[t].getAttribute("data-trip_id");return null}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=r(86425).default,o=r(10019),a=document.querySelector('meta[name="csrf-token"]').getAttribute("content");o.attach();var i={raxConfig:{retry:2,noResponseRetries:2,retryDelay:1200,backoffType:"exponential",httpMethodsToRetry:["GET","HEAD","OPTIONS","DELETE","PUT","POST"],statusCodesToRetry:[[100,199],[400,429],[500,599]],onRetryAttempt:function(e){o.getConfig(e)}},headers:{"X-CSRF-TOKEN":"".concat(a),"X-Requested-With":"XMLHttpRequest"}};return t&&(i.params=t),n.get("/new-york"+e,i)}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=r(86425).default,a=r(10019),i=document.querySelector('meta[name="csrf-token"]').getAttribute("content");a.attach();var s={"X-CSRF-TOKEN":"".concat(i),"X-Requested-With":"XMLHttpRequest"},c=t;return null!=n&&n&&(s=Object.assign(s,n),c=new FormData,Object.keys(t).forEach((function(e){if(Array.isArray(t[e])){var r="".concat(e,"[]");t[e].forEach((function(e){c.append(r,e)}))}else t[e]?c.append(e,t[e]):c.append(e,null)}))),o({url:"/new-york"+e,method:"post",headers:s,responseType:"json",data:c,raxConfig:{retry:2,noResponseRetries:2,retryDelay:1200,backoffType:"exponential",httpMethodsToRetry:["GET","HEAD","OPTIONS","DELETE","PUT","POST"],statusCodesToRetry:[[100,199],[400,429],[500,599]],onRetryAttempt:function(e){a.getConfig(e)}}})}function A(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];document.querySelectorAll(".package-option-container").forEach((function(e){return e.classList.remove("option-sold-out")})),document.querySelectorAll(".package-option-container").forEach((function(e){return e.classList.remove("option-low-capacity")})),document.querySelectorAll(".option-low-capacity-label").forEach((function(e){return e.innerText=""})),o&&document.querySelectorAll(".package-option-container").forEach((function(e){return e.classList.remove("hide-element")}));var i=null;r.reservation_depature_time_slots&&1==r.reservation_depature_time_slots.length?i=new(a())(r.reservation_depature_time_slots[0],"hh:mm: A").format("HH:mm:ss"):n&&(i=n);var s={guest_id:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),package_id:t.id,reservation_date:e,reservation_time:i};localStorage.getItem("AT_ABtest_experience_Brcp_price_id")&&(s.price_version_id=localStorage.getItem("AT_ABtest_experience_Brcp_price_id"));var c=2==t.type?10:25;document.getElementById("package-option-loader-icon-container")?(document.querySelector("#package-option-loader-icon-container").style.cssText="display: block;",document.querySelectorAll(".package-option-wrapper").forEach((function(e){e.classList.add("processing-data")}))):document.getElementById("package--loader-icon-container")&&(document.querySelector("#package--loader-icon-container").style.cssText="display: block;",document.querySelectorAll(".prices-container").forEach((function(e){e.classList.add("processing-data")})));try{N("/api/v1/capacity_event_admission_options",s).then((function(e){document.getElementById("package-option-loader-icon-container")?document.querySelector("#package-option-loader-icon-container").style.cssText="display: none;":document.getElementById("package--loader-icon-container")&&(document.querySelector("#package--loader-icon-container").style.cssText="display: none;"),e.data&&Array.isArray(e.data)&&e.data.map((function(e,n){if(document.querySelectorAll(".price-container-from-value").forEach((function(e){e.classList.add("d-none")})),t.has_option_price)4==t.type&&document.querySelectorAll(".price-quantity-wrapper .price-quantity-inner .walkin-price").forEach((function(e){return e.classList.remove("d-none")})),document.querySelectorAll(".package-option-container").forEach((function(r){if(r.querySelector(".package-option-wrapper").classList.remove("processing-data"),e.tour_code==r.querySelector(".package-option-wrapper").getAttribute("data-tour-code")&&!o){if(r.querySelector(".package-option-wrapper").style.display="block",e.is_sold_out)e.is_hide_soldout_admission?r.querySelector(".package-option-wrapper").style.display="none":(r.querySelector(".package-option-wrapper").classList.remove("option-selected"),r.classList.add("option-sold-out"),r.querySelector(".package-option-wrapper").querySelector(".option-low-capacity-label").innerText="");else if(!e.is_sold_out&&e.spots_left>0&&e.spots_left<=c){r.querySelector(".package-option-wrapper").classList.add("option-low-capacity"),r.classList.remove("option-sold-out");var a=e.is_table_purchase?"Table":"Ticket";r.querySelector(".package-option-wrapper").querySelector(".option-low-capacity-label").innerText=e.spots_left+" "+T(e.spots_left,a)+" Left"}!e.is_sold_out&&e.spots_left>0&&r.classList.remove("option-sold-out");var i=t.is_adult_only?".package-option__name .promo-price.promo-price--adults .promo-price-value":".price-quantity-wrapper.price-quantity-wrapper--adults .promo-price .promo-price-value",s=0,l=0,d=0,u=0;e.is_sold_out||(e.custom_price?(e.custom_price.deal_adult_price>0&&(r.querySelector(".package-option-wrapper").querySelector(i).innerText=s=e.custom_price.deal_adult_price,d=e.custom_price.adult_walkin),!t.is_adult_only&&e.custom_price.deal_kid_price>0&&(r.querySelector(".package-option-wrapper").querySelector(".price-quantity-wrapper.price-quantity-wrapper--kids .promo-price .promo-price-value").innerText=l=e.custom_price.deal_kid_price,u=e.custom_price.kid_walkin)):t.option_prices_list_with_brcp[n].tour_code==e.tour_code&&(r.querySelector(".package-option-wrapper").querySelector(i).innerText=s=t.option_prices_list_with_brcp[n].deal_adult_price,d=t.option_prices_list_with_brcp[n].adult_walkin,t.is_adult_only||(r.querySelector(".package-option-wrapper").querySelector(".price-quantity-wrapper.price-quantity-wrapper--kids .promo-price .promo-price-value").innerText=l=t.option_prices_list_with_brcp[n].deal_kid_price,u=t.option_prices_list_with_brcp[n].kid_walkin))),r.querySelector(".package-option-wrapper").classList.contains("option-selected")&&(s||l)&&(4==t.type&&(document.getElementById("id-walkin-price-adult").innerHTML=Math.floor(d),document.getElementById("id-online-deal-price-adult").innerHTML=Math.floor(s),t.is_adult_only||(document.getElementById("id-walkin-price-kid").innerHTML=Math.floor(u),document.getElementById("id-online-deal-price-kid").innerHTML=Math.floor(l))),$("#package-checkout-wrapper").find(".subtotal-text").find("span.promo-price").text(y(s*parseInt(localStorage.getItem("__productsCartBasket_adult_count"))+l*parseInt(localStorage.getItem("__productsCartBasket_kid_count")))),document.getElementById("reservationQuantity-adult").setAttribute("dataprice",s),document.body.contains(document.getElementById("reservationQuantity-kid"))&&document.getElementById("reservationQuantity-kid").setAttribute("dataprice",l)),parseInt(s)>0&&(r.querySelector(".package-option-wrapper").setAttribute("dataadultprice",s),r.querySelector(".package-option-wrapper").setAttribute("dataadultprice-regular",d)),parseInt(l)>0&&(r.querySelector(".package-option-wrapper").setAttribute("datakidprice",l),r.querySelector(".package-option-wrapper").setAttribute("datakidprice-regular",u))}}));else if(!t.has_option_price&&r&&r.recurre_days&&r.recurre_days.length>1){var a=0,i=0;document.querySelector(".prices-container").classList.remove("processing-data"),document.querySelectorAll(".price-quantity-wrapper .price-quantity-inner .walkin-price").forEach((function(e){e.classList.remove("d-none")})),e.custom_price?(e.custom_price.deal_adult_price>0&&parseFloat(document.querySelector(".price-quantity-wrapper.adults-wrapper").querySelector(".price-quantity-inner.regular-price-quantity .price.adult-price .promo-price.promo-font-color span").innerText)!=parseFloat(e.custom_price.deal_adult_price)&&(document.querySelector(".price-quantity-wrapper.adults-wrapper").querySelector(".price-quantity-inner.regular-price-quantity .price.adult-price .promo-price.promo-font-color span").innerText=a=e.custom_price.deal_adult_price,document.querySelector(".price-quantity-wrapper.adults-wrapper").querySelector(".price-quantity-inner.regular-price-quantity .price.adult-price .walkin-price s").innerText=e.custom_price.adult_walkin),!t.is_adult_only&&e.custom_price.deal_kid_price>0&&parseFloat(document.querySelector(".price-quantity-wrapper.kids-wrapper").querySelector(".price-quantity-inner.regular-price-quantity .price.kid-price .promo-price.promo-font-color span").innerText)!=parseFloat(e.custom_price.deal_kid_price)&&(document.querySelector(".price-quantity-wrapper.kids-wrapper").querySelector(".price-quantity-inner.regular-price-quantity .price.kid-price .promo-price.promo-font-color span").innerText=i=e.custom_price.deal_kid_price,document.getElementById("id-walkin-price-kid").innerText=e.custom_price.kid_walkin)):(parseFloat(document.querySelector(".price-quantity-wrapper.adults-wrapper").querySelector(".price-quantity-inner.regular-price-quantity .price.adult-price .promo-price.promo-font-color span").innerText)!=parseFloat(t.deal_adult_price)&&(document.querySelector(".price-quantity-wrapper.adults-wrapper").querySelector(".price-quantity-inner.regular-price-quantity .price.adult-price .promo-price.promo-font-color span").innerText=a=t.deal_adult_price,document.getElementById("id-walkin-price-adult").innerText=t.adult_walkin),t.is_adult_only||parseFloat(document.querySelector(".price-quantity-wrapper.kids-wrapper").querySelector(".price-quantity-inner.regular-price-quantity .price.kid-price .promo-price.promo-font-color span").innerText)==parseFloat(t.deal_kid_price)||(document.querySelector(".price-quantity-wrapper.kids-wrapper").querySelector(".price-quantity-inner.regular-price-quantity .price.kid-price .promo-price.promo-font-color span").innerText=i=t.deal_kid_price,document.getElementById("id-walkin-price-kid").innerText=t.kid_walkin)),(a||i)&&$("#package-checkout-wrapper").find(".subtotal-text").find("span.promo-price").text(y(a*parseInt(localStorage.getItem("__productsCartBasket_adult_count"))+i*parseInt(localStorage.getItem("__productsCartBasket_kid_count")))),parseInt(a)>0&&document.getElementById("reservationQuantity-adult").setAttribute("dataprice",a),parseInt(i)>0&&document.body.contains(document.getElementById("reservationQuantity-kid"))&&document.getElementById("reservationQuantity-kid").setAttribute("dataprice",i)}}))})).catch((function(e){document.getElementById("package-option-loader-icon-container")&&(document.querySelector("#package-option-loader-icon-container").style.cssText="display: none;",document.querySelectorAll(".package-option-wrapper").forEach((function(e){e.classList.remove("processing-data")}))),console.log(e)}))}catch(e){console.log(e)}}function I(e){var t=e.replace("+1","").replace("+52","").replace("+57","").replace("+44","").replace(" ","").replace("(","").replace(")","").replace("-","");if("1"==t||"52"==t||"57"==t||"44"==t||""==t||t.length<6)return!1;return!(!e||!1===/^([+]?[\s0-9]+)?(\d{3}|[(]?[0-9]+[)])?([-]?[\s]?[0-9])+$/i.test(e))}function E(){document.body.contains(document.getElementById("window-booking-form"))?$("html,body").animate({scrollTop:$("#window-booking-form").offset().top-100},400):document.body.contains(document.getElementById("packages-grid"))&&$("html,body").animate({scrollTop:$("#packages-grid").offset().top-100},400)}function O(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}var T=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t+"s",n=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t+"s";return[1,-1].includes(Number(e))?t:r};return"object"===c(e)?function(t,r){return n(t,r,e[r])}:n(e,t,r)};function L(e,t,r){if(r&&"booking-window-det-page"==r&&e&&t&&t.redirect_unavailable_product_dates)for(var n=0;n<t.redirect_unavailable_product_dates.length;n++){if(a()(t.redirect_unavailable_product_dates[n].blocked_date).isSame(e))return t.redirect_unavailable_product_dates[n]}return!1}var B=function(){var e,t=(e=i().mark((function e(t,n,o,a){var s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:s=r(86425).default,c=document.querySelector('meta[name="csrf-token"]').getAttribute("content");try{s.get("".concat("/new-york","/api/v1/products/").concat(t.package_id),{headers:{"X-CSRF-TOKEN":"".concat(c),"X-Requested-With":"XMLHttpRequest"},params:{is_redirected_product_card:!0}}).then((function(e){e.data&&(n.has_option_price&&"shopping-cart-page"!=o&&document.getElementById("package-option-wrapper-id").classList.add("hide-element"),document.getElementById("total-booking-line-container-id").classList.add("hide-element"),document.querySelectorAll(".prices-container").forEach((function(e){return e.classList.add("hide-element")})),document.getElementById("package-buy-now").classList.add("hide-element"),document.body.contains(document.getElementById("departure_time_select_container"))&&document.getElementById("departure_time_select_container").classList.add("hide-element"),t.text&&(e.data.text=t.text),a(e.data))})).catch((function(e){return console.log(e)}))}catch(e){console.log(e)}a(null);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){s(a,n,o,i,c,"next",e)}function c(e){s(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,r,n,o){return t.apply(this,arguments)}}(),P=function(e){return e.booking_price_type&&"is_only_flexible"==e.booking_price_type&&(e.adults_base_any_day_price_site_id||e.adults_base_any_day_price)?e.adults_base_any_day_price_site_id?Math.floor(Math.abs(100-100*e.adults_base_any_day_price_site_id/e.adults_regular_price_site_id)):Math.floor(Math.abs(100-100*e.adults_base_any_day_price/e.adults_regular_price)):e.adults_base_price_site_id&&e.adults_regular_price_site_id?Math.floor(Math.abs(100-100*e.adults_base_price_site_id/e.adults_regular_price_site_id)):e.adults_base_price&&e.adults_regular_price?Math.floor(Math.abs(100-100*e.adults_base_price/e.adults_regular_price)):e.adults_price_admission?Math.floor(Math.abs(100-100*e.adults_price_admission/e.adult_walkin_admission)):Math.floor(Math.abs(100*e.adults_price/e.adult_walkin))},q=function(e){return e.booking_price_type&&"is_only_flexible"==e.booking_price_type&&(e.adults_base_any_day_price_site_id||e.adults_base_any_day_price)?e.adults_base_any_day_price_site_id?Math.floor(e.adults_base_any_day_price_site_id):Math.floor(e.adults_base_any_day_price):e.adults_base_price_site_id?Math.floor(e.adults_base_price_site_id):e.adults_base_price?Math.floor(e.adults_base_price):e.adults_price_admission?Math.floor(e.adults_price_admission):Math.floor(Math.abs(e.adult_walkin-e.adults_price/e.adult_walkin*e.adult_walkin))};function C(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return r&&r.reserve_date&&r.information_cart_frontend&&r.information_cart_frontend.prices?"adult"==t?Math.floor(r.information_cart_frontend.prices.deal_adult_price):Math.floor(r.information_cart_frontend.prices.deal_kid_price):"adult"==t?e&&e.booking_price_type&&"is_only_flexible"==e.booking_price_type&&e.adults_base_any_day_price&&parseFloat(e.adults_base_any_day_price)>0?Math.floor(e.adults_base_any_day_price):Math.floor(e.adults_base_price&&parseFloat(e.adults_base_price)>0?e.adults_base_price:e.deal_adult_price):e&&e.booking_price_type&&"is_only_flexible"==e.booking_price_type&&e.kids_base_any_day_price&&parseFloat(e.kids_base_any_day_price)>0?Math.floor(e.kids_base_any_day_price):Math.floor(e.kids_base_price&&parseFloat(e.kids_base_price)>0?e.kids_base_price:e.deal_kid_price)}var M=function(e){return e.adults_regular_price_site_id?Math.floor(e.adults_regular_price_site_id):e.adults_regular_price?Math.floor(e.adults_regular_price):e.adult_walkin_admission?Math.floor(e.adult_walkin_admission):Math.floor(e.adult_walkin)};function D(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return r&&r.reserve_date&&r.information_cart_frontend&&r.information_cart_frontend.prices?"adult"==t?Math.floor(r.information_cart_frontend.prices.adult_walkin):Math.floor(r.information_cart_frontend.prices.kid_walkin):"adult"==t?Math.floor(e.adults_regular_price&&parseFloat(e.adults_regular_price)>0?e.adults_regular_price:e.adult_walkin):Math.floor(e.kids_regular_price&&parseFloat(e.kids_regular_price)>0?e.kids_regular_price:e.kid_walkin)}var Y=function(e,t,r){return e.has_option_price?t.prices?"adult"==r?t.prices.deal_adult_price:t.prices.deal_kid_price:"adult"==r?parseInt(t.adults_base_price)>0?parseInt(t.adults_base_price):parseInt(t.deal_adult_price):parseInt(t.kids_base_price)>0?parseInt(t.kids_base_price):parseInt(t.deal_kid_price):e.prices?"adult"==r?e.prices.deal_adult_price:e.prices.deal_kid_price:"adult"==r?e.deal_adult_price:e.deal_kid_price},F=function(e,t,r){return e.has_option_price?t.prices?"adult"==r?t.prices.adult_walkin:t.prices.kid_walkin:"adult"==r?t.adult_walkin:t.kid_walkin:e.prices?"adult"==r?e.prices.adult_walkin:e.prices.kid_walkin:"adult"==r?e.adult_walkin:e.kid_walkin},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){if(t){if("29"==t.event_id)return"Experience Date: ";if(t.is_tat)return"";if(t.is_event)return"Departure Date: "}switch(e){case 2:case 4:return"Start Date: ";default:return"Departure Date: "}}return"Departure Date: "};function H(){return document.body.contains(document.getElementById("event_datetime"))&&document.getElementById("event_datetime").value?new(a())(document.getElementById("event_datetime").value.toLowerCase().replace("experience date: ","").replace("departure date: ","").replace("start date: ","")).format("YYYY-MM-DD"):null}var z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){if(t&&t.is_event)return"Please select a departure date to proceed";switch(e){case 2:case 4:return"Please select a start date to proceed";default:return"Please select a departure date to proceed"}}return"Please select a departure date to proceed"};function G(e,t){for(var r=0;r<e.length;r++)if(new(a())(e[r]).isSame(t))return!0;return!1}function U(e){return e.is_event&&e.is_event_landing_page&&e.total_packages>1?e.event_name:e.is_event&&1!=e.has_option_price&&e.event_option_name?e.name+" "+e.event_option_name:e.name}function Q(e){if(e.is_event&&!e.is_event_landing_page){if(!e.has_option_price&&e.tickets_available>0&&e.tickets_available<30&&e.recurre_days)return(0,n.Ay)('<div class="banner">Only '.concat(e.available_tickets_label," tickets left!</div>"));if(0==e.tickets_available)return(0,n.Ay)('<div class="banner">Sold Out</div>')}}function W(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e.is_event&&e.is_event_landing_page&&e.total_packages>1?"events/"+(e.event_small_banner?e.small_banner:"small/"+e.event_banner):"products/small/"+(e.small_banner?e.small_banner:e.banner)}function V(e,t){var r=e.split(" ");return r.length<=t?e:r.slice(0,t).join(" ")+"..."}function K(e,t,r){var n=2==e.type?10:25;return!t.is_sold_out||"shopping-cart-page"!=r&&"booking-window-det-page"!=r?!t.is_sold_out&&t.spots_left>0&&t.spots_left<=n&&("shopping-cart-page"==r||"booking-window-det-page"==r&&!e.has_option_price)?' <span class="departure-msg-tickets-left"> '.concat(t.spots_left," tickets left</span>"):"":' <span class="departure-msg-sold-out">Sold out</span>'}function Z(e,t){if(t&&t.available_admissions&&Object.keys(t.available_admissions).length>0){var r=e.is_adult_only?".package-option__name .promo-price.promo-price--adults .promo-price-value":".price-quantity-wrapper.price-quantity-wrapper--adults .promo-price .promo-price-value";Object.keys(t.available_admissions).map((function(e){document.querySelectorAll(".package-option-container").forEach((function(n){parseInt(e)!=parseInt(n.querySelector(".package-option-wrapper").getAttribute("dataoptiondealid"))||t.available_admissions[e].availability?parseInt(e)==parseInt(n.querySelector(".package-option-wrapper").getAttribute("dataoptiondealid"))&&t.available_admissions[e].availability&&t.available_admissions[e].lower_price&&parseInt(t.available_admissions[e].lower_price)!=parseInt(n.querySelector(".package-option-wrapper").querySelector(r).innerText)&&(n.querySelector(".package-option-wrapper").querySelector(r).innerText=parseInt(t.available_admissions[e].lower_price)):n.remove()}))}))}}function J(){var e=null;return document.querySelectorAll(".package-option-container").forEach((function(t){t.querySelector(".package-option-wrapper").classList.contains("option-selected")&&(e=t.querySelector(".package-option-wrapper").getAttribute("dataoptiondealid"))})),e}function X(e){return 4!=e.type||e.is_event?2==e.type&&e.is_event?"event-bus-consolidated-booking":"":"sightseeing-consolidated-booking"}function ee(e){var t,r,n,o,a;return{latitude:null==e||null===(t=e.event_services_included_details)||void 0===t||null===(t=t.locations[0])||void 0===t?void 0:t.lat,longitude:null==e||null===(r=e.event_services_included_details)||void 0===r||null===(r=r.locations[0])||void 0===r?void 0:r.lng,latitudeDelta:null==e||null===(n=e.event_services_included_details)||void 0===n||null===(n=n.location_settings)||void 0===n||null===(n=n.desktop)||void 0===n||null===(n=n.location)||void 0===n?void 0:n.lat,longitudeDelta:null==e||null===(o=e.event_services_included_details)||void 0===o||null===(o=o.location_settings)||void 0===o||null===(o=o.desktop)||void 0===o||null===(o=o.location)||void 0===o?void 0:o.lng,deltaPadding:null==e||null===(a=e.event_services_included_details)||void 0===a||null===(a=a.location_settings)||void 0===a||null===(a=a.desktop)||void 0===a||null===(a=a.location)||void 0===a?void 0:a.deltaPadding}}function te(e,t){if(t&&t.text)return(0,n.Ay)(t.text);if(e&&e.is_tat)return"This departure is unavailable. Join another amazing experience:";var r=2==e.type?"cruise":"departure";return"This ".concat(r," is unavailable. Join us on one of our other amazing experiences:")}},54219:(e,t,r)=>{"use strict";r.d(t,{l:()=>i});var n=r(96540);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i=function(){var e=o((0,n.useState)({screenWidth:0,screenHeight:0}),2),t=e[0],r=e[1];return(0,n.useEffect)((function(){if("undefined"!=typeof window){var e=function(){r({screenWidth:window.innerWidth,screenHeight:window.innerHeight})};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}}),[]),t}},76803:(e,t,r)=>{"use strict";r.d(t,{A:()=>v});var n=r(96540),o=r(57261),a=r(15722),i=r(29956),s=r(26527),c=r(11680),l=r(15357),d=r(10900),u=r(46190),p=r(46942),m=r.n(p),h=(r(57788),r(35592),r(95384),r(54219)),f=r(74848);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function v(e){var t=g((0,n.useState)(1),2),r=t[0],p=(t[1],g((0,n.useState)(!!e.modalShowImagesCollage&&e.modalShowImagesCollage),2)),y=p[0],v=p[1],b=g((0,n.useState)(1),2),x=b[0],w=b[1],k=g((0,n.useState)(!0),2),j=k[0],S=k[1],N=g((0,n.useState)(!1),2),A=N[0],I=N[1],E=g((0,n.useState)(null),2),O=E[0],T=E[1],L=n.useRef(null),B=(0,h.l)().screenWidth;(0,n.useEffect)((function(){if(B<1024){var t=parseInt($("#image-main-collage-slider").width()),r=0;$("#image-main-collage-slider").on("scroll",(function(){var e=this;this.debouncedFn||(this.debouncedFn=_.debounce((function(){r=(r=$(e).scrollLeft()/t)<=1?1:Math.ceil((parseInt($(e).scrollLeft())+t/2)/t),$("#image-slider-index-mobile").html(r)}),10)),this.debouncedFn()}))}else if(e.product.package_images_frontend&&e.product.package_images_frontend.length&&e.product.package_images_frontend.length>0){var n=[],o=[];for(var a in e.product.package_images_frontend)e.product.package_images_frontend[a].video?n.push({type:"video",title:e.product.package_images_frontend[a].caption,poster:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/").concat(e.imageFolder,"/big/").concat(e.product.package_images_frontend[a].image),sources:[{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/").concat(e.imageFolder,"/videos/large/").concat(e.product.package_images_frontend[a].video),type:"video/mp4"}]}):o.push({src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/").concat(e.imageFolder,"/big/").concat(e.product.package_images_frontend[a].image),title:e.product.package_images_frontend[a].caption});n&&n.length&&o&&o.length?T([].concat(n,o)):n&&n.length&&!o?T(n):T(o)}}),[B]);var P=function(e){e?(history.pushState(null,null,location.href),window.onpopstate=function(){I(!1)}):window.onpopstate=function(){},I(e),setTimeout((function(){return S(!1)}),500)};return e.product&&e.product.package_images_frontend&&e.site&&(0,f.jsxs)("div",{id:"package-image-main",children:[B>=1024&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"package-image-main-experience",children:e.product.package_images_frontend.slice(0,5).map((function(t,r){return(0,f.jsx)("div",{className:" landing-gallery-img-wrapper "+(r>=5?"landing-gallery-img-hidden":""),onClick:function(){v(!0),w(r)},children:(0,f.jsx)("a",{children:(0,f.jsxs)("div",{className:"landing-gallery-img",style:{backgroundImage:"url('".concat("".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/").concat(e.imageFolder,"/").concat(0==r?"":"small/").concat(t.image),"')")},children:[(0,f.jsx)("img",{alt:"".concat(t.caption?t.caption:""),style:{display:"none"},src:"".concat("".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/").concat(e.imageFolder,"/").concat(0==r?"":"small/").concat(t.image))}),t.video&&(0,f.jsx)("video",{className:"hero-video-package ",muted:!0,autoPlay:!0,loop:!0,playsInline:!0,children:(0,f.jsx)("source",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/").concat(e.imageFolder,"/videos/large/").concat(t.video),type:"video/mp4"})})]})})},r)}))}),(0,f.jsx)("div",{className:"landing-gallery-expand-wrapper-mobile",onClick:function(){v(!0),w(e.product.package_images_frontend[5]?5:e.product.package_images_frontend.length-1)},children:(0,f.jsx)("a",{className:"landing-gallery-expand-link",children:(0,f.jsx)("div",{className:"landing-gallery-expand-selector",children:(0,f.jsx)("div",{className:"landing-gallery-expand-text",children:"See All"})})})}),y&&O&&(0,f.jsx)(o.Ay,{index:x,open:y,close:function(){return v(!1)},slides:O,plugins:[a.A,i.A,s.A,c.A],video:{controls:!1,playsInline:!1,autoPlay:!0,loop:!0,muted:!0,disablePictureInPicture:!1,disableRemotePlayback:!1,crossOrigin:"",preload:""},animation:{zoom:500},zoom:{maxZoomPixelRatio:8,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:300,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!0},counter:{container:{style:{top:"unset",bottom:0}}},captions:{ref:L},on:{click:function(){var e,t,r,n;null===(e=null!==(t=L.current)&&void 0!==t&&t.visible?null===(r=L.current)||void 0===r?void 0:r.hide:null===(n=L.current)||void 0===n?void 0:n.show)||void 0===e||e()}}})]}),B<1024&&(0,f.jsxs)(f.Fragment,{children:[A&&(0,f.jsxs)(l.A,{show:A,onHide:function(){return P(!1)},"aria-labelledby":"contained-modal-title-vcenter",animation:!0,autoFocus:!0,centered:!0,id:"product_images_collage_modal",className:m()("food-menu-carousel-modal",{"is-modal-loading":j}),children:[j&&(0,f.jsx)("div",{className:"image-loader-overlay",children:(0,f.jsx)(u.A,{size:50})}),(0,f.jsx)(l.A.Header,{children:(0,f.jsxs)("div",{className:"modal-header-title",children:[(0,f.jsx)("button",{type:"button",className:"close modal-header-close",onClick:function(){return P(!1)},children:(0,f.jsx)("i",{className:"fa fa-back-arrow"})}),(0,f.jsx)("span",{className:"modal-header-title-msg",children:(0,d.Ay)(e.product.name)})]})}),(0,f.jsx)(l.A.Body,{children:(0,f.jsx)("div",{className:"product-images-collage-grid",children:e.product.package_images_frontend&&e.product.package_images_frontend.map((function(t,r){return(0,f.jsxs)("div",{className:"product-image-item",children:[!t.video&&(0,f.jsx)("img",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/").concat(e.imageFolder,"/small/").concat(t.image),className:"product-image-item-img"}),t.video&&(0,f.jsx)("video",{muted:!0,autoPlay:!0,loop:!0,playsInline:!0,children:(0,f.jsx)("source",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/").concat(e.imageFolder,"/videos/large/").concat(t.video),type:"video/mp4"})}),(0,f.jsxs)("div",{className:"product-image-item-caption ".concat(t.video?"product-image-item-caption-video":""),children:[(0,f.jsxs)("span",{className:"product-image-item-caption-counter",children:[r+1," / ",e.product.package_images_frontend.length]}),t.caption&&(0,f.jsx)("span",{className:"product-image-item-caption-msg",children:(0,d.Ay)(t.caption)})]})]},r)}))})})]}),(0,f.jsx)("div",{id:"image-main-collage-slider",className:"swiper-container draggable-scroll-cards horizontal dragscroll",onClick:function(){P(!0)},children:e.product.package_images_frontend.map((function(t,r){return(0,f.jsxs)("div",{className:"swiper-slide",style:{position:"relative"},children:[!t.video&&(0,f.jsx)("img",{alt:"".concat(t.caption?t.caption:""),src:"".concat("".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/").concat(e.imageFolder,"/small/").concat(t.image))}),t.video&&(0,f.jsx)("video",{muted:!0,autoPlay:!0,loop:!0,playsInline:!0,children:(0,f.jsx)("source",{src:"".concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/").concat(e.imageFolder,"/videos/large/").concat(t.video),type:"video/mp4"})})]},r)}))}),(0,f.jsx)("div",{className:"landing-gallery-expand-wrapper-mobile",onClick:function(){P(!0)},children:(0,f.jsx)("a",{className:"landing-gallery-expand-link",children:(0,f.jsx)("div",{className:"landing-gallery-expand-selector",children:(0,f.jsxs)("div",{className:"landing-gallery-expand-text",children:[(0,f.jsx)("span",{id:"image-slider-index-mobile",className:"image-slider-index",children:r})," / ",e.product.package_images_frontend.length]})})})})]})]})}},83245:(e,t,r)=>{"use strict";r.d(t,{A:()=>M});var n=r(96540),o=r(95093),a=r.n(o),i=r(8989),s=r(83992),c=r(74353),l=r.n(c),d=r(75737),u=r(48696),p=r(601),m=r(15738),h=r(80770),f=r(28378),g=r(10900),_=r(46190),y=r(51804),v=r(74848);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w(e){var t=e.product,o=e.reservationDateIn,i=e.component,s=(e.cart,e.timeslotPickerRequired),c=e.reservationDepatureTimeSlotsIn,l=e.reservationStopsDepatureTimeSlotsIn,d=e.reservationDateTimeIn,u=e.productAvailability,p=e.flexibleSelect,m=e.tripIdIn,x=e.setTimeslotPickerRequired,w=b((0,n.useState)(o),2),k=(w[0],w[1]),j=b((0,n.useState)(c),2),S=j[0],N=j[1],A=b((0,n.useState)(l),2),I=(A[0],A[1],(0,n.useRef)(null)),E=b((0,n.useState)(d||0),2),O=E[0],T=E[1],L=b((0,n.useState)(m||null),2),B=L[0],P=L[1];function q(e){if(e.is_sold_out||new(a())(e.departure_datetime).isBefore(new(a())))return!1;parseInt(localStorage.getItem("__productsCartBasket_adult_count"))+parseInt(localStorage.getItem("__productsCartBasket_kid_count"))>0&&document.getElementById("package-buy-now")&&document.getElementById("package-buy-now").classList.remove("button-error-processing"),T(e.departure_time),x&&x(!1),document.getElementById("departure_time_select_container").classList.remove("departure-time-slot-error"),localStorage.setItem("reservation_date_time_slot",new(a())(e.departure_time,"HH:mm:ss").format("HH:mm:ss"));var r=new(a())(e.departure_datetime).format("YYYY-MM-DD HH:mm:ss");k(r),P(e.trip_id),localStorage.setItem("reservation_date_tour",r),"shopping-cart-page"==i&&S&&S.length>1&&(C(r,e.trip_id),document.body.contains(document.getElementById("tour_section_time_reservation"))&&(document.getElementById("tour_section_time_reservation").innerHTML=new(a())(e.departure_time,"HH:mm:ss").format("h:mma"))),"booking-window-det-page"==i&&t.has_option_price&&new(a())(r).isValid()&&((0,y.E5)(new(a())(r).format("YYYY-MM-DD"),t,u,e.departure_time),document.getElementById("package-buy-now")&&document.getElementById("package-buy-now").classList.contains("button-error-processing")&&document.getElementById("package-buy-now").classList.remove("button-error-processing"))}function C(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=(r(86425),{guest_id:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),reserve_date:e,component_source:i});n&&(o.trip_id=n);try{(0,y.qS)("/api/v1/cart",o).then((function(e){e.data.information_cart_frontend&&(document.querySelector(".order-summary-detail-prices-container .walking-price span.total-walkin").innerText=(0,y.cc)(e.data.information_cart_frontend.total_walkin),document.querySelector(".order-summary-detail-prices-container .promotion-deal-saving-subtotal-summary span.total-discount").innerText=(0,y.cc)(e.data.information_cart_frontend.cart_discount_value),document.querySelector(".order-summary-detail-prices-container .promotion-deal-saving-message-summary span.highest-promo-discount").innerText=e.data.information_cart_frontend.highest_promotion_deal,document.querySelector(".order-summary-detail-prices-container .total_confirm span.total-deal").innerText=(0,y.cc)(e.data.information_cart_frontend.sub_total),e.data.information_cart_frontend.prices&&(document.getElementById("id-walkin-price-adult").innerHTML=Math.floor(e.data.information_cart_frontend.prices.adult_walkin),document.getElementById("id-online-deal-price-adult").innerHTML=Math.floor(e.data.information_cart_frontend.prices.deal_adult_price),t.is_adult_only||(document.getElementById("id-walkin-price-kid").innerHTML=Math.floor(e.data.information_cart_frontend.prices.kid_walkin),document.getElementById("id-online-deal-price-kid").innerHTML=Math.floor(e.data.information_cart_frontend.prices.deal_kid_price))))})).catch((function(e){return console.log(e)}))}catch(e){console.log(e)}}function M(e,t,r){return e&&t&&!t.is_sold_out&&!new(a())(t.departure_datetime).isBefore(new(a()))&&(new(a())(e,"HH:mm:ss").isSame(new(a())(t.departure_time,"HH:mm:ss"))&&B&&t.trip_id||r&&1==r.length)?"active":""}function D(e){var r=t.is_tat?new(a())(e.departure_time,"hh:mm A").format("h:mm A"):new(a())(e.departure_time,"hh:mm A").format("h:mma");return o&&e.departure_datetime&&new(a())(e.departure_datetime).isAfter(new(a())(o),"day")&&(r="".concat(new(a())(e.departure_datetime).format("MM/DD")," ").concat(r)),r}return(0,n.useEffect)((function(){if(c&&(N(c),o)){var e=O,r=B,n=!1;for(var s in c)if(c.length<=1&&(t.has_option_price||!t.has_option_price&&!c[s].is_sold_out)){e=c[s].departure_time,r=c[s].trip_id,n=!0;break}if(!n&&c&&c.length>1&&t.has_option_price&&!d&&"booking-window-det-page"==i)for(var l in c)if(!c[l].is_sold_out){e=c[l].departure_time,r=c[l].trip_id;break}T(e),localStorage.setItem("reservation_date_time_slot",new(a())(e,"HH:mm:ss").format("HH:mm:ss")),localStorage.setItem("reservation_date_tour",new(a())(o).format("YYYY-MM-DD")+" "+new(a())(e,"hh:mm: A").format("HH:mm:ss")),setTimeout((function(){"booking-window-det-page"==i&&t.is_event&&!1!==(0,y.pg)()?((0,y.E5)(new(a())(o).format("YYYY-MM-DD"),t,u,e),document.getElementById("package-buy-now")&&document.getElementById("package-buy-now").classList.contains("button-error-processing")&&document.getElementById("package-buy-now").classList.remove("button-error-processing")):o&&"shopping-cart-page"==i&&(C(o+" "+e,r),document.body.contains(document.getElementById("tour_section_time_reservation"))&&(document.getElementById("tour_section_time_reservation").innerHTML=new(a())(e,"HH:mm:ss").format("h:mma")),x&&x(!1),localStorage.setItem("reservation_date_time_slot",new(a())(e,"HH:mm:ss").format("HH:mm:ss")))}),300)}}),[c]),(0,n.useEffect)((function(){O&&S&&S.length<=1&&(!localStorage.getItem("reservation_date_time_slot")||localStorage.getItem("reservation_date_time_slot")&&0==localStorage.getItem("reservation_date_time_slot"))&&localStorage.setItem("reservation_date_time_slot",new(a())(O,"HH:mm:ss").format("HH:mm:ss"))}),[]),(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"text-center departure-time-select-container ".concat(!u.recurre_days||u.recurre_days.length<=1?"only-departure-times":"","\n                ").concat("booking-window-det-page"==i&&p&&"flexible-any-day"==p?"d-none":"","\n                ").concat(S&&S.length>0?"departure-times-included":""),id:"departure_time_select_container",ref:I,children:[(0,v.jsxs)("div",{className:"departure-time-wrapper",children:[!t.is_tat&&(0,v.jsx)("div",{className:"departure-time-select-label",children:function(e){return e.is_event&&e.has_option_price&&2==e.type?"Select Departure Location and Time:":"Select a departure time:"}(t)}),(0,v.jsxs)("div",{className:"time-slots-wraper ",id:"departure_time_picker",children:[(0,v.jsx)("div",{id:"departure-trips--loader-icon-container",className:"departure-trips--loader-icon-container",style:{display:"none"},children:(0,v.jsx)("div",{className:"departure-trips--loader-icon-wrapper",children:(0,v.jsx)(_.A,{size:30})})}),!l&&c&&c.length>0&&(0,v.jsx)("div",{className:"time-slots",children:c.map((function(e,r){return(0,v.jsx)("div",{className:"departure-slot",children:(0,v.jsxs)("button",{type:"button",className:"btn btn-lg btn-outline-primary  \n                                                    ".concat(e.is_sold_out&&("shopping-cart-page"==i||"shopping-cart-page"!=i)||!e.is_sold_out&&new(a())(e.departure_datetime).isBefore(new(a()))?"departure-slot-sold-out":"departure-time-slot-active","  \n                                                    ").concat(M(O,e,c)," "),"data-departure-time":e.departure_time,"data-departure-date-time":e.departure_datetime,"data-trip_id":e.trip_id,onClick:function(){return q(e)},children:[D(e)," ",(0,g.Ay)((0,y.Cd)(t,e,i))]})})}))}),l&&l.length>0&&(0,v.jsx)("div",{className:"time-slots",children:l.map((function(e,r){return(0,v.jsx)("div",{className:"departure-stop-wrapper",children:(0,v.jsxs)("div",{className:"departure-stop-item",children:[(0,v.jsxs)("div",{className:"departure-stop-location",children:[(0,v.jsx)("div",{className:"departure-stop-icon",children:(0,v.jsx)("i",{className:"fa-solid fa-location-dot"})}),(0,v.jsxs)("div",{className:"departure-stop-info-wrapper",children:[(0,v.jsx)("div",{className:"departure-stop-title",children:1!=t.type&&e.stop_v3?"Stop ".concat(e.stop_v3.stop_number," ").concat(e.stop_v3.name," "):e.stop_name}),1!=t.type&&e.stop_v3&&(0,v.jsx)("div",{className:"departure-stop-subtitle",children:e.stop_v3.address})]})]}),(0,v.jsx)("div",{className:"departure-stop-trips",children:e.departures&&e.departures.length>0&&e.departures.map((function(r,n){return(0,v.jsx)("div",{className:"departure-slot",children:(0,v.jsxs)("button",{type:"button",className:"btn btn-lg btn-outline-primary  \n                                                                    ".concat(r.is_sold_out&&("shopping-cart-page"==i||"shopping-cart-page"!=i)||!r.is_sold_out&&new(a())(r.departure_datetime).isBefore(new(a()))?"departure-slot-sold-out":"departure-time-slot-active","  \n                                                                    ").concat(O&&!r.is_sold_out&&(O==r.departure_time&&B==r.trip_id||1==e.departures.length)?"active":""," "),"data-trip_id":r.trip_id,"data-departure-time":r.departure_time,"data-departure-date-time":r.departure_datetime,onClick:function(){return q(r)},children:[D(r),"  ",(0,g.Ay)((0,y.Cd)(t,r))]})})}))})]})})}))})]})]}),(0,v.jsx)(h.A,{show:s,placement:"bottom",target:I.current,containerPadding:10,container:I.current,transition:!0,containerClass:"test-container",children:(0,v.jsx)(f.A,{className:"datepicker-msg-popover-starting-date",children:(0,v.jsxs)(f.A.Body,{children:[(0,v.jsx)("span",{className:"datepicker-msg-popover-container-text",children:"Please select a departure time to proceed"}),(0,v.jsx)("i",{onClick:function(){return x(!1)},className:"fas fa-times"})]})})})]})})}function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function S(e){var t=function(e,t){if("object"!=k(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==k(t)?t:t+""}function N(e,t,r){return t=I(t),function(e,t){if(t&&("object"==k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,A()?Reflect.construct(t,r||[],I(e).constructor):t.apply(e,r))}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(A=function(){return!!e})()}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}var O=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=N(this,t,[e])).state={promoActive:window.TV_promo_active},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return this.props.product&&(0,v.jsx)("div",{id:"redirected-package-selector",className:"recommended-package-carousel",children:(0,v.jsxs)("a",{className:"package-carousel-item   package-carousel-one-item ",href:"".concat("/new-york","/").concat((this.props.product.is_event,"")).concat(this.props.product.slug),children:[(0,v.jsx)("div",{className:"product-img-wrapper mt-2",style:{backgroundImage:'url("'.concat("https://dmoelb813y7lv.cloudfront.net/eventcruisesnyc","/uploads/products/small/").concat(this.props.product.small_banner,'")')}}),(0,v.jsx)("h6",{className:"fw-600 d-inline-block",children:(0,g.Ay)(this.props.product.name)}),(0,v.jsx)("div",{className:"text-promo package-even-better-caption",children:this.props.product.event_option&&this.props.product.event_option.departure_date_custom?(0,g.Ay)(this.props.product.event_option.departure_date_custom):"".concat(new(a())(this.props.product.event_option.available_until).format("MMM D, yyyy")," ").concat(new(a())(this.props.product.event_option.departure_time,"HH:mm:ss").format("h:mma"))}),(0,v.jsx)("div",{className:"container",children:(0,v.jsxs)("div",{className:"row align-items-center",children:[(0,v.jsxs)("div",{className:"recommended-package-prices",children:[(0,v.jsx)("span",{className:"dollar-sign",children:"$"}),(0,v.jsx)("span",{className:"strikethrough ",children:(0,y.cc)(parseFloat(this.props.product.adults_regular_price?this.props.product.adults_regular_price:this.props.product.adult_walkin))}),(0,v.jsx)("span",{className:"d-inline-block mr-1 ml-1 recommended-price-divider"}),(0,v.jsx)("span",{className:"".concat(this.state.promoActive?"promo-font-color":""),children:"From"})," ",(0,v.jsxs)("span",{className:(this.props.product.is_promo&&this.state.promoActive?"promo-font-color":"")+" mr-1",children:[(0,v.jsx)("span",{className:"dollar-sign",children:"$"}),(0,y.cc)(parseFloat(this.props.product.adults_base_price?this.props.product.adults_base_price:this.props.product.deal_adult_price))]})]}),(0,v.jsx)("div",{className:"recommended-package-see-details-container",children:(0,v.jsx)("span",{className:"btn fancy-gradient btn-primary btn-buy-now d-block",children:this.props.product.is_event?"See Details":"Save Even More"})})]})})]})})}}])&&j(r.prototype,n),o&&j(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(n.Component);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function M(e){var t=e.product,o=e.reservationDateIn,c=e.component,_=e.cart,b=e.datePickerRequired,x=e.setDatePickerRequired,k=e.timeslotPickerRequired,j=e.setTimeslotPickerRequired,S=e.productAvailability,N=(e.redirectedProductIn,e.flexibleSelect),A=e.reservationDepatureTimeSlotsIn,I=e.reservationStopsDepatureTimeSlotsIn,E=e.setReservationDepatureTimeSlotsIn,T=e.setReservationStopsDepatureTimeSlotsIn,B=e.productOptionId,C=e.settings,M=void 0===C?null:C,D=q((0,n.useState)(o),2),Y=D[0],F=D[1],R=q((0,n.useState)(A||null),2),H=R[0],z=R[1],$=q((0,n.useState)(I||null),2),G=$[0],U=$[1],Q=q((0,n.useState)(!1),2),W=Q[0],V=Q[1],K=(0,n.useRef)(null),Z=q((0,n.useState)(null),2),J=Z[0],X=Z[1],ee=q((0,n.useState)(!1),2),te=ee[0],re=ee[1],ne=q((0,n.useState)(null),2),oe=ne[0],ae=ne[1],ie=q((0,n.useState)(null),2),se=ie[0],ce=ie[1],le=q((0,n.useState)(null),2),de=le[0],ue=le[1],pe=q((0,n.useState)(null),2),me=pe[0],he=pe[1],fe=q((0,n.useState)(null),2),ge=fe[0],_e=fe[1];function ye(e){r(86425);var n={guest_id:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),reserve_date:new(a())(e).format("YYYY-MM-DD HH:mm:ss"),component_source:c,is_valid_any_day:!(!N||"flexible-any-day"!=N),package_id:t.id};document.body.contains(document.getElementById("reservationQuantity-adult"))&&(n.adult_count=document.getElementById("reservationQuantity-adult").value.replace(" Adults","")),document.body.contains(document.getElementById("reservationQuantity-kid"))&&(n.kid_count=document.getElementById("reservationQuantity-kid").value.replace(" Kids",""));try{(0,y.qS)("/api/v1/cart",n).then((function(e){if(e.data.information_cart_frontend&&("shopping-cart-page"==c&&(document.querySelector(".order-summary-detail-prices-container .walking-price span.total-walkin").innerText=(0,y.cc)(e.data.information_cart_frontend.total_walkin),document.querySelector(".order-summary-detail-prices-container .promotion-deal-saving-subtotal-summary span.total-discount").innerText=(0,y.cc)(e.data.information_cart_frontend.cart_discount_value),document.querySelector(".order-summary-detail-prices-container .promotion-deal-saving-message-summary span.highest-promo-discount").innerText=e.data.information_cart_frontend.highest_promotion_deal,document.querySelector(".order-summary-detail-prices-container .total_confirm span.total-deal").innerText=(0,y.cc)(e.data.information_cart_frontend.sub_total)),e.data.information_cart_frontend.prices)){if("booking-window-det-page"==c){document.querySelectorAll(".price-container-from-value").forEach((function(e){e.classList.add("d-none")})),document.querySelectorAll(".price-container-from-value").forEach((function(e){return e.classList.add("d-none")})),document.querySelectorAll(".price-quantity-wrapper .price-quantity-inner .walkin-price").forEach((function(e){return e.classList.remove("d-none")}));var r=e.data.information_cart_frontend.sub_total,n=document.getElementById("reservationQuantity-adult").value.replace(" Adults",""),o=document.body.contains(document.getElementById("reservationQuantity-kid"))?document.getElementById("reservationQuantity-kid").value.replace(" Kids",""):0;!t.has_option_price&&parseInt(r)<=0&&(parseInt(n)>0||parseInt(o)>0)&&(r=parseInt(n)*e.data.information_cart_frontend.prices.deal_adult_price+parseInt(o)*e.data.information_cart_frontend.prices.deal_kid_price),document.querySelector("#package-checkout-wrapper .subtotal-text span.promo-price").innerHTML=(0,y.cc)(r),document.getElementById("reservationQuantity-adult").setAttribute("dataprice",e.data.information_cart_frontend.prices.deal_adult_price),document.body.contains(document.getElementById("reservationQuantity-kid"))&&document.getElementById("reservationQuantity-kid").setAttribute("dataprice",e.data.information_cart_frontend.prices.deal_kid_price)}document.getElementById("id-walkin-price-adult").innerHTML=Math.floor(e.data.information_cart_frontend.prices.adult_walkin),document.getElementById("id-online-deal-price-adult").innerHTML=Math.floor(e.data.information_cart_frontend.prices.deal_adult_price),t.is_adult_only||(document.getElementById("id-walkin-price-kid").innerHTML=Math.floor(e.data.information_cart_frontend.prices.kid_walkin),document.getElementById("id-online-deal-price-kid").innerHTML=Math.floor(e.data.information_cart_frontend.prices.deal_kid_price))}})).catch((function(e){return console.log(e)}))}catch(e){console.log(e)}}function ve(e,t){if(t&&S.reservation_depature_time_slots&&S.reservation_depature_time_slots.length>1){r(86425);var n={guest_id:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),tour_code:S.tour_code,package_v3_id:t.id,reservation_datetime:e};"shopping-cart-page"==c&&(n.is_shopping_cart_page=!0),B&&!t.is_tat&&t.has_option_price&&2==t.type&&(n.admission_id=B);try{document.querySelector("#departure-trips--loader-icon-container").style.cssText="display: block;",z(null),U(null),E&&(E(null),T(null)),(0,y.qS)("/api/v1/departure_times_cruise",n).then((function(e){document.querySelector("#departure-trips--loader-icon-container").style.cssText="display: none;",z(e.data.departure_trips),U(e.data.departure_stops_trips)})).catch((function(e){document.querySelector("#departure-trips--loader-icon-container").style.cssText="display: none;",console.log(e)}))}catch(e){document.querySelector("#departure-trips--loader-icon-container").style.cssText="display: none;",console.log(e)}}}(0,n.useEffect)((function(){I&&G&&G.length!=I.length&&U(I)}),[I]),(0,n.useEffect)((function(){if(S&&S.recurre_days&&S.recurre_days.length,ae(S.available_until?l()(S.available_until):null),ce(S.blocked_dates?S.blocked_dates:null),_e(S.sold_out_dates?S.sold_out_dates:null),ue(S.recurre_days?S.recurre_days:null),he(S.available_prices_dates?S.available_prices_dates:null),!Y||Y&&!Y.isValid()||_&&!_.reserve_date?S.recurre_days&&S.recurre_days.length>0&&S.recurre_days[0]&&(new(a())).isBefore(S.recurre_days[0])&&new(a())(S.recurre_days[0],"YYYY-MM-DD").startOf("month").diff((new(a())).startOf("month"),"months")>0?(F(new(l())(S.recurre_days[0])),S.reservation_depature_time_slots&&S.reservation_depature_time_slots.length>1&&ve(new(a())(S.recurre_days[0]).format("YYYY-MM-DD"),t),re(!0)):S&&S.recurre_days&&S.recurre_days.length:S.reservation_depature_time_slots&&S.reservation_depature_time_slots.length>1&&ve(new(a())(Y).format("YYYY-MM-DD"),t),!te&&(!Y||Y&&!Y.isValid())&&S&&S.next_available_event_date&&(new(a())).diff(new(a())(S.next_available_event_date),"months")>0){re(!0),F(new(l())(S.next_available_event_date));var e=(0,y.Y6)(new(a())(S.next_available_event_date).format("YYYY-MM-DD"),t,c);e?document.body.contains(document.querySelector(".MuiInputBase-input"))&&document.querySelector(".MuiInputBase-input").value&&(0,y.az)(e,t,c,X):S.reservation_depature_time_slots&&S.reservation_depature_time_slots.length>1&&ve(new(a())(S.next_available_event_date).format("YYYY-MM-DD"),t)}"booking-window-det-page"==c&&S&&S.recurre_days&&1==S.recurre_days.length&&S.reservation_depature_time_slots&&S.reservation_depature_time_slots.length>1&&(F(new(l())(S.recurre_days[0])),ve(new(a())(S.recurre_days[0]).format("YYYY-MM-DD"),t));var r=null;if("booking-window-det-page"==c&&S&&S.recurre_days&&S.recurre_days.length>1){var n=Y&&Y.isValid()?Y:new(a())(S.recurre_days[0]);(r=(0,y.Y6)(n.format("YYYY-MM-DD"),t,c))&&document.body.contains(document.querySelector(".MuiInputBase-input"))&&document.querySelector(".MuiInputBase-input").value&&(0,y.az)(r,t,c,X)}if("booking-window-det-page"==c&&S&&S.recurre_days&&S.recurre_days.length>=1&&!r&&S.reservation_depature_time_slots&&S.reservation_depature_time_slots.length<=1&&(!Y||!Y&&Y.isValid())){var o=Y&&Y.isValid()?Y:new(a())(S.recurre_days[0]);o.endOf("month").diff(new(a()),"months")>0&&(o=Y&&Y.isValid()?Y:new(a())(S.recurre_days[0]),F(l()(new(a())(o.format("YYYY-MM-DD")+" "+new(a())(S.reservation_depature_time_slots[0],"hh:mm A").format("HH:mm:ss")))),localStorage.setItem("reservation_date_tour",new(a())(o.format("YYYY-MM-DD")+" "+new(a())(S.reservation_depature_time_slots[0],"hh:mm A").format("HH:mm:ss"))),(0,y.E5)(o.format("YYYY-MM-DD"),t,S))}}),[]);var be=(0,n.useMemo)((function(){return function(e,t){for(var r=0;r<e.length;r++){if("string"==typeof e[r]&&l()(e[r]).isSame(t))return!0;if("object"==P(e[r])&&e[r].blocked_date&&"string"==typeof e[r].blocked_date&&l()(e[r].blocked_date).isSame(t))return!0}return!1}}));return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"package-event-option-datepicker ",children:[S&&S.recurre_days&&S.recurre_days.length>1&&(0,v.jsxs)(v.Fragment,{children:[t.is_tat&&(0,v.jsx)("div",{className:"select-departure-subtitle",children:"Choose a departure"}),(0,v.jsx)(d.$,{dateAdapter:p.R,children:(0,v.jsx)(s.x,{onClickAway:function(e){V(!1)},mouseEvent:"onMouseDown",children:(0,v.jsx)(i.A,{className:"react-datepicker-wrapper\n                                    ".concat("booking-window-det-page"==c&&N&&"flexible-any-day"==N?"d-none":"","\n                                    ").concat(te?"init-datepicker-starting-date":"","\n                                    ").concat(S.recurre_days?"":"one-time-event-calendar"," "),container:!0,justifyContent:"space-around",children:(0,v.jsx)(u.T,{disablePast:!0,disableHighlightToday:!0,onChange:function(e){var r=S.reservation_depature_time_slots&&S.reservation_depature_time_slots[0]?S.reservation_depature_time_slots[0]:"23:59:59",n=l()(l()(e).format("YYYY-MM-DD")+" "+new(a())(r,"hh:mm A").format("HH:mm:ss"));F(n),localStorage.setItem("reservation_date_tour",n.format("YYYY-MM-DD HH:mm:ss")),"shopping-cart-page"==c&&S&&S.reservation_depature_time_slots&&S.reservation_depature_time_slots.length<=1&&(ye(n.format("YYYY-MM-DD HH:mm:ss")),document.getElementById("tour_section_date_reservation").innerHTML=new(l())(e).format("MMM DD, YYYY"));var o=(0,y.Y6)(n.format("YYYY-MM-DD"),t,c);o?(0,y.az)(o,t,c,X):(t.has_option_price&&"shopping-cart-page"!=c&&document.getElementById("package-option-wrapper-id").classList.remove("hide-element"),"shopping-cart-page"!=c&&(document.getElementById("total-booking-line-container-id").classList.remove("hide-element"),document.querySelectorAll(".prices-container").forEach((function(e){return e.classList.remove("hide-element")})),document.getElementById("package-buy-now").classList.remove("hide-element")),document.body.contains(document.getElementById("departure_time_select_container"))&&document.getElementById("departure_time_select_container").classList.remove("hide-element"),X(null),S&&S.reservation_depature_time_slots&&S.reservation_depature_time_slots.length>1&&n.isValid()&&!o&&(t.is_tat||"shopping-cart-page"==c||!t.has_option_price||"shopping-cart-page"!=c&&t.has_option_price&&(2!=t.type||2==t.type&&null!==(0,y.oF)()))&&ve(n.format("YYYY-MM-DD"),t),(t.admissions_booking_panel&&t.admissions_booking_panel.length>0||!t.has_option_price&&S&&S.recurre_days)&&((!S.reservation_depature_time_slots||S.reservation_depature_time_slots&&S.reservation_depature_time_slots.length<=1)&&n.isValid()&&"shopping-cart-page"!=c&&t.has_option_price?(0,y.E5)(n.format("YYYY-MM-DD"),t,S):S.reservation_depature_time_slots&&S.reservation_depature_time_slots.length>1&&localStorage.getItem("reservation_date_time_slot")&&0!=localStorage.getItem("reservation_date_time_slot")&&(document.querySelectorAll(".package-option-wrapper").forEach((function(e){return e.classList.remove("option-sold-out")})),document.querySelectorAll(".package-option-wrapper").forEach((function(e){return e.classList.remove("option-low-capacity")}))),"shopping-cart-page"==c||t.has_option_price||ye(n.format("YYYY-MM-DD HH:mm:ss")))),V(!W),document.getElementById("select-datetimepicker-msg").classList.remove("show-element"),document.getElementById("select-datetimepicker-msg").classList.add("hide-element"),document.querySelector(".MuiInputBase-input").classList.remove("input-container-error"),parseInt(localStorage.getItem("__productsCartBasket_adult_count"))+parseInt(localStorage.getItem("__productsCartBasket_kid_count"))>0&&document.getElementById("package-buy-now")&&document.querySelector(".MuiInputBase-input").classList.remove("button-error-processing"),"booking-window-det-page"==c&&S&&(!S.reservation_depature_time_slots||S.reservation_depature_time_slots&&S.reservation_depature_time_slots.length<=1)&&document.getElementById("package-buy-now")&&document.getElementById("package-buy-now").classList.contains("button-error-processing")&&document.getElementById("package-buy-now").classList.remove("button-error-processing")},shouldDisableDate:function(e){var r=l()(e);return!(de&&new Date(e)>=(new Date).setHours(0,0,0,0)&&be(de,r))&&(!!(se&&new Date(e)>=(new Date).setHours(0,0,0,0)&&be(se,r))||!!("shopping-cart-page"==c&&t&&t.redirect_unavailable_product_dates&&be(t.redirect_unavailable_product_dates,r)))},maxDate:oe,minDate:S.recurre_days?l()(S.recurre_days[0]):null,ref:K,closeOnSelect:!0,format:Y?(0,y.iz)(t.type,t)+"MMMM D, YYYY":"",slotProps:{textField:{placeholder:function(e){if(e){if("29"==e.event_id)return"Select a Experience Date";if(e.is_event)return"Select a Departure Date";switch(e.type){case 2:case 4:return"Select a Start Date";default:return"Select a Departure Date"}}return"Select Departure Date"}(t),id:"event_datetime",readOnly:!0,error:!1,onClick:function(){re(!1),S.recurre_days&&(x&&x(!1),V(!W))},inputProps:{readOnly:!0}}},open:W,views:S.recurre_days?["day"]:[],onMonthChange:function(e){if(S.available_until&&l()(e).add(1,"M").isAfter(l()(oe))&&l()(e).isBefore(l()(S.available_until).add(24,"M")))try{var r={guest_id:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),package_id:t.id,reservation_start_date:l()(e).format("YYYY-MM-DD"),reservation_end_date:l()(e).add(12,"M").endOf("month").format("YYYY-MM-DD"),get_sold_out_dates:!0};localStorage.getItem("AT_ABtest_experience_Brcp_price_id")&&(r.price_version_id=localStorage.getItem("AT_ABtest_experience_Brcp_price_id")),(0,y.qS)("/api/v1/package_availability",r).then((function(e){e.data.recurre_days&&(ae(l()(l()(e.data.available_until).endOf("month"))),e.data.blocked_dates&&e.data.blocked_dates.length>0&&ce(se?se.concat(e.data.blocked_dates):e.data.blocked_dates),e.data.sold_out_dates&&e.data.sold_out_dates.length>0&&_e(se?ge.concat(e.data.sold_out_dates):e.data.sold_out_dates),e.data.recurre_days&&e.data.recurre_days.length>0&&ue(de?de.concat(e.data.recurre_days):e.data.recurre_days),e.data.available_prices_dates&&he(me?Object.assign({},me,e.data.available_prices_dates):e.data.available_prices_dates))})).catch((function(e){return console.log(e)}))}catch(e){console.log(e)}},slots:{day:function(e){var r=l()(e.day),n=function(e){if(me&&me[e.format("YYYY-MM-DD")]){if(me[e.format("YYYY-MM-DD")].AdultBasePrice)return me[e.format("YYYY-MM-DD")].AdultBasePrice;if(t.has_option_price&&t.admissions_booking_panel&&t.admissions_booking_panel[0].deal_adult_price){var r=t.is_table_purchase?0:t.admissions_booking_panel.length-1;return t.admissions_booking_panel[r].deal_adult_price}return t.deal_adult_price}if(de&&be(de,e)&&(!S.redirected_dates||S.redirected_dates&&!be(S.redirected_dates,e))){if(t.has_option_price&&t.admissions_booking_panel&&t.admissions_booking_panel[0].deal_adult_price){var n=t.is_table_purchase?0:t.admissions_booking_panel.length-1;return t.admissions_booking_panel[n].deal_adult_price}return t.deal_adult_price}return""}(r);return(0,v.jsx)(m.a,L(L({},e),{},{children:(0,v.jsxs)("div",{className:"date-picker-day-wrapper ".concat(S.reservation_depature_time_slots&&S.reservation_depature_time_slots.length<=1&&new Date(r)>=(new Date).setHours(0,0,0,0)&&ge&&be(ge,r)?"date-picker-sold-out-day":""," ").concat(M&&M.includes&&M.includes.calendar&&M.includes.calendar.showEnabledDaysColor&&de&&(!S.redirected_dates||S.redirected_dates&&!be(S.redirected_dates,r))&&be(de,r)?"date-picker-enabled-days-colored":"","\n                    "),children:[(0,v.jsx)("span",{className:"date-picker-day",children:r.format("D")}),(0,v.jsx)("span",{className:"date-picker-price ".concat(parseFloat(S.lowest_price)>=parseFloat(n)?"date-lowest-price":""),children:r.isValid()&&new(a())(new Date((new Date).setHours(0,0,0,0))).isSameOrBefore(r)&&de&&be(de,r)&&n?(0,g.Ay)("<i class='dollar-sign'>$</i>"+n):S.reservation_depature_time_slots&&S.reservation_depature_time_slots.length<=1&&new Date(r)>=(new Date).setHours(0,0,0,0)&&ge&&be(ge,r)?(0,g.Ay)("Sold Out"):""})]})}))}},defaultValue:Y?l()(Y.format("YYYY-MM-DD")):null})})})}),(0,v.jsx)(h.A,{show:te,placement:"bottom",target:K.current,containerPadding:40,container:K.current,transition:!0,containerClass:"test-container",children:(0,v.jsx)(f.A,{className:"datepicker-msg-popover-starting-date",children:(0,v.jsxs)(f.A.Body,{children:[(0,v.jsx)("span",{className:"datepicker-msg-popover-container-text date-picker-starting-date-msg-1",children:"This event is available on multiple dates. Click on the calendar icon to change your date!"}),(0,v.jsx)("i",{onClick:function(){return re(!1)},className:"fas fa-times"})]})})}),(0,v.jsx)(h.A,{show:b,placement:"bottom",target:K.current,containerPadding:40,container:K.current,transition:!0,children:(0,v.jsx)(f.A,{children:(0,v.jsxs)(f.A.Body,{children:[(0,v.jsxs)("span",{className:"datepicker-msg-popover-container-text",children:[(0,y.Gk)(t.type,t)," "]}),(0,v.jsx)("i",{onClick:function(){return x(!1)},className:"fas fa-times"})]})})})]}),(0,v.jsxs)("div",{id:"select-datetimepicker-msg",className:"invalid-feedback select-datetimepicker-msg text-left  hide-element mt-0 mb-2",children:["Please select a ",function(e){return e.is_tat||2!=e.type?"departure":"cruise"}(t)," date to proceed"]}),S&&S.reservation_depature_time_slots&&S.reservation_depature_time_slots.length<=1&&!J&&(0,v.jsx)("div",{className:"departure-times-container",children:(0,v.jsxs)("div",{className:"departure-time-wrapper ".concat(t.is_table_purchase?"departure-time-table-package":""," "),children:["Departure: ",(0,v.jsx)("span",{className:"departure-time-slot",id:"departure-time-slot","data-time-trip":S.reservation_depature_time_slots[0],children:new(a())(S.reservation_depature_time_slots[0],"hh:mm A").format("h:mma")}),(0,v.jsx)("span",{className:"option-low-capacity-label"})]})}),J&&(0,v.jsx)("div",{className:"departure-times-container",children:(0,v.jsx)("span",{style:{fontSize:"0.75rem"},children:(0,y.mV)(t,J)})})]}),S.reservation_depature_time_slots&&S.reservation_depature_time_slots.length>1&&(0,v.jsx)(w,{timeslotPickerRequired:k,setTimeslotPickerRequired:j,product:t,productAvailability:S,component:c,flexibleSelect:N,cart:_,reservationDateIn:Y?Y.format("YYYY-MM-DD"):null,reservationDepatureTimeSlotsIn:H||A,reservationStopsDepatureTimeSlotsIn:G||I,tripIdIn:_&&_.trip_id?_.trip_id:null,reservationDateTimeIn:Y?new(a())(Y,"HH:mm:ss").format("HH:mm:ss"):"shopping-cart-page"!=c&&localStorage.getItem("reservation_date_time_slot")&&0!=localStorage.getItem("reservation_date_time_slot")?new(a())(localStorage.getItem("reservation_date_time_slot"),"HH:mm:ss").format("HH:mm:ss"):null}),J&&(0,v.jsx)(O,{product:J})]})}},83709:(e,t,r)=>{"use strict";r.d(t,{A:()=>P});var n=r(96540),o=r(10900),a=r(2007),i=r(95093),s=r.n(i),c=r(46190),l=r(83245),d=r(22594),u=r(51804),p=r(74848);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function h(){h=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),s=new L(n||[]);return o(i,"_invoke",{value:I(e,r,s)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",f="suspendedYield",g="executing",_="completed",y={};function v(){}function b(){}function x(){}var w={};l(w,i,(function(){return this}));var k=Object.getPrototypeOf,j=k&&k(k(B([])));j&&j!==r&&n.call(j,i)&&(w=j);var S=x.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,s){var c=u(e[o],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==m(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function I(t,r,n){var o=p;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===_){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=_,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var l=u(t,r,n);if("normal"===l.type){if(o=n.done?_:f,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=_,n.method="throw",n.arg=l.arg)}}}function E(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,E(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=u(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function B(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(m(t)+" is not iterable")}return b.prototype=x,o(S,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=l(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},N(A.prototype),l(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(d(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(S),l(S,c,"Generator"),l(S,i,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=B,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:B(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function f(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){f(a,n,o,i,s,"next",e)}function s(e){f(a,n,o,i,s,"throw",e)}i(void 0)}))}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const v=function(e){var t=e.timeslotPickerRequired,r=e.setTimeslotPickerRequired,a=e.datePickerRequired,i=e.setDatePickerRequired,m=e.settings,f=void 0===m?null:m,y=_((0,n.useState)(null),2),v=y[0],b=y[1],x=_((0,n.useState)(null),2),w=x[0],k=x[1],j=_((0,n.useState)(null),2),S=j[0],N=j[1],A=_((0,n.useState)(null),2),I=A[0],E=A[1],O=_((0,n.useState)(null),2),T=O[0],L=O[1];function B(t){e.productsAddeBooking(t)}(0,n.useEffect)((function(){e.product&&e.product.is_event&&e.productAvailability&&e.productAvailability.reservation_depature_time_slots&&e.productAvailability.reservation_depature_time_slots.length<=1&&(!e.productAvailability.recurre_days||e.productAvailability.recurre_days.length<=1)?((0,u.E5)(new(s())(e.productAvailability.available_until).format("YYYY-MM-DD"),e.product,e.productAvailability),"booking-window-det-page"==e.component&&e.productAvailability.recurre_days&&e.productAvailability.recurre_days.length<=1&&localStorage.setItem("reservation_date_tour",e.productAvailability.recurre_days[0]+" "+e.productAvailability.reservation_depature_time_slots[0])):e.product&&e.product.is_event&&e.productAvailability&&e.productAvailability.recurre_days&&e.productAvailability.reservation_depature_time_slots&&e.productAvailability.reservation_depature_time_slots.length<=1&&e.cart&&e.cart.package_id==e.product.id&&e.cart.is_booked&&e.cart.reserve_date?((0,u.E5)(new(s())(e.cart.reserve_date).format("YYYY-MM-DD"),e.product,e.productAvailability),"booking-window-det-page"==e.component&&localStorage.setItem("reservation_date_tour",new(s())(e.cart.reserve_date).format("YYYY-MM-DD")+" "+e.productAvailability.reservation_depature_time_slots[0])):e.product&&e.product.is_event&&e.productAvailability&&e.productAvailability.reservation_depature_time_slots&&e.productAvailability.reservation_depature_time_slots.length<=1&&e.productAvailability.recurre_days&&e.productAvailability.recurre_days.length>1&&new(s())(e.productAvailability.recurre_days[0]).diff(new(s()),"months")>0&&((0,u.E5)(new(s())(e.productAvailability.recurre_days[0]).format("YYYY-MM-DD"),e.product,e.productAvailability),"booking-window-det-page"==e.component&&localStorage.setItem("reservation_date_tour",e.productAvailability.recurre_days[0]+" "+e.productAvailability.reservation_depature_time_slots[0])),e.product&&e.product.admissions_booking_panel&&e.product.admissions_booking_panel.length>2&&e.productAvailability&&e.productAvailability.recurre_days&&e.productAvailability.recurre_days.length>0&&e.productAvailability.available_admissions&&Object.keys(e.productAvailability.available_admissions).length>0&&(0,u.Nh)(e.product,e.productAvailability),e.product.is_event&&e.productAvailability&&b(e.productAvailability.available_until),function(t,r){r&&t&&r.package_id==t.id&&r.reserve_date&&r.is_booked&&new(s())(r.reserve_date).isAfter(new(s()))&&L(new(s())(r.reserve_date));t&&e.productAvailability&&!e.productAvailability.recurre_days&&t.is_event&&L(new(s())(e.productAvailability.available_until))}(e.product,e.cart)}),[]);var P=function(){var t=g(h().mark((function t(r){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{document.querySelectorAll(".package-option-container").forEach((function(t){if(t.querySelector(".package-option-wrapper").getAttribute("dataoptiondealid")==r){var n=0,o=0;n=1==t.querySelector(".package-option-wrapper").getAttribute("data-is-table-purchase")||"true"==t.querySelector(".package-option-wrapper").getAttribute("data-is-table-purchase")?1:parseInt(document.getElementById("reservationQuantity-adult").value.replace(" Adults","")),document.body.contains(document.getElementById("reservationQuantity-kid"))&&(o=parseInt(document.getElementById("reservationQuantity-kid").value.replace(" Kids",""))),document.getElementById("reservationQuantity-adult").setAttribute("dataprice",t.querySelector(".package-option-wrapper").getAttribute("dataadultprice")),document.body.contains(document.getElementById("reservationQuantity-kid"))&&document.getElementById("reservationQuantity-kid").setAttribute("dataprice",t.querySelector(".package-option-wrapper").getAttribute("datakidprice")),4==e.product.type&&(document.getElementById("id-online-deal-price-adult").innerHTML=Math.floor(t.querySelector(".package-option-wrapper").getAttribute("dataadultprice")),document.getElementById("id-walkin-price-adult").innerHTML=Math.floor(t.querySelector(".package-option-wrapper").getAttribute("dataadultprice-regular")),e.is_adult_only||(document.getElementById("id-online-deal-price-kid").innerHTML=Math.floor(t.querySelector(".package-option-wrapper").getAttribute("datakidprice")),document.getElementById("id-walkin-price-kid").innerHTML=Math.floor(t.querySelector(".package-option-wrapper").getAttribute("datakidprice-regular")))),$("#package-checkout-wrapper").find(".subtotal-text").find("span.promo-price").text((0,u.cc)(n*parseInt(t.querySelector(".package-option-wrapper").getAttribute("dataadultprice"))+(o&&parseInt(o)>0?o*parseInt(t.querySelector(".package-option-wrapper").getAttribute("datakidprice")):0)))}}))}catch(e){console.log(e)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var q=function(){var t=g(h().mark((function t(r,n){var o;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!r.target.closest(".package-option-container").classList.contains("option-sold-out")&&!r.target.closest(".package-option-container").querySelector(".package-option-wrapper").classList.contains("processing-data")){t.next=3;break}return t.abrupt("return");case 3:return document.querySelectorAll(".package-option-wrapper").forEach((function(e){return e.classList.remove("option-selected")})),r.target.closest(".package-option-wrapper").classList.add("option-selected"),k(n.id),t.next=8,P(n.id);case 8:document.getElementById("package-buy-now").classList.remove("button-error-processing"),document.getElementById("invalid-feedback-select-option-qty-msg").classList.remove("show-element"),n.is_table_purchase?(document.getElementById("package-prices-container-id").classList.add("is-table-package-hide-price-container"),document.getElementById("total-booking-line-container-id").classList.add("is-table-package-price-container")):(document.getElementById("package-prices-container-id").classList.remove("is-table-package-hide-price-container"),document.getElementById("total-booking-line-container-id").classList.remove("is-table-package-price-container")),e.productAvailability.reservation_depature_time_slots&&e.productAvailability.reservation_depature_time_slots.length>1&&!e.product.is_tat&&e.product.has_option_price&&2==e.product.type&&document.getElementById("event_datetime").value&&(N(null),E(null),o={guest_id:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),tour_code:e.productAvailability.tour_code,package_v3_id:e.product.id,reservation_datetime:new(s())(document.getElementById("event_datetime").value.replace((0,u.iz)(e.product.type,e.product),"")).format("YYYY-MM-DD"),is_shopping_cart_page:!1,admission_id:n.id},document.querySelector("#departure-trips--loader-icon-container").style.cssText="display: block;",(0,u.qS)("/api/v1/departure_times_cruise",o).then((function(e){document.querySelector("#departure-trips--loader-icon-container").style.cssText="display: none;",N(e.data.departure_trips),E(e.data.departure_stops_trips)})).catch((function(e){document.querySelector("#departure-trips--loader-icon-container").style.cssText="display: none;",console.log(e)}))),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,r){return t.apply(this,arguments)}}();return e.cart&&(0,p.jsxs)("div",{className:"package-options package-events-options ".concat((0,u.m_)(e.product),"\n            ").concat(e.product.is_table_purchase?"package-is-table-purchase":"","\n        "),children:[e.product.is_event&&e.productAvailability&&(!e.productAvailability.recurre_days||e.productAvailability.recurre_days.length<=1)&&(0,p.jsxs)("div",{className:"package-event-option-datepicker-text",children:[(0,p.jsx)("i",{className:"fas fa-calendar datepicker-info-icon"})," ",(0,u.iz)(e.product.type,e.product).replaceAll("'","")," ",new(s())(e.productAvailability.available_until).format("MMM D, yyyy"),e.productAvailability.departure_time&&e.productAvailability.reservation_depature_time_slots&&e.productAvailability.reservation_depature_time_slots.length<=1&&(0,p.jsx)("span",{className:"datepicker-info-time",children:new(s())(e.productAvailability.departure_time,"hh:mm A").format("h:mma")})]}),e.productAvailability&&"flexible-calendar"==e.flexibleSelect&&(e.productAvailability.recurre_days&&e.productAvailability.recurre_days.length>1||e.productAvailability.departure_time&&e.productAvailability.reservation_depature_time_slots&&e.productAvailability.reservation_depature_time_slots.length>1)&&(0,p.jsx)(l.A,{product:e.product,productAvailability:e.productAvailability,reservationDateIn:T,component:e.component,datePickerRequired:a,setDatePickerRequired:i,timeslotPickerRequired:t,setTimeslotPickerRequired:r,cart:e.cart,reservationDepatureTimeSlotsIn:S,reservationStopsDepatureTimeSlotsIn:I,setReservationDepatureTimeSlotsIn:N,setReservationStopsDepatureTimeSlotsIn:E,productOptionId:w,settings:f}),(0,p.jsxs)("section",{id:"package-option-wrapper-id",children:[(0,p.jsx)("div",{id:"package-option-loader-icon-container",className:"package-option-loader-icon-container",style:{display:"none"},children:(0,p.jsx)("div",{className:"package-option-loader-icon-wrapper",children:(0,p.jsx)(c.A,{size:30})})}),e.product&&e.product.admissions_booking_panel&&e.product.admissions_booking_panel.length>0&&e.product.admissions_booking_panel.map((function(t,r){return(0,p.jsxs)(n.Fragment,{children:[0==r&&(0,p.jsx)("div",{className:"package-option__name-title-wrapper",children:(0,p.jsxs)("div",{className:"package-option__name-title",children:[1==e.product.type&&e.product.is_event?(0,p.jsx)("i",{className:"fas fa-ship"}):"",(a=e.product,753==a.id||a.is_event&&a.name.toLowerCase().includes("night tour")?"Select Narration Style & Number of Travelers:":1!=a.type||a.is_event?4!=a.type||a.is_event?a.is_tat?"Choose an experience":"Please select an admission type below:":"Select Pass Options":"Select one of the options below:")]})}),(0,p.jsx)("div",{className:"package-option-container  ".concat(e.product.is_table_purchase&&t.includes?"is-table-purchase-package-option":""),children:(0,p.jsx)("div",{className:"package-option-wrapper  \n                                        ".concat(e.cart&&e.cart.package_options_id&&e.cart.package_options_id==t.id&&e.cart.is_booked?e.product.is_event&&v&&t.tour_data&&t.tour_data.blocked_dates&&t.tour_data.blocked_dates.includes(s()(v).format("YYYY-MM-DD"))?"":"option-selected":"","\n                                    "),onClick:function(e){return q(e,t)},id:t.id,"data-event-option-id":t.id,"data-tour-code":t.tour_code,"data-is-table-purchase":t.is_table_purchase,dataoptiondealid:t.id,dataadultprice:(0,u.p5)(e.product,t,"adult"),datakidprice:(0,u.p5)(e.product,t,"kid"),"dataadultprice-regular":(0,u.al)(e.product,t,"adult"),"datakidprice-regular":(0,u.al)(e.product,t,"kid"),children:(0,p.jsxs)("div",{className:"package-option ".concat(0==r?"package-option-first":"package-option-non-first"," ").concat(r==e.product.admissions_booking_panel.length-1?"package-option-last":""," ").concat(e.product.is_adult_only?"package-option-is-adult-only":""),children:[(0,p.jsxs)("div",{className:"package-option__name",children:[(0,p.jsx)("b",{children:4!=e.product.type&&(0,p.jsx)(p.Fragment,{children:t.event_option_api_id&&t.event_option?t.event_option.name:t.package_option_name})}),e.product.is_adult_only&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"price-container-from-value ".concat(!t.skip_brcp_price&&e.productAvailability&&e.productAvailability.recurre_days&&e.productAvailability.recurre_days.length>1?"":"d-none"),children:"from"}),(0,p.jsxs)("span",{className:"promo-price promo-font-color promo-price--adults",children:[(0,p.jsx)("i",{className:"dollar-sign",children:"$"}),(0,p.jsx)("span",{className:"promo-price-value",children:(0,u.p5)(e.product,t,"adult")})]})]}),t.info_text&&(0,p.jsx)("span",{className:"fa fa-info package-option-info","data-toggle":"tooltip","data-placement":"top","data-html":"true","data-original-title":""}),(0,p.jsx)("span",{className:"option-low-capacity-label"})]}),!e.product.is_tat&&t.event_option_api_id&&t.event_option&&t.event_option.admission_option_text_custom?(0,p.jsx)("div",{className:"package-option__sub-name",children:(0,o.Ay)(t.event_option.admission_option_text_custom)}):"",e.product.is_tat&&t.event_option_api_id&&t.event_option&&t.event_option.admission_option_text_custom_array&&t.event_option.admission_option_text_custom_array.length>0&&(0,p.jsx)("div",{className:"package-option__sub-name",children:(0,p.jsx)("ul",{children:t.event_option.admission_option_text_custom_array.map((function(e,t){return(0,p.jsxs)("li",{className:"package-option__sub-includes",children:[(0,p.jsx)("i",{class:" ".concat(e.icon," ")}),(0,p.jsx)("span",{className:"option__sub-text",children:e.text}),e.is_luxe&&(0,p.jsx)("span",{className:"option__sub-is-luxe",children:"luxe"})]},t)}))})}),e.product.is_table_purchase&&t.includes&&t.includes.length>0&&(0,p.jsx)("div",{className:"package-option__sub-includes-container",children:(0,p.jsx)("ul",{className:"package-option__sub-includes-wrapper",children:t.includes.map((function(e){return(0,p.jsxs)("li",{className:"package-option__sub-includes",children:[(0,p.jsx)("i",{class:"fas ".concat(e.include?"fa-check":"fa-times"," ")}),(0,p.jsx)("span",{children:e.text})]})}))})}),(0,p.jsx)("div",{className:"price-quantity-container ".concat(e.product.is_event||r+1<e.product.admissions_booking_panel.length?"not-last-item":""," "),children:!e.product.is_adult_only&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"price-quantity-wrapper price-quantity-wrapper--adults ",children:[(0,p.jsxs)("div",{className:"price-quantity-container--adults- ",children:[4==e.product.type&&(0,p.jsx)(p.Fragment,{children:t.event_option_api_id&&t.event_option?t.event_option.name:t.package_option_name}),(0,p.jsx)("div",{className:"price-quantity-type price-quantity-type--adults",children:(0,p.jsx)("span",{className:"price-quantity-type--kids-label",children:"Adult"})}),(0,p.jsx)("div",{className:"price-container-from-value ".concat(!t.skip_brcp_price&&e.productAvailability&&e.productAvailability.recurre_days&&e.productAvailability.recurre_days.length>1?"":"d-none"),children:"from"}),(0,p.jsxs)("span",{className:"promo-price promo-font-color",children:[(0,p.jsx)("i",{className:"dollar-sign",children:"$"})," ",(0,p.jsx)("span",{className:"promo-price-value",children:(0,u.p5)(e.product,t,"adult")})]})]}),e.product.adult_age_range_text&&(0,p.jsx)("small",{className:"price-quantity-type--kids-age-range",children:e.product.adult_age_range_text})]}),(0,p.jsxs)("div",{className:"price-quantity-wrapper price-quantity-wrapper--kids ",children:[(0,p.jsxs)("div",{className:"price-quantity-container--kids- ",children:[(0,p.jsx)("div",{className:"price-quantity-type price-quantity-type--kids",children:(0,p.jsx)("span",{className:"price-quantity-type--kids-label",children:"Kid"})}),(0,p.jsx)("div",{className:"price-container-from-value ".concat(!t.skip_brcp_price&&e.productAvailability&&e.productAvailability.recurre_days&&e.productAvailability.recurre_days.length>1?"":"d-none"),children:"from"}),(0,p.jsxs)("span",{className:"promo-price promo-font-color",children:[(0,p.jsx)("i",{className:"dollar-sign",children:"$"})," ",(0,p.jsx)("span",{className:"promo-price-value",children:(0,u.p5)(e.product,t,"kid")})]})]}),e.product.kid_age_range&&(0,p.jsx)("small",{className:"price-quantity-type--kids-age-range",children:e.product.kid_age_range})]})]})})]})})})]},r);var a}))]}),(0,p.jsxs)("div",{id:"package-prices-container-id",className:"\n                prices-container ".concat(e.product.is_adult_only?"is-only-adults-admission":"","\n                ").concat(e.product.is_table_purchase&&(!e.cart.information_cart_frontend||e.cart&&e.cart.information_cart_frontend&&(e.cart.is_booked&&e.cart.package_id!=e.product.id||e.cart.information_cart_frontend.is_table_purchase&&e.cart.package_id==e.product.id))?"is-table-package-hide-price-container":"","\n                "),children:[4==e.product.type&&!e.product.is_event&&(0,p.jsx)("div",{className:"price-quantity-select-guest",children:(0,p.jsx)("div",{className:"price-quantity-select-guest__title",children:"Select Guest"})}),e.product.is_adult_only&&(0,p.jsxs)("span",{className:"price-quantity-adults-only-label ",children:["Add Guests",e.product.is_adult_id_required&&(0,p.jsx)("small",{children:"(Age 21+, ID required to board)"})]}),(0,p.jsx)("div",{className:"price-quantity-wrapper adults-wrapper text-center ",children:(0,p.jsx)(d.A,{package:e.product,product:"adult",component:e.component,cart:e.cart,productsAddeBooking:B,productOptionId:w,productAvailability:e.productAvailability,flexibleSelect:e.flexibleSelect})}),!e.product.is_adult_only&&(0,p.jsx)("div",{className:"price-quantity-wrapper kids-wrapper",children:(0,p.jsx)(d.A,{package:e.product,product:"kid",component:e.component,cart:e.cart,productsAddeBooking:B,productOptionId:w,productAvailability:e.productAvailability,flexibleSelect:e.flexibleSelect})})]})]})};function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w(n.key),n)}}function w(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}function k(e,t,r){return t=S(t),function(e,t){if(t&&("object"==b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,j()?Reflect.construct(t,r||[],S(e).constructor):t.apply(e,r))}function j(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(j=function(){return!!e})()}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}var A=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){}},{key:"boxSubtitle",value:function(e,t){return!t||t&&t.includes&&!t.includes.booking_component?e.booking_price_type&&"specific_and_flexible"==e.booking_price_type?"Choose either Specific or Flexible Date:":"is_only_specific_date"==e.booking_price_type?"Select your planned travel dates. You get a free date change for a worry free purchase:":"You have ".concat(e.months_until_expiration," months from purchase to activate your pass and start using it. Buy now, use later."):t.includes.booking_component.departure_date_title}},{key:"render",value:function(){var e=this;return this.props.package&&(0,p.jsxs)("div",{className:"package--option-box--container ".concat((0,u.m_)(this.props.package)),children:[(0,p.jsx)("div",{className:"package--option-box-wrapper-header package--option-box-wrapper-header-departures ".concat(!this.props.package.booking_price_type||"is_only_specific_date"!=this.props.package.booking_price_type&&"is_only_flexible"!=this.props.package.booking_price_type?"":"package--option-box-only-specific-date"),children:(0,p.jsx)("div",{className:"package--box-subtitle",children:this.boxSubtitle(this.props.package,this.props.settings)})}),this.props.package.booking_price_type&&"specific_and_flexible"==this.props.package.booking_price_type&&(0,p.jsx)("div",{className:"package--option-box-wrapper-selector",children:(0,p.jsxs)("div",{className:"package--calendar-flexible-box",children:[(0,p.jsx)("div",{className:"package--calendar-date-box  ".concat("flexible-calendar"==this.props.flexibleSelect?"package--option-box-selected":""),onClick:function(){return e.props.handleFlexibleSelect("flexible-calendar")},children:"Specific Date"}),(0,p.jsx)("div",{className:"package--calendar-date-box package--flexible-date-box   ".concat("flexible-any-day"==this.props.flexibleSelect?"package--option-box-selected":""," "),onClick:function(){return e.props.handleFlexibleSelect("flexible-any-day")},children:"Flexible Date"})]})}),"flexible-any-day"==this.props.flexibleSelect&&this.props.package.booking_price_type&&"specific_and_flexible"==this.props.package.booking_price_type&&(0,p.jsxs)("div",{className:"package--flexible-date-box-label",children:["Use anytime within ",this.props.package.months_until_expiration," months of purchase."]})]})}}])&&x(r.prototype,n),o&&x(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(n.Component),I=r(54219);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function O(){O=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var a=t&&t.prototype instanceof _?t:_,i=Object.create(a.prototype),s=new L(n||[]);return o(i,"_invoke",{value:N(e,r,s)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",m="suspendedYield",h="executing",f="completed",g={};function _(){}function y(){}function v(){}var b={};l(b,i,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(B([])));w&&w!==r&&n.call(w,i)&&(b=w);var k=v.prototype=_.prototype=Object.create(b);function j(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,a,i,s){var c=u(e[o],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==E(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function N(t,r,n){var o=p;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===f){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=A(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=u(t,r,n);if("normal"===l.type){if(o=n.done?f:m,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=f,n.method="throw",n.arg=l.arg)}}}function A(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,A(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=u(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function B(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(E(t)+" is not iterable")}return y.prototype=v,o(k,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},j(S.prototype),l(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(d(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(k),l(k,c,"Generator"),l(k,i,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=B,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:B(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function T(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const P=function(e){var t=L((0,n.useState)(null),2),r=t[0],i=t[1],l=L((0,n.useState)(e.attraction),2),d=l[0],m=(l[1],L((0,n.useState)(!1),2)),h=m[0],f=m[1],g=L((0,n.useState)(!1),2),_=g[0],y=g[1],b=L((0,n.useState)(!1),2),x=(b[0],b[1]),w=L((0,n.useState)(!1),2),k=w[0],j=w[1],S=L((0,n.useState)(!1),2),N=S[0],E=S[1],B=L((0,n.useState)(null),2),P=B[0],q=B[1],C=L((0,n.useState)(null),2),M=C[0],D=C[1],Y=L((0,n.useState)(null),2),F=Y[0],R=Y[1],H=L((0,n.useState)("flexible-calendar"),2),z=H[0],G=H[1],U=L((0,n.useState)(null),2),Q=U[0],W=(U[1],L((0,n.useState)(0),2)),V=W[0],K=W[1],Z=L((0,n.useState)({adult_count:0,kid_count:0}),2),J=Z[0],X=(Z[1],null),ee=!1,te=(0,I.l)().screenWidth;(0,n.useEffect)((function(){var t=e.product.is_event?100:300;if(e.product&&e.product.booking_price_type&&"is_only_flexible"==e.product.booking_price_type&&G("flexible-any-day"),e.product.is_event&&e.productAvailability&&e.productAvailability.recurre_days?(q(parseInt(document.getElementById("package-first-row").offsetTop)-parseInt(document.getElementById("header-nav--wrapper").offsetHeight)+20),D(parseInt(document.getElementById("package-first-row").offsetTop)+parseInt(document.getElementById("package-checkout-wrapper").offsetHeight)-parseInt(document.getElementById("header-nav--wrapper").offsetHeight)-t)):document.body.contains(document.getElementById("package-first-row"))&&(q(parseInt(document.getElementById("package-first-row").offsetTop)-parseInt(document.getElementById("header-nav--wrapper").offsetHeight)),D(parseInt(document.getElementById("package-first-row").offsetTop)+parseInt(document.getElementById("package-checkout-wrapper").offsetHeight)-parseInt(document.getElementById("header-nav--wrapper").offsetHeight)-t)),e.product){se();var r=window.location.search;if(null!==new URLSearchParams(r).get("booking")){var n=window.innerWidth<768?parseInt(document.getElementById("window-booking-form").offsetHeight)+400:0;window.scrollTo({top:document.getElementById("window-booking-form").getBoundingClientRect().top+n,behavior:"smooth"})}}}),[]),(0,n.useEffect)((function(){te&&"package-details"==e.componentSource&&window.addEventListener("scroll",re)}),[te]);var re=function(t){var r=window.scrollY;te<768&&"package-details"==e.componentSource&&(e.product.is_tat?r>document.getElementById("main-footer").offsetTop-document.getElementById("main-footer").offsetHeight-10?f(!1):f(!0):f(r>=M),r>=P-120?document.getElementById("header-nav--wrapper").classList.add("transform-hide-selector-home"):document.getElementById("header-nav--wrapper").classList.remove("transform-hide-selector-home"),r>=P?(y(!0),X>r?(document.getElementById("header-nav--wrapper").classList.remove("transform-hide-selector"),document.getElementById("header-nav--wrapper").classList.remove("transform-hide-selector-home"),document.getElementById("package-highlights-wrapper")&&(document.getElementById("package-highlights-wrapper").classList.remove("stick-scrolling-bottom-fixed"),document.getElementById("package-highlights-wrapper").classList.add("stick-scrolling-top-fixed"),document.getElementById("window-booking-form").classList.remove("package-highlight-sticked"))):X<r&&(document.getElementById("header-nav--wrapper").classList.add("transform-hide-selector"),document.getElementById("package-highlights-wrapper")&&(document.getElementById("package-highlights-wrapper").classList.add("stick-scrolling-bottom-fixed"),document.getElementById("package-highlights-wrapper").classList.remove("stick-scrolling-top-fixed"),document.getElementById("window-booking-form").classList.add("package-highlight-sticked")))):(y(!1),document.getElementById("header-nav--wrapper").classList.remove("transform-hide-selector"),document.getElementById("package-highlights-wrapper")&&(document.getElementById("package-highlights-wrapper").classList.remove("stick-top-fixed"),document.getElementById("window-booking-form").classList.remove("package-highlight-sticked"))),X=r),te>=768&&"package-details"==e.componentSource&&(r>=100&&!ee?($("#checkout-wrapper-product-name").slideToggle("30"),ee=!0,e.product&&e.product.is_event&&e.productAvailability&&e.productAvailability.recurre_days&&document.getElementsByClassName("css-1rb86js").length>0&&setTimeout((function(){window.scroll({top:window.scrollY-100,left:0,behavior:"smooth"})}),100)):window.scrollY<=100&&ee&&($("#checkout-wrapper-product-name").slideToggle("30"),ee=!1))},ne=function(e){e&&("adult"==e.product?J.adult_count=e.counterTotal:"kid"==e.product&&(J.kid_count=e.counterTotal))};function oe(e,t){var r=[],n="fas fa-star";if(e<=0)return nulll;"half"==t?n="fas fa-star-half-alt":"empty"==t&&(n="far fa-star");for(var o=0;o<e;o++)r.push((0,p.jsx)("i",{className:" rating-container "+n}));return r}function ae(e){return"thumbs-o-up"==e?"far fa-thumbs-up":"bolt"==e?"fas fa-bolt":"money"==e?"far fa-money-bill-alt":"clock-o"==e?"fas fa-clock":"camera"==e?"fas fa-camera":"globe"==e?"fas fa-globe-americas":"eye"==e?"far fa-eye":"kids-go-free"==e||"money"==e||"money"==e?"fa kids-go-free":"tag"==e?"fa fa-tag":e}var ie,se=function(){var t,r=(t=O().mark((function t(){var r;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,u.CH)("/api/v1/cart/".concat(e.product.id));case 3:(r=t.sent).data&&(r.data.adult_count?localStorage.setItem("__productsCartBasket_adult_count",r.data.adult_count):localStorage.setItem("__productsCartBasket_adult_count",0),r.data.kid_count?localStorage.setItem("__productsCartBasket_kid_count",r.data.kid_count):localStorage.setItem("__productsCartBasket_kid_count",0),i(r.data),K(r.data.information_cart_frontend?r.data.information_cart_frontend.sub_total:0),R(r.data.package_options_id)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){T(a,n,o,i,s,"next",e)}function s(e){T(a,n,o,i,s,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();function ce(e){e&&i(e)}return e.product&&(0,p.jsxs)("div",{children:[!e.product.is_tat&&(0,p.jsxs)("div",{id:"package-highlights-wrapper",className:"clearfix ".concat(_?"fixed-topnav":""," \n                    ").concat(e.product.is_event&&e.product.event_services_included_details?"highlights-wrapper-no-line-under":""," \n                    ").concat("attraction-show"==e.componentSource?"is-attraction-booking":"","\n                "),children:["package-details"==e.componentSource&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"highlights-container h-limited-time",children:[(0,p.jsx)("i",{className:"".concat(ae(e.product.highlights.highlights[0].param1.icon))}),(0,p.jsxs)("p",{className:"mb-0",children:[!e.product.is_event&&(0,o.Ay)(e.product.highlights.highlights[0].param1.text),e.product.is_event&&(0,p.jsxs)("div",{className:"promo-font-color",children:["Online Deal Up to ",e.product.deal_discount_percentage,"% OFF ",(0,p.jsx)("span",{className:"promo-font-color-msg"})]})]})]}),(0,p.jsxs)("div",{className:"highlights-container h-trending",children:[(0,p.jsx)("i",{className:"".concat(ae(e.product.highlights.highlights[1].param2.icon))}),(0,p.jsxs)("p",{className:"mb-0",children:[!e.product.is_event&&4==e.product.type&&(0,o.Ay)(e.product.highlights.highlights[1].param2.text),!e.product.is_event&&4!=e.product.type&&(e.product.highlights_tickets_bought>=5?e.product.highlights_tickets_bought+"+ bought in past 24 hours":"1000+ bought"),e.product.is_event&&e.product.event_services_included_details&&(0,p.jsxs)(p.Fragment,{children:[e.product.highlights_tickets_bought>1?e.product.highlights_tickets_bought:e.product.event_services_included_details.people_looking," people are looking at this ",(ie=e.product,1==ie.type?"cruise":"tour")," now"]})]})]}),(0,p.jsx)("div",{className:"highlights-container h-rating",children:(0,p.jsxs)("div",{className:"star-wrapper",children:[!e.product.exp_pcd_variants_rating&&(0,p.jsxs)(p.Fragment,{children:[oe(4,"full"),oe(1,"half")]}),e.product.exp_pcd_variants_rating&&(0,p.jsxs)(p.Fragment,{children:[oe(Math.floor(e.product.exp_pcd_variants_rating),"full"),-1!=e.product.exp_pcd_variants_rating.indexOf(".")?oe(1,"half"):"",(-1!=e.product.exp_pcd_variants_rating.indexOf("."))+Math.floor(e.product.exp_pcd_variants_rating)<5?oe(5-((-1!=e.product.exp_pcd_variants_rating.indexOf("."))+Math.floor(e.product.exp_pcd_variants_rating)),"empty"):""]}),(0,p.jsxs)("p",{className:"mb-0",children:[e.product.exp_pcd_variants_rating?e.product.exp_pcd_variants_rating:"4"," Stars"]})]})})]}),"attraction-show"==e.componentSource&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("h6",{children:["Get to ",(0,o.Ay)(d.name)," with our"]}),(0,p.jsx)("h5",{className:"mb-0",children:(0,o.Ay)(e.product.name)})]})]}),(0,p.jsxs)("form",{id:"window-booking-form",className:"mb-0 ".concat(e.productAvailabilityloader&&"booking-loading","\n                ").concat(e.product.has_option_price&&"booking-multiple-admissions-"+e.product.admissions_booking_panel.length),onSubmit:function(t){if(t.preventDefault(),te<768&&document.body.contains(document.getElementById("redirected-package-selector")))setTimeout((function(){window.scrollTo({top:document.getElementById("redirected-package-selector").getBoundingClientRect().top+window.scrollY-150,behavior:"smooth"})}),150);else{if((e.product.has_option_price||e.product.is_event||!e.product.is_event&&!e.product.has_option_price&&z&&"flexible-calendar"==z)&&e.productAvailability&&e.productAvailability.recurre_days&&e.productAvailability.recurre_days.length>1&&(!document.getElementById("event_datetime").value||!localStorage.getItem("reservation_date_tour")||"null"==localStorage.getItem("reservation_date_tour")||localStorage.getItem("reservation_date_tour").toLowerCase().includes("invalid date")||!new(s())(localStorage.getItem("reservation_date_tour")).isValid()))return document.getElementById("event_datetime").classList.add("input-container-error"),document.getElementById("package-buy-now").classList.add("button-error-processing"),te<768&&setTimeout((function(){window.scrollTo({top:document.getElementById("event_datetime").getBoundingClientRect().top+window.scrollY-150,behavior:"smooth"})}),150),void j(!0);if(document.body.contains(document.getElementById("event_datetime"))&&document.getElementById("event_datetime").value&&document.getElementById("event_datetime").classList.remove("input-container-error"),(e.product.has_option_price||e.product.is_event||!e.product.is_event&&!e.product.has_option_price&&z&&"flexible-calendar"==z)&&document.body.contains(document.getElementById("departure_time_select_container"))&&(!localStorage.getItem("reservation_date_time_slot")||0==localStorage.getItem("reservation_date_time_slot")||!(0,u.pg)(document.getElementById("departure_time_picker").querySelectorAll("button"))))return document.getElementById("departure_time_select_container").classList.add("departure-time-slot-error"),document.getElementById("package-buy-now").classList.add("button-error-processing"),te<768&&setTimeout((function(){window.scrollTo({top:document.querySelector(".departure-time-wrapper").getBoundingClientRect().top+window.scrollY-150,behavior:"smooth"})}),150),void E(!0);document.body.contains(document.getElementById("departure_time_select_container"))&&localStorage.getItem("reservation_date_time_slot")&&0!=localStorage.getItem("reservation_date_time_slot")&&(document.getElementById("departure_time_select_container").classList.remove("departure-time-slot-error"),E(!1));var r=null;if(e.product.has_option_price&&(!document.querySelectorAll(".package-option-wrapper.option-selected").length||document.querySelectorAll(".package-option-wrapper.option-selected").length&&document.querySelectorAll(".package-option-wrapper.option-selected.hide-element").length))return document.getElementById("package-buy-now").classList.add("button-error-processing"),document.getElementById("invalid-feedback-select-option-qty-msg").classList.add("show-element"),void(te<768&&document.getElementById("package-buy-now").offsetTop-80<=window.scrollY&&setTimeout((function(){window.scrollTo({top:document.getElementById("package-option-wrapper-id").getBoundingClientRect().top+window.scrollY-120,behavior:"smooth"})}),150));if(e.product.has_option_price&&document.querySelectorAll(".package-option-wrapper.option-selected").length&&(document.getElementById("invalid-feedback-select-qty-msg").classList.remove("show-element"),document.getElementById("invalid-feedback-select-option-qty-msg").classList.remove("show-element"),r=document.querySelectorAll(".package-option-wrapper.option-selected")[0]?document.querySelectorAll(".package-option-wrapper.option-selected")[0].getAttribute("data-event-option-id"):null),e.product.is_table_purchase||parseInt(localStorage.getItem("__productsCartBasket_adult_count"))+parseInt(localStorage.getItem("__productsCartBasket_kid_count"))>0){if(e.product.has_option_price&&document.querySelectorAll(".package-option-wrapper.option-selected").length&&"false"===document.querySelector(".package-option-wrapper.option-selected").getAttribute("data-is-table-purchase")&&parseInt(localStorage.getItem("__productsCartBasket_adult_count"))+parseInt(localStorage.getItem("__productsCartBasket_kid_count"))<=0)return document.getElementById("invalid-feedback-select-qty-msg").classList.add("show-element"),document.getElementById("package-buy-now").classList.add("button-error-processing"),void(te<768&&!e.product.is_tat&&window.scrollTo({top:document.querySelector(".prices-container").getBoundingClientRect().top+window.scrollY-140,behavior:"smooth"}));if(document.getElementById("invalid-feedback-select-qty-msg").classList.remove("show-element"),(e.product.has_option_price||e.product.is_event||!e.product.is_event&&!e.product.has_option_price&&z&&"flexible-calendar"==z)&&document.body.contains(document.getElementById("event_datetime"))&&!document.getElementById("event_datetime").value)return;document.getElementsByClassName("datepicker-msg-popover-starting-date")&&document.getElementsByClassName("datepicker-msg-popover-starting-date").length&&document.getElementsByClassName("datepicker-msg-popover-starting-date")[0].classList.add("hide-element"),$("body").addClass("submit--loading"),x(!0),document.getElementById("package-buy-now").disabled=!0;var n={guest_id:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),package_id:e.product.id,is_booked:!0,product_count:parseInt(J.adult_count)+parseInt(J.kid_count),product_type:"booking",reserve_date:localStorage.getItem("reservation_date_tour")&&"null"!=localStorage.getItem("reservation_date_tour")?localStorage.getItem("reservation_date_tour"):null,is_valid_any_day:!(!z||z&&"flexible-calendar"==z),adult_count:document.getElementById("reservationQuantity-adult").value.replace(" Adults","")};document.body.contains(document.getElementById("reservationQuantity-kid"))&&(n.kid_count=document.getElementById("reservationQuantity-kid").value.replace(" Kids","")),r&&parseInt(r)>0&&(n.package_options_id=parseInt(r)),document.body.contains(document.getElementById("departure_time_select_container"))&&z&&"flexible-calendar"==z&&u.bE&&(n.trip_id=(0,u.bE)()),localStorage.getItem("AT_ABtest_experience_Brcp_price_id")&&(n.upgrade_option=localStorage.getItem("AT_ABtest_experience_Brcp_price_id"));try{(0,u.qS)("/api/v1/cart",n).then((function(t){window.location.href="".concat("/new-york").concat(e.site&&20==e.site.id?"/tea-around-town":"").concat("tat"==e.site.type?"/checkout/payment":"/reservation/confirm")+window.TV_mobile_webloading})).catch((function(e){return console.log(e)}))}catch(e){console.log(e),document.getElementById("package-buy-now").disabled=!1}}else document.getElementById("invalid-feedback-select-qty-msg").classList.add("show-element"),document.getElementById("package-buy-now").classList.add("button-error-processing"),te<768&&!e.product.is_tat&&window.scrollTo({top:document.querySelector(".prices-container").getBoundingClientRect().top+window.scrollY-140,behavior:"smooth"})}},children:[e.productAvailabilityloader&&(0,p.jsx)("div",{className:"package-option-loader-icon-container",children:(0,p.jsx)(c.A,{size:50})}),!e.product.is_tat&&e.productAvailability&&e.productAvailability.recurre_days&&e.productAvailability.recurre_days.length>1&&(!e.product.is_event||e.product.is_event&&2==e.product.type)&&(0,p.jsx)(A,{datePickerRequired:k,setDatePickerRequired:j,timeslotPickerRequired:N,setTimeslotPickerRequired:E,package:e.product,component:"booking-window-det-page",cart:r,productsAddeBooking:ne,productOptionId:F,productAddonId:Q,flexibleSelect:z,handleFlexibleSelect:function(t){t&&(G(t),function(t){try{var r={guest_id:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),package_id:e.product.id,component_source:"booking-window-det-page",is_valid_any_day:"flexible-any-day"==t,adult_count:document.getElementById("reservationQuantity-adult").value.replace(" Adults","")};document.body.contains(document.getElementById("reservationQuantity-kid"))&&(r.kid_count=document.getElementById("reservationQuantity-kid").value.replace(" Kids","")),"flexible-calendar"==t&&document.body.contains(document.getElementById("event_datetime"))&&(!e.product.is_event||e.product.is_event&&2==e.product.type)&&("booking-window-det-page"!=e.componentSource||document.getElementById("event_datetime").value||(document.querySelector("#price-container-from-value").classList.remove("d-none"),document.querySelector(".price-quantity-wrapper .price-quantity-inner .walkin-price").classList.add("d-none")),document.getElementById("event_datetime").value&&(r.reserve_date=(0,u.FB)())),document.body.contains(document.getElementById("departure_time_select_container"))&&"flexible-calendar"==t&&u.bE&&(r.trip_id=(0,u.bE)());var n=e.product;(0,u.qS)("/api/v1/cart",r).then((function(r){r.data.information_cart_frontend&&(document.querySelector("#package-checkout-wrapper .subtotal-text span").innerHTML=(0,u.cc)(r.data.information_cart_frontend.sub_total),r.data.information_cart_frontend.prices&&("flexible-any-day"==t||"flexible-calendar"==t&&r.data.reserve_date)?(document.getElementById("id-walkin-price-adult").innerHTML=Math.floor(r.data.information_cart_frontend.prices.adult_walkin),document.getElementById("id-online-deal-price-adult").innerHTML=Math.floor(r.data.information_cart_frontend.prices.deal_adult_price),n.is_adult_only||(document.getElementById("id-walkin-price-kid").innerHTML=Math.floor(r.data.information_cart_frontend.prices.kid_walkin),document.getElementById("id-online-deal-price-kid").innerHTML=Math.floor(r.data.information_cart_frontend.prices.deal_kid_price))):"flexible-calendar"!=t||r.data.reserve_date||(document.getElementById("id-online-deal-price-adult").innerHTML=Math.floor(e.product.adults_base_price&&parseFloat(e.product.adults_base_price)>0?e.product.adults_base_price:e.product.deal_adult_price),n.is_adult_only||(document.getElementById("id-online-deal-price-kid").innerHTML=Math.floor(e.product.kids_base_price&&parseFloat(e.product.kids_base_price)>0?e.product.kids_base_price:e.product.deal_kid_price))),document.getElementById("reservationQuantity-adult").setAttribute("dataprice",r.data.information_cart_frontend.prices.deal_adult_price),document.body.contains(document.getElementById("reservationQuantity-kid"))&&document.getElementById("reservationQuantity-kid").setAttribute("dataprice",r.data.information_cart_frontend.prices.deal_kid_price),ce(r.data))})).catch((function(e){return console.log(e)}))}catch(e){console.log(e)}}(t))},settings:e.settings}),e.product.has_option_price&&e.productAvailability&&r&&(0,p.jsx)(v,{datePickerRequired:k,setDatePickerRequired:j,timeslotPickerRequired:N,setTimeslotPickerRequired:E,product:e.product,productAvailability:e.productAvailability,component:"booking-window-det-page",cart:r,productsAddeBooking:ne,productOptionId:F,productAddonId:Q,flexibleSelect:z,handleUpdateCart:ce,settings:e.settings}),!e.product.has_option_price&&e.productAvailability&&r&&(0,p.jsx)(a.A,{datePickerRequired:k,setDatePickerRequired:j,timeslotPickerRequired:N,setTimeslotPickerRequired:E,package:e.product,productAvailability:e.productAvailability,component:"booking-window-det-page",cart:r,productsAddeBooking:ne,flexibleSelect:z,handleUpdateCart:ce,settings:e.settings}),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{id:"total-booking-line-container-id",className:"total-booking-line-container \n                            ".concat(e.product.has_option_price&&4==e.product.type?"sightseeing-consolidated-booking":"","\n                            ").concat(e.product.has_option_price?"has-option-price":""," \n                            ").concat(e.product.is_table_purchase?"is-table-package-price-container":"","\n                        "),children:[(0,p.jsxs)("h6",{className:"subtotal-text",children:["Total",!e.product.is_tat&&e.product.include_fees_taxes_label?" (".concat(e.product.include_fees_taxes_label,")"):"",": ",(0,p.jsx)("span",{style:{marginLeft:"5px"},className:"text-promo",children:(0,p.jsx)("span",{className:e.product.is_tat?"":"dollar-sign",children:"$"})}),(0,p.jsx)("span",{className:"promo-price",children:V&&V>0&&(!e.product.is_event||e.product.is_event&&e.productAvailability&&!e.productAvailability.sold_out)?(0,u.cc)(V):0})]}),e.product.is_tat&&!e.product.apply_taxes_fee&&parseInt(e.product.adults_processing_fee_var_1)<=0&&(0,p.jsx)("div",{className:"fees-total-wrapper",children:(0,p.jsx)("span",{className:"fees-total-label",children:"Includes taxes & fees"})})]}),!e.product.has_option_price&&e.productAvailability&&e.productAvailability.recurre_days&&e.productAvailability.recurre_days.length<=1&&!e.productAvailability.recurre_days.sold_out&&(!e.productAvailability.recurre_days.reservation_depature_time_slots||e.productAvailability.recurre_days.reservation_depature_time_slots.length<=1)&&(0,p.jsx)("div",{className:"text-center mb-1 mt-1 event-tickets-left-label promo-font-color",style:{fontSize:"0.75rem"},children:e.productAvailability.tickets_left_label}),(0,p.jsx)("div",{className:"package-buy-now-wrapper",children:(0,p.jsx)("button",{type:"submit",id:"package-buy-now",datalink:e.product.name,className:"btn btn-lg btn-block btn-primary btn-buy-now fancy-gradient d-block ",children:e.product.is_tat?"Reserve Now":"Buy Now"})}),(0,p.jsxs)("div",{id:"invalid-feedback-select-qty-msg",className:"invalid-feedback select-qty-msg",children:["Please select number of ",e.product.is_adult_only?"Guests":"adults or kids"]}),(0,p.jsx)("div",{id:"invalid-feedback-select-option-qty-msg",className:"invalid-feedback select-option-msg ",children:e.product.is_event?"Please select an admission type":"Please select an seating option before proceeding"}),h&&"package-details"==e.componentSource&&(0,p.jsx)("div",{id:"package-buy-now-sticky-wrapper",className:"contaier",children:(0,p.jsx)("button",{type:"submit","data-href":"/reservation/confirm",id:"package-buy-now-sticky",className:"btn btn-lg btn-block btn-primary fancy-gradient d-block",children:e.product.is_tat?"Reserve Now":"Buy Now"})})]})]})]})}}},e=>{e.O(0,[8508],(()=>{return t=738,e(e.s=t);var t}));e.O()}]);